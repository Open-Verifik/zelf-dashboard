import{a as Fe}from"./chunk-UXD7MUER.js";import{b as V,c as Ee,d as Ie}from"./chunk-KVH42YX2.js";import{d as me}from"./chunk-T6E2PSRK.js";import{b as ce}from"./chunk-P2THREFB.js";import{a as Pe}from"./chunk-B7YMJF7I.js";import{c as Te}from"./chunk-KSDW2XUW.js";import{a as ae,b as le,c as se}from"./chunk-3SPI2WDD.js";import"./chunk-V7IC43MV.js";import"./chunk-NDOVRKQ6.js";import{a as Z,b as K,d as Q,h as X,i as ee,j as be,k as we,l as Se}from"./chunk-SHNTY6UR.js";import{a as de}from"./chunk-K2SGGROM.js";import"./chunk-74PQ66E7.js";import{b as ue,d as y,f as fe,g as xe,l as he,o as _e,p as ve,v as ge,x as Ce,y as ye}from"./chunk-U24Z2T3V.js";import{b as oe,c as re}from"./chunk-LJHJNPXI.js";import{da as te,fa as ie,ga as ne,m as M}from"./chunk-G7WMUM3M.js";import{c as pe}from"./chunk-EH3TSKMH.js";import"./chunk-7GJ2SD7F.js";import"./chunk-J2EWY72L.js";import{d as W,e as J}from"./chunk-P75W44TP.js";import"./chunk-DHILS6ZV.js";import{m as Y,t as R}from"./chunk-TN6JIOJD.js";import{Ab as h,Fc as s,Gc as p,Ib as m,Mb as B,Pb as x,Rb as z,Sb as U,Tb as i,Ub as n,Vb as S,Zb as b,cb as L,dc as g,eb as q,fc as u,gb as t,gc as H,hb as I,hc as T,qa as j,qc as r,ra as _,rc as l,sa as v,sc as w,ub as F,vc as O,wc as $,xc as G,zc as P}from"./chunk-OXKMU5WL.js";import{a as D,b as N,g as A}from"./chunk-TSRGIXR5.js";var Ve=[[["","fuseCardFront",""]],[["","fuseCardBack",""]],"*",[["","fuseCardExpansion",""]]],De=["[fuseCardFront]","[fuseCardBack]","*","[fuseCardExpansion]"];function Ne(o,d){o&1&&(i(0,"div",0),T(1),n(),i(2,"div",1),T(3,1),n())}function Ae(o,d){o&1&&(i(0,"div",2),T(1,3),n()),o&2&&m("@expandCollapse",void 0)}function je(o,d){if(o&1&&(T(0,2),h(1,Ae,2,1,"div",2)),o&2){let e=u();t(),x(e.expanded?1:-1)}}var Be=(()=>{class o{constructor(){this.expanded=!1,this.face="front",this.flippable=!1}get classList(){return{"fuse-card-expanded":this.expanded,"fuse-card-face-back":this.flippable&&this.face==="back","fuse-card-face-front":this.flippable&&this.face==="front","fuse-card-flippable":this.flippable}}ngOnChanges(e){"expanded"in e&&(this.expanded=M(e.expanded.currentValue)),"flippable"in e&&(this.flippable=M(e.flippable.currentValue))}static{this.\u0275fac=function(c){return new(c||o)}}static{this.\u0275cmp=F({type:o,selectors:[["fuse-card"]],hostVars:2,hostBindings:function(c,a){c&2&&B(a.classList)},inputs:{expanded:"expanded",face:"face",flippable:"flippable"},exportAs:["fuseCard"],features:[j],ngContentSelectors:De,decls:2,vars:2,consts:[[1,"fuse-card-front"],[1,"fuse-card-back"],[1,"fuse-card-expansion"]],template:function(c,a){c&1&&(H(Ve),h(0,Ne,4,0)(1,je,2,1)),c&2&&(x(a.flippable?0:-1),t(),x(a.flippable?-1:1))},styles:[`fuse-card{position:relative;display:flex;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable{border-radius:0;overflow:visible;transform-style:preserve-3d;transition:transform 1s;perspective:600px;background:transparent;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-front{visibility:hidden;opacity:0;transform:rotateY(180deg)}fuse-card.fuse-card-flippable.fuse-card-face-back .fuse-card-back{visibility:visible;opacity:1;transform:rotateY(360deg)}fuse-card.fuse-card-flippable .fuse-card-front,fuse-card.fuse-card-flippable .fuse-card-back{display:flex;flex-direction:column;flex:1 1 auto;z-index:10;transition:transform .5s ease-out 0s,visibility 0s ease-in .2s,opacity 0s ease-in .2s;backface-visibility:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity));border-radius:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}fuse-card.fuse-card-flippable .fuse-card-front{position:relative;opacity:1;visibility:visible;transform:rotateY(0);overflow:hidden}fuse-card.fuse-card-flippable .fuse-card-back{position:absolute;inset:0;opacity:0;visibility:hidden;transform:rotateY(180deg);overflow:hidden auto}
`],encapsulation:2,data:{animation:de}})}}return o})();var k=class{constructor(d){let e=d.publicData;this.id=d.id,this.email=e.accountEmail||"",this.phone=e.accountPhone||"",this.company=e.accountCompany||"",this.countryCode=e.accountCountryCode||"",this.subscriptionId=e.accountSubscriptionId||"free",this.zelfProof=e.accountZelfProof||"",this.type=e.accountType||"client_account",this.name=e.name||this.extractNameFromEmail(this.email),this.createdAt=d.date_pinned,this.ipfsHash=d.ipfs_pin_hash,this.userId=d.user_id}extractNameFromEmail(d){return d?d.split("@")[0].split(".").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "):"User"}get displayName(){return this.name||this.extractNameFromEmail(this.email)}get formattedPhone(){return this.phone?`${this.countryCode} ${this.phone}`:""}get subscriptionDisplayName(){switch(this.subscriptionId.toLowerCase()){case"free":return"Free";case"premium":return"Premium";case"enterprise":return"Enterprise";default:return"Unknown"}}get isPremium(){return this.subscriptionId.toLowerCase()==="premium"||this.subscriptionId.toLowerCase()==="enterprise"}get formattedCreatedAt(){return this.createdAt?V.fromISO(this.createdAt).toLocaleString(V.DATE_FULL):""}get status(){return"Active"}};var Le=(o,d)=>d.code+d.country,qe=()=>["/profile"],ze=()=>["/settings"],Ue=()=>["/license"],He=()=>["/support"];function Oe(o,d){if(o&1){let e=b();i(0,"div",1)(1,"div",5)(2,"div",6)(3,"mat-icon",7),r(4),n(),i(5,"span"),r(6),n()(),i(7,"button",8),g("click",function(){_(e);let a=u();return v(a.clearAlert())}),i(8,"mat-icon",9),r(9,"close"),n()()()()}if(o&2){let e=u();t(),B(e.alertType==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),t(3),l(e.alertType==="success"?"check_circle":"error"),t(2),l(e.alertMessage)}}function $e(o,d){o&1&&(i(0,"div",10)(1,"mat-icon",11),r(2,"refresh"),n(),i(3,"span",12),r(4),s(5,"transloco"),n()()),o&2&&(t(4),l(p(5,1,"profile.loading")))}function Ge(o,d){if(o&1&&(i(0,"div",30),S(1,"img",31),n()),o&2){let e=u(2);t(),m("src",e.userPhoto,L)("alt",e.displayName+" avatar")}}function Ye(o,d){if(o&1&&(i(0,"div",32),r(1),n()),o&2){let e=u(2);t(),w(" ",(e.user==null||e.user.name==null?null:e.user.name[0])||e.displayName[0]," ")}}function Re(o,d){if(o&1&&(i(0,"div",13)(1,"div"),S(2,"img",14),n(),i(3,"div",15)(4,"div",16),h(5,Ge,2,2,"div",17)(6,Ye,2,1,"div",18),n(),i(7,"div",19)(8,"div",20),r(9),n(),i(10,"div",21),r(11),n()(),S(12,"div",22),i(13,"div",23)(14,"div",24)(15,"span",25),r(16),n(),i(17,"span",26),r(18),s(19,"transloco"),n()(),i(20,"div",24)(21,"span",25),r(22),n(),i(23,"span",26),r(24),s(25,"transloco"),n()()(),i(26,"div",27)(27,"a",28),r(28),s(29,"transloco"),n(),i(30,"a",29),r(31),s(32,"transloco"),n(),i(33,"a",29),r(34),s(35,"transloco"),n(),i(36,"a",29),r(37),s(38,"transloco"),n()()()()),o&2){let e=u();t(5),m("ngIf",e.userPhoto),t(),m("ngIf",!e.userPhoto&&(e.user==null?null:e.user.name)),t(3),l(e.displayName),t(2),l(e.displayCompany),t(5),l(e.accountStatus),t(2),l(p(19,16,"profile.status")),t(4),l(e.subscriptionType),t(2),l(p(25,18,"profile.menu.license")),t(3),m("routerLink",P(28,qe)),t(),l(p(29,20,"profile.menu.profile")),t(2),m("routerLink",P(29,ze)),t(),l(p(32,22,"profile.menu.settings")),t(2),m("routerLink",P(30,Ue)),t(),l(p(35,24,"profile.menu.license")),t(2),m("routerLink",P(31,He)),t(),l(p(38,26,"profile.menu.support"))}}function We(o,d){if(o&1){let e=b();i(0,"button",63),g("click",function(){_(e);let a=u(2);return v(a.toggleEditMode())}),i(1,"mat-icon",64),r(2,"edit"),n(),i(3,"span",12),r(4),s(5,"transloco"),n()()}o&2&&(t(4),l(p(5,1,"profile.edit")))}function Je(o,d){if(o&1){let e=b();i(0,"button",63),g("click",function(){_(e);let a=u(2);return v(a.toggleEditMode())}),i(1,"mat-icon",64),r(2,"close"),n(),i(3,"span",12),r(4),s(5,"transloco"),n()()}o&2&&(t(4),l(p(5,1,"profile.cancel")))}function Ze(o,d){if(o&1){let e=b();i(0,"button",65),g("click",function(){_(e);let a=u(2);return v(a.saveProfile())}),i(1,"mat-icon",64),r(2,"save"),n(),i(3,"span",12),r(4),s(5,"transloco"),n()()}o&2&&(t(4),l(p(5,1,"profile.save")))}function Ke(o,d){o&1&&(i(0,"mat-error"),r(1),s(2,"transloco"),n()),o&2&&(t(),l(p(2,1,"profile.information.name_required")))}function Qe(o,d){o&1&&(i(0,"mat-error"),r(1),s(2,"transloco"),n()),o&2&&(t(),l(p(2,1,"profile.information.name_minlength")))}function Xe(o,d){o&1&&(i(0,"mat-error"),r(1),s(2,"transloco"),n()),o&2&&(t(),l(p(2,1,"profile.information.company_required")))}function et(o,d){o&1&&(i(0,"mat-error"),r(1),s(2,"transloco"),n()),o&2&&(t(),l(p(2,1,"profile.information.email_required")))}function tt(o,d){o&1&&(i(0,"mat-error"),r(1),s(2,"transloco"),n()),o&2&&(t(),l(p(2,1,"profile.information.email_invalid")))}function it(o,d){if(o&1){let e=b();i(0,"button",53),g("click",function(){_(e);let a=u(2);return v(a.clearCountryCodeSearch())}),i(1,"mat-icon",9),r(2,"clear"),n()()}}function nt(o,d){o&1&&(i(0,"mat-error"),r(1),s(2,"transloco"),n()),o&2&&(t(),l(p(2,1,"profile.information.country_required")))}function ot(o,d){if(o&1){let e=b();i(0,"button",67),g("click",function(){let a=_(e).$implicit,C=u(3);return v(C.selectCountryCode(a))}),i(1,"span"),r(2),n(),i(3,"span",68),r(4),n(),i(5,"span",69),r(6),n()()}if(o&2){let e=d.$implicit;t(2),l(e.flag),t(2),l(e.code),t(2),l(e.country)}}function rt(o,d){if(o&1&&(i(0,"div",54),z(1,ot,7,3,"button",66,Le),n()),o&2){let e=u(2);t(),U(e.filteredCountryCodes)}}function at(o,d){o&1&&(i(0,"mat-error"),r(1),s(2,"transloco"),n()),o&2&&(t(),l(p(2,1,"profile.information.phone_required")))}function lt(o,d){o&1&&(i(0,"mat-error"),r(1),s(2,"transloco"),n()),o&2&&(t(),l(p(2,1,"profile.information.phone_invalid")))}function st(o,d){if(o&1&&(i(0,"fuse-card",70)(1,"div",36),r(2),s(3,"transloco"),n(),i(4,"div",37)(5,"div",43)(6,"div",60)(7,"span",26),r(8),s(9,"transloco"),n(),i(10,"span",61),r(11),n()(),i(12,"div",60)(13,"span",26),r(14),s(15,"transloco"),n(),i(16,"span",71),r(17),n()(),i(18,"div",60)(19,"span",26),r(20),s(21,"transloco"),n(),i(22,"span",61),r(23),n()(),i(24,"div",60)(25,"span",26),r(26),s(27,"transloco"),n(),i(28,"span",61),r(29),s(30,"transloco"),n()()(),i(31,"div",72)(32,"h4",73),r(33),s(34,"transloco"),n(),i(35,"ul",74)(36,"li"),r(37),s(38,"transloco"),n(),i(39,"li"),r(40),s(41,"transloco"),n(),i(42,"li"),r(43),s(44,"transloco"),n(),i(45,"li"),r(46),s(47,"transloco"),n(),i(48,"li"),r(49),s(50,"transloco"),n()()(),i(51,"div",75)(52,"button",76),S(53,"mat-icon",77),i(54,"span",12),r(55),s(56,"transloco"),n()(),i(57,"button",76),S(58,"mat-icon",77),i(59,"span",12),r(60),s(61,"transloco"),n()()()()()),o&2){let e=u(2);t(2),l(p(3,19,"profile.license.title")),t(6),l(p(9,21,"profile.license.type")),t(3),l(e.subscriptionType),t(3),l(p(15,23,"profile.license.status")),t(3),l(e.accountStatus),t(3),l(p(21,25,"profile.license.created")),t(3),l(e.accountCreatedAt),t(3),l(p(27,27,"profile.license.features")),t(3),l(p(30,29,"profile.license.all_features")),t(4),w("",p(34,31,"profile.license.included_features"),":"),t(4),w("\u2022 ",p(38,33,"profile.license.feature_analytics"),""),t(3),w("\u2022 ",p(41,35,"profile.license.feature_processing"),""),t(3),w("\u2022 ",p(44,37,"profile.license.feature_support"),""),t(3),w("\u2022 ",p(47,39,"profile.license.feature_api"),""),t(3),w("\u2022 ",p(50,41,"profile.license.feature_integrations"),""),t(4),m("svgIcon","heroicons_solid:arrow-path"),t(2),l(p(56,43,"profile.license.renew")),t(3),m("svgIcon","heroicons_solid:document-arrow-down"),t(2),l(p(61,45,"profile.license.download"))}}function pt(o,d){if(o&1){let e=b();i(0,"div",33)(1,"div",34)(2,"fuse-card",35)(3,"div",36),r(4),s(5,"transloco"),n(),i(6,"div",37)(7,"div",38)(8,"div",39),h(9,We,6,3,"button",40)(10,Je,6,3,"button",40)(11,Ze,6,3,"button",41),n(),i(12,"form",42)(13,"div",43)(14,"mat-form-field",44)(15,"mat-label"),r(16),s(17,"transloco"),n(),i(18,"input",45),s(19,"transloco"),g("input",function(){_(e);let a=u();return v(a.onFormChange())}),n(),h(20,Ke,3,3,"mat-error")(21,Qe,3,3,"mat-error"),n(),i(22,"mat-form-field",44)(23,"mat-label"),r(24),s(25,"transloco"),n(),i(26,"input",46),s(27,"transloco"),g("input",function(){_(e);let a=u();return v(a.onFormChange())}),n(),h(28,Xe,3,3,"mat-error"),n()(),i(29,"mat-form-field",47)(30,"mat-label"),r(31),s(32,"transloco"),n(),i(33,"input",48),s(34,"transloco"),g("input",function(){_(e);let a=u();return v(a.onFormChange())}),n(),h(35,et,3,3,"mat-error")(36,tt,3,3,"mat-error"),n(),i(37,"div",49)(38,"mat-form-field",50)(39,"mat-label"),r(40),s(41,"transloco"),n(),i(42,"input",51),G("ngModelChange",function(a){_(e);let C=u();return $(C.countryCodeSearchTerm,a)||(C.countryCodeSearchTerm=a),v(a)}),g("input",function(){_(e);let a=u();return a.filterCountryCodes(),v(a.onFormChange())}),n(),h(43,it,3,0,"button",52),i(44,"button",53),g("click",function(){_(e);let a=u();return v(a.toggleCountryDropdown())}),i(45,"mat-icon",9),r(46,"keyboard_arrow_down"),n()(),h(47,nt,3,3,"mat-error"),n(),h(48,rt,3,0,"div",54),i(49,"mat-form-field",55)(50,"mat-label"),r(51),s(52,"transloco"),n(),i(53,"input",56),s(54,"transloco"),g("input",function(){_(e);let a=u();return v(a.onFormChange())}),n(),h(55,at,3,3,"mat-error")(56,lt,3,3,"mat-error"),n()()()(),S(57,"mat-divider"),i(58,"div",57)(59,"h3",58),r(60),s(61,"transloco"),n(),i(62,"div",59)(63,"div",60)(64,"span",26),r(65),s(66,"transloco"),n(),i(67,"span",61),r(68),n()(),i(69,"div",60)(70,"span",26),r(71),s(72,"transloco"),n(),i(73,"span",61),r(74),n()()()()()(),h(75,st,62,47,"fuse-card",62),n()()}if(o&2){let e,c,a,C,E,f=u();t(4),l(p(5,34,"profile.information.title")),t(5),m("ngIf",!f.isEditing),t(),m("ngIf",f.isEditing),t(),m("ngIf",f.isEditing&&f.hasChanges),t(),m("formGroup",f.profileForm),t(2),m("subscriptSizing","dynamic"),t(2),l(p(17,36,"profile.information.name")),t(2),m("placeholder",p(19,38,"profile.information.name_placeholder")),t(2),x((e=f.profileForm.get("name"))!=null&&e.hasError("required")?20:-1),t(),x((c=f.profileForm.get("name"))!=null&&c.hasError("minlength")?21:-1),t(),m("subscriptSizing","dynamic"),t(2),l(p(25,40,"profile.information.company")),t(2),m("placeholder",p(27,42,"profile.information.company_placeholder")),t(2),x((a=f.profileForm.get("company"))!=null&&a.hasError("required")?28:-1),t(),m("subscriptSizing","dynamic"),t(2),l(p(32,44,"profile.information.email")),t(2),m("placeholder",p(34,46,"profile.information.email_placeholder")),t(2),x((C=f.profileForm.get("email"))!=null&&C.hasError("required")?35:-1),t(),x((E=f.profileForm.get("email"))!=null&&E.hasError("email")?36:-1),t(4),l(p(41,48,"profile.information.country")),t(2),O("ngModel",f.countryCodeSearchTerm),t(),x(f.countryCodeSearchTerm?43:-1),t(4),x(f.profileForm.get("countryCode").hasError("required")?47:-1),t(),x(f.showCountryDropdown&&f.filteredCountryCodes.length>0?48:-1),t(3),l(p(52,50,"profile.information.phone")),t(2),m("placeholder",p(54,52,"profile.information.phone_placeholder")),t(2),x(f.profileForm.get("phone").hasError("required")?55:-1),t(),x(f.profileForm.get("phone").hasError("pattern")?56:-1),t(4),l(p(61,54,"profile.account.title")),t(5),l(p(66,56,"profile.account.created_at")),t(3),l(f.accountCreatedAt),t(3),l(p(72,58,"profile.account.subscription")),t(3),l(f.subscriptionType),t(),m("ngIf",f.isPremium)}}var ke=(()=>{class o{constructor(e,c,a,C,E){this._authService=e,this._formBuilder=c,this._router=a,this._translocoService=C,this._saveConfirmationService=E,this.user=null,this.userPhoto=null,this.loading=!0,this.license=null,this.isEditing=!1,this.hasChanges=!1,this.showAlert=!1,this.alertMessage="",this.alertType="success",this.countryCodes=Pe,this.countryCodeSearchTerm="",this.filteredCountryCodes=this.countryCodes,this.showCountryDropdown=!1,this.profileForm=this._formBuilder.group({name:["",[y.required,y.minLength(2)]],email:["",[y.required,y.email]],countryCode:["",[y.required]],phone:["",[y.required,y.pattern(/^\d+$/)]],company:["",[y.required]]})}ngOnInit(){this.license=null,this.loadUserData()}loadUserData(){return A(this,null,function*(){try{let e=this._authService.zelfAccount;console.log({zelfAccount:e}),e&&(this.user=new k(e),this.populateForm()),this.loading=!1}catch(e){console.error("Error loading user data:",e)}finally{this.loading=!1}})}populateForm(){if(!this.user)return;let e=this.user.countryCode?this.user.countryCode.replace(/^[^\d+]*/,"").trim():"";if(this.profileForm.patchValue({name:this.user.name||"",email:this.user.email||"",countryCode:e,phone:this.user.phone||"",company:this.user.company||""}),this.user.countryCode){let c=this.user.countryCode.replace(/^[^\d+]*/,"").trim(),a=this.countryCodes.find(C=>C.code===c);a&&(this.countryCodeSearchTerm=`${a.flag} ${a.code}`,this.profileForm.patchValue({countryCode:a.code}))}this.profileForm.disable()}get displayName(){return this.user?.displayName||"User"}get displayEmail(){return this.user?.email||"user@example.com"}get displayPhone(){return this.user?.formattedPhone||"000-000-0000"}get displayCompany(){return this.user?.company||"Zelf Technology"}get subscriptionType(){return this.user?.subscriptionDisplayName||"Free"}get accountStatus(){return this.user?.status||"Active"}get accountCreatedAt(){return this.user?.formattedCreatedAt||""}get isPremium(){return this.user?.isPremium||!1}toggleEditMode(){this.isEditing=!this.isEditing,this.isEditing?this.profileForm.enable():(this.profileForm.disable(),this.hasChanges=!1,this.populateForm())}onFormChange(){if(!this.user)return;let e=this.profileForm.value,c=this.user.countryCode?this.user.countryCode.replace(/^[^\d+]*/,"").trim():"",a={name:this.user.name||"",email:this.user.email||"",countryCode:c,phone:this.user.phone||"",company:this.user.company||""};this.hasChanges=JSON.stringify(e)!==JSON.stringify(a)}filterCountryCodes(){if(!this.countryCodeSearchTerm.trim()){this.filteredCountryCodes=this.countryCodes,this.showCountryDropdown=!1;return}let e=this.countryCodeSearchTerm.toLowerCase().trim();this.filteredCountryCodes=this.countryCodes.filter(c=>c.country.toLowerCase().includes(e)||c.code.includes(e)||c.flag.includes(e)),this.showCountryDropdown=this.filteredCountryCodes.length>0}selectCountryCode(e){this.profileForm.patchValue({countryCode:e.code}),this.countryCodeSearchTerm=`${e.flag} ${e.code}`,this.filteredCountryCodes=this.countryCodes,this.showCountryDropdown=!1,this.onFormChange()}clearCountryCodeSearch(){this.countryCodeSearchTerm="",this.filteredCountryCodes=this.countryCodes,this.showCountryDropdown=!1,this.profileForm.patchValue({countryCode:""})}toggleCountryDropdown(){this.countryCodeSearchTerm||(this.countryCodeSearchTerm="",this.filteredCountryCodes=this.countryCodes,this.showCountryDropdown=!0)}saveProfile(){if(!this.isEditing){this.showError("Please enable edit mode before saving.");return}if(this.profileForm.invalid){this.showError("Please fill in all required fields correctly");return}if(!this.hasChanges){this.showError("No changes detected. Please modify at least one field before saving.");return}let e=N(D({},this.profileForm.value),{faceBase64:"",masterPassword:""});console.log("Profile data being sent:",e);let c={license:null,domainConfig:null,redirectUrl:"/profile",operation:{title:this._translocoService.translate("saving_operations.profile_update.title"),description:this._translocoService.translate("saving_operations.profile_update.description"),action:this._translocoService.translate("saving_operations.profile_update.action"),itemName:this._translocoService.translate("saving_operations.profile_update.itemName")},profileData:e};this._saveConfirmationService.setSaveData(c),this._router.navigate(["/save-confirmation"],{queryParams:{redirect:"/profile"}})}showError(e){this.alertMessage=e,this.alertType="error",this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},5e3)}showSuccess(e){this.alertMessage=e,this.alertType="success",this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},5e3)}clearAlert(){this.showAlert=!1,this.alertMessage=""}onDocumentClick(e){e.target.closest(".country-code-field")||(this.showCountryDropdown=!1)}static{this.\u0275fac=function(c){return new(c||o)(I(pe),I(ge),I(W),I(ae),I(Fe))}}static{this.\u0275cmp=F({type:o,selectors:[["profile"]],hostBindings:function(c,a){c&1&&g("click",function(E){return a.onDocumentClick(E)},!1,q)},decls:5,vars:4,consts:[[1,"flex","min-w-0","flex-auto","flex-col"],[1,"mx-6","mt-6","mb-4"],["class","flex items-center justify-center h-64",4,"ngIf"],["class","bg-card flex flex-col shadow",4,"ngIf"],["class","mx-auto flex w-full flex-auto justify-center p-6 sm:p-8",4,"ngIf"],[1,"flex","items-center","justify-between","p-4","rounded-lg"],[1,"flex","items-center"],[1,"mr-2"],["mat-icon-button","",1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"icon-size-4"],[1,"flex","items-center","justify-center","h-64"],[1,"animate-spin","text-4xl"],[1,"ml-2"],[1,"bg-card","flex","flex-col","shadow"],["src","images/pages/profile/cover.jpg","alt","Cover image",1,"h-40","object-cover","lg:h-80"],[1,"bg-card","mx-auto","flex","w-full","max-w-5xl","flex-0","flex-col","items-center","px-8","lg:h-18","lg:flex-row"],[1,"-mt-26","rounded-full","lg:-mt-22"],["class","ring-bg-card h-32 w-32 rounded-full ring-4 overflow-hidden",4,"ngIf"],["class","ring-bg-card h-32 w-32 rounded-full ring-4 flex items-center justify-center bg-primary text-white text-4xl font-bold",4,"ngIf"],[1,"mt-4","flex","flex-col","items-center","lg:ml-8","lg:mt-0","lg:items-start"],[1,"text-lg","font-bold","leading-none"],[1,"text-secondary"],[1,"mx-8","hidden","h-8","border-l-2","lg:flex"],[1,"mt-6","flex","items-center","space-x-6","lg:mt-0"],[1,"flex","flex-col","items-center"],[1,"font-bold"],[1,"text-secondary","text-sm","font-medium"],[1,"mb-4","mt-8","flex","items-center","space-x-6","lg:m-0","lg:ml-auto"],[1,"font-medium",3,"routerLink"],[1,"text-secondary",3,"routerLink"],[1,"ring-bg-card","h-32","w-32","rounded-full","ring-4","overflow-hidden"],[1,"h-full","w-full","object-cover",3,"src","alt"],[1,"ring-bg-card","h-32","w-32","rounded-full","ring-4","flex","items-center","justify-center","bg-primary","text-white","text-4xl","font-bold"],[1,"mx-auto","flex","w-full","flex-auto","justify-center","p-6","sm:p-8"],[1,"flex","flex-col","w-full","md:w-1/2"],[1,"flex","w-full","flex-col","p-8","pb-8","sm:p-10"],[1,"text-xl","font-semibold"],[1,"mt-8","flex","flex-col","space-y-6"],[1,"flex","flex-col","space-y-6"],[1,"flex","justify-end","space-x-2"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],[1,"space-y-6",3,"formGroup"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2"],[1,"w-full","mb-4",3,"subscriptSizing"],["matInput","","formControlName","name",3,"input","placeholder"],["matInput","","formControlName","company",3,"input","placeholder"],[1,"w-full","mt-6","mb-4",3,"subscriptSizing"],["matInput","","formControlName","email",3,"input","placeholder"],[1,"flex","w-full","gap-4","relative","mt-6"],[1,"w-40","country-code-field","mb-4"],["matInput","","formControlName","countryCode","placeholder","Search countries...",1,"text-sm",3,"ngModelChange","input","ngModel"],["mat-icon-button","","matSuffix","","type","button",1,"text-gray-400","hover:text-gray-600"],["mat-icon-button","","matSuffix","","type","button",1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"absolute","z-50","w-40","mt-1","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-lg","max-h-60","overflow-y-auto"],[1,"flex-1","mb-4"],["matInput","","type","tel","formControlName","phone",3,"input","placeholder"],[1,"flex","flex-col","space-y-4"],[1,"text-lg","font-medium"],[1,"grid","grid-cols-1","gap-4","sm:grid-cols-2"],[1,"flex","flex-col"],[1,"mt-1","text-lg","font-semibold"],["class","mt-8 flex w-full max-w-140 flex-col p-6 pb-6 sm:p-8",4,"ngIf"],["mat-stroked-button","",3,"click"],[1,"icon-size-5"],["mat-flat-button","","color","primary",3,"click"],["type","button",1,"w-full","px-3","py-2","text-left","hover:bg-gray-100","dark:hover:bg-gray-700","flex","items-center","gap-2"],["type","button",1,"w-full","px-3","py-2","text-left","hover:bg-gray-100","dark:hover:bg-gray-700","flex","items-center","gap-2",3,"click"],[1,"text-sm"],[1,"text-xs","text-gray-500"],[1,"mt-8","flex","w-full","max-w-140","flex-col","p-6","pb-6","sm:p-8"],[1,"mt-1","text-lg","font-semibold","text-green-500"],[1,"flex","flex-col","space-y-2"],[1,"font-medium"],[1,"text-secondary","space-y-1","text-sm"],[1,"flex","space-x-3"],["mat-stroked-button","",1,"flex-1"],[1,"icon-size-5",3,"svgIcon"]],template:function(c,a){c&1&&(i(0,"div",0),h(1,Oe,10,4,"div",1)(2,$e,6,3,"div",2)(3,Re,39,32,"div",3)(4,pt,76,60,"div",4),n()),c&2&&(t(),x(a.showAlert?1:-1),t(),m("ngIf",a.loading),t(),m("ngIf",!a.loading),t(),m("ngIf",!a.loading))},dependencies:[R,Y,J,Be,re,oe,ne,te,ie,me,ee,X,Z,K,Q,Se,we,Te,be,Ie,Ee,ce,se,le,ye,he,ue,fe,xe,_e,ve,Ce],encapsulation:2,changeDetection:0})}}return o})();var Jt=[{path:"",component:ke}];export{Jt as default};
