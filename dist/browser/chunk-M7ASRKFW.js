import{a as ue}from"./chunk-EVE5Z37O.js";import{a as ge}from"./chunk-AEPMZGV2.js";import{a as me}from"./chunk-EQ7VHPH6.js";import{a as fe}from"./chunk-RWHW4F27.js";import{a as pe}from"./chunk-OQPZ6FEU.js";import{a as de}from"./chunk-DAU7RZW4.js";import{a as G,c as H,d as Q}from"./chunk-HO6TKSQT.js";import{a as le,b as ce}from"./chunk-FS32XSOZ.js";import{c as se}from"./chunk-JJWLRRW7.js";import{j as $}from"./chunk-N6LPVSL5.js";import{c as Y}from"./chunk-TTLXDFBX.js";import{c as q,d as W}from"./chunk-DXVBJCLH.js";import{b as Z,f as ee,g as te,h as ae,k as ie,l as ne,w as oe,z as re}from"./chunk-QH2I47VF.js";import{a as X}from"./chunk-EBTKBAUO.js";import{ea as K,fa as J}from"./chunk-3CSJK4TT.js";import{a as w}from"./chunk-E6ENPQNB.js";import"./chunk-BXWN2EXF.js";import"./chunk-PIQLBEWE.js";import{b as R,d as F}from"./chunk-FXKMXYKD.js";import{r as U}from"./chunk-XX57SXRU.js";import{Ab as S,Cc as L,Dc as V,Hc as l,Ib as D,Ic as c,Jc as j,Mb as I,Pb as u,Ub as n,Vb as o,W as O,Wb as k,_b as M,ec as P,f as E,gb as i,gc as p,hb as _,ra as b,rc as r,sa as y,sc as d,tc as f,ub as B,uc as T,xc as z,yc as N,zc as A}from"./chunk-FFNUM7ZM.js";import{a as x,b as C,g as m}from"./chunk-TSRGIXR5.js";var be=s=>({itemName:s}),ye=(s,g)=>({domain:s,masterPassword:g});function Ce(s,g){if(s&1&&(n(0,"div",9)(1,"div",12)(2,"mat-icon",13),r(3),o(),n(4,"span",14),r(5),o()()()),s&2){let e=p();i(),I(e.alertType==="success"?"bg-green-50 border-green-200 text-green-800 dark:bg-green-900/20 dark:border-green-800 dark:text-green-300":"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-300"),i(2),d(e.alertType==="success"?"check_circle":"error"),i(2),d(e.alertMessage)}}function we(s,g){s&1&&(n(0,"div",10),k(1,"mat-spinner",15),n(2,"div",16)(3,"h3",17),r(4),l(5,"transloco"),o(),n(6,"p",7),r(7),l(8,"transloco"),o()()()),s&2&&(i(4),d(c(5,2,"saving_operations.processing")),i(3),d(c(8,4,"saving_operations.please_wait")))}function Se(s,g){s&1&&(n(0,"div",10)(1,"div",18)(2,"mat-icon",19),r(3,"check"),o()(),n(4,"div",16)(5,"h3",17),r(6),l(7,"transloco"),o(),n(8,"p",7),r(9),l(10,"transloco"),o()()()),s&2&&(i(6),d(c(7,2,"saving_operations.success")),i(3),d(c(10,4,"saving_operations.redirecting")))}function Pe(s,g){if(s&1&&(n(0,"div",21)(1,"div",35)(2,"span",7),r(3),l(4,"transloco"),o(),n(5,"span",36),r(6),o()(),n(7,"div",35)(8,"span",7),r(9),l(10,"transloco"),o(),n(11,"span",37),r(12),o()()()),s&2){let e=p(2);i(3),d(c(4,4,"saving_operations.domain")),i(3),d(e.saveData.domainConfig.name),i(3),d(c(10,6,"saving_operations.status")),i(3),f(" ",e.saveData.domainConfig.status," ")}}function De(s,g){if(s&1&&(n(0,"div",21)(1,"div",35)(2,"span",7),r(3),l(4,"transloco"),o(),n(5,"span",36),r(6),l(7,"transloco"),l(8,"transloco"),o()()()),s&2){let e=p(2);i(3),d(c(4,2,"saving_operations.action")),i(3),f(" ",e.saveData.securityData.operation==="loadApiKey"?c(7,4,"saving_operations.load_api_key_label"):c(8,6,"saving_operations.change_password_label")," ")}}function ke(s,g){if(s&1&&(n(0,"div",35)(1,"span",7),r(2),l(3,"transloco"),o(),n(4,"span",39),r(5),o()()),s&2){let e=p(3);i(2),d(c(3,2,"saving_operations.role")),i(3),f(" ",e.saveData.staffData.operation==="updateRole"?e.saveData.staffData.newRole:e.saveData.staffData.role," ")}}function Me(s,g){if(s&1&&(n(0,"div",21)(1,"div",35)(2,"span",7),r(3),l(4,"transloco"),o(),n(5,"span",38),r(6),l(7,"transloco"),l(8,"transloco"),l(9,"transloco"),o()(),n(10,"div",35)(11,"span",7),r(12),l(13,"transloco"),o(),n(14,"span",36),r(15),o()(),n(16,"div",35)(17,"span",7),r(18),l(19,"transloco"),o(),n(20,"span",36),r(21),o()(),S(22,ke,6,4,"div",35),o()),s&2){let e=p(2);i(3),d(c(4,7,"saving_operations.action")),i(3),f(" ",e.saveData.staffData.operation==="inviteStaff"?c(7,9,"saving_operations.invite_member"):e.saveData.staffData.operation==="removeStaff"?c(8,11,"saving_operations.remove_member"):c(9,13,"saving_operations.update_role")," "),i(6),d(c(13,15,"saving_operations.name")),i(3),d(e.saveData.staffData.staffName),i(3),d(c(19,17,"saving_operations.email")),i(3),d(e.saveData.staffData.staffEmail),i(),u(e.saveData.staffData.operation==="inviteStaff"||e.saveData.staffData.operation==="updateRole"?22:-1)}}function Oe(s,g){if(s&1&&(n(0,"div",35)(1,"span",7),r(2),l(3,"transloco"),o(),n(4,"span",36),r(5),o()()),s&2){let e=p(3);i(2),d(c(3,2,"saving_operations.company")),i(3),d(e.saveData.profileData.company)}}function Ee(s,g){s&1&&(n(0,"div",35)(1,"span",7),r(2),l(3,"transloco"),o(),n(4,"span",37),r(5),l(6,"transloco"),o()()),s&2&&(i(2),d(c(3,2,"profile.photo")),i(3),f(" ",c(6,4,"saving_operations.updated")," "))}function Be(s,g){if(s&1&&(n(0,"div",21)(1,"div",35)(2,"span",7),r(3),l(4,"transloco"),o(),n(5,"span",36),r(6),o()(),n(7,"div",35)(8,"span",7),r(9),l(10,"transloco"),o(),n(11,"span",36),r(12),o()(),n(13,"div",35)(14,"span",7),r(15),l(16,"transloco"),o(),n(17,"span",36),r(18),o()(),S(19,Oe,6,4,"div",35)(20,Ee,7,6,"div",35),o()),s&2){let e=p(2);i(3),d(c(4,9,"saving_operations.name")),i(3),d(e.saveData.profileData.name||e.saveData.profileData.staffName),i(3),d(c(10,11,"saving_operations.email")),i(3),d(e.saveData.profileData.email||e.saveData.profileData.staffEmail),i(3),d(c(16,13,"saving_operations.phone")),i(3),T(" ",e.saveData.profileData.countryCode||e.saveData.profileData.staffCountryCode," ",e.saveData.profileData.phone||e.saveData.profileData.staffPhone," "),i(),u(e.saveData.profileData.company?19:-1),i(),u(e.saveData.profileData.staffPhoto?20:-1)}}function Ie(s,g){if(s&1){let e=M();n(0,"div",22)(1,"button",40),P("click",function(){b(e);let a=p(2);return y(a.onPasskeyLogin())}),n(2,"mat-icon",30),r(3,"fingerprint"),o(),r(4),l(5,"transloco"),o(),n(6,"div",41),k(7,"div",42),n(8,"span",43),r(9),l(10,"transloco"),o(),k(11,"div",42),o()()}s&2&&(i(4),f(" ",c(5,2,"saving_operations.continue_with_passkey")," "),i(5),d(c(10,4,"saving_operations.or_use_password")))}function Te(s,g){if(s&1){let e=M();n(0,"div",20),S(1,Pe,13,8,"div",21)(2,De,9,8,"div",21)(3,Me,23,19,"div",21)(4,Be,21,15,"div",21),o(),S(5,Ie,12,6,"div",22),n(6,"form",23),P("ngSubmit",function(){b(e);let a=p();return y(a.proceedToBiometric())}),n(7,"div",24)(8,"label",25),r(9),l(10,"transloco"),o(),n(11,"div",26)(12,"mat-icon",27),r(13,"lock"),o(),n(14,"input",28),l(15,"transloco"),A("ngModelChange",function(a){b(e);let h=p();return N(h.masterPassword,a)||(h.masterPassword=a),y(a)}),o(),n(16,"button",29),P("click",function(){b(e);let a=p();return y(a.togglePasswordVisibility())}),n(17,"mat-icon",30),r(18),o()()(),n(19,"p",31),r(20),l(21,"transloco"),o()(),n(22,"div",32)(23,"button",33),P("click",function(){b(e);let a=p();return y(a.goBack())}),r(24),l(25,"transloco"),o(),n(26,"button",34),r(27),l(28,"transloco"),o()()()}if(s&2){let e=p();i(),u(e.saveData.domainConfig?1:-1),i(),u(e.saveData.securityData?2:-1),i(),u(e.saveData.staffData?3:-1),i(),u(e.saveData.profileData?4:-1),i(),u(e.hasPasskey?5:-1),i(4),d(c(10,14,"saving_operations.master_password_label")),i(5),z("ngModel",e.masterPassword),D("type",e.showPassword?"text":"password")("placeholder",c(15,16,"saving_operations.enter_master_password")),i(4),d(e.showPassword?"visibility_off":"visibility"),i(2),f(" ",j(21,18,"saving_operations.password_encrypt_data",L(25,be,(e.saveData==null||e.saveData.operation==null?null:e.saveData.operation.itemName)||"configuration"))," "),i(4),f(" ",c(25,21,"saving_operations.cancel")," "),i(2),D("disabled",!e.masterPassword.trim()),i(),f(" ",c(28,23,"saving_operations.continue")," ")}}function ze(s,g){if(s&1){let e=M();n(0,"div",11)(1,"div",44)(2,"div",45)(3,"div",46)(4,"h2",47),r(5),l(6,"transloco"),o(),n(7,"div",48)(8,"div",49)(9,"mat-icon",50),r(10,"lock"),o(),n(11,"span"),r(12,"SECURE"),o()(),n(13,"span",51),r(14),o()()(),n(15,"button",52),P("click",function(){b(e);let a=p();return y(a.onBiometricCancel())}),n(16,"mat-icon",53),r(17,"close"),o()()(),n(18,"div",54)(19,"app-data-biometrics",55),P("biometricsSuccess",function(a){b(e);let h=p();return y(h.onBiometricSuccess(a))})("biometricsCancel",function(){b(e);let a=p();return y(a.onBiometricCancel())}),o()()()()}if(s&2){let e=p();i(5),f(" ",c(6,4,"save_confirmation.biometric_verification")," "),i(9),f(" ",(e.saveData==null||e.saveData.domainConfig==null?null:e.saveData.domainConfig.name)||(e.saveData==null||e.saveData.operation==null?null:e.saveData.operation.itemName)||"configuration"," "),i(5),D("userData",V(6,ye,(e.saveData==null||e.saveData.domainConfig==null?null:e.saveData.domainConfig.name)||(e.saveData==null||e.saveData.operation==null?null:e.saveData.operation.itemName),e.masterPassword))("isModalContext",!0)}}var rt=(()=>{class s{constructor(e,t,a,h,v,he,ve,_e,xe){this.saveConfirmationService=e,this.httpWrapper=t,this.authService=a,this.router=h,this.route=v,this.translocoService=he,this.passkeyService=ve,this.staffService=_e,this.clientService=xe,this.destroy$=new E,this.masterPassword="",this.showPassword=!1,this.hasPasskey=!1,this.showBiometricModal=!1,this.isLoading=!1,this.isSuccess=!1,this.showAlert=!1,this.alertMessage="",this.alertType="success",this.saveData=null,this.redirectUrl="/settings/license"}ngOnInit(){this.route.queryParams.pipe(O(this.destroy$)).subscribe(t=>{t.redirect&&(this.redirectUrl=t.redirect)}),this.saveConfirmationService.saveData$.pipe(O(this.destroy$)).subscribe(t=>{if(t){this.saveData=t,t.redirectUrl&&(this.redirectUrl=t.redirectUrl);return}this.router.navigate([this.redirectUrl])});let e=this.authService.zelfAccount?.publicData?.accountEmail||this.authService.zelfAccount?.publicData?.staffEmail;e&&this.passkeyService.getPasskeyMetadata(e).then(t=>{t&&(this.hasPasskey=!0)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}togglePasswordVisibility(){this.showPassword=!this.showPassword}onPasskeyLogin(){return m(this,null,function*(){this.isLoading=!0;try{let e=this.authService.zelfAccount?.publicData?.accountEmail||this.authService.zelfAccount?.publicData?.staffEmail;if(!e)throw new Error("No user email found");let t=yield this.passkeyService.getPasskeyMetadata(e);if(!t)throw new Error("No passkey metadata found");let a=yield this.passkeyService.authenticate(t.credentialId,this.passkeyService.base64ToBuffer(t.salt));if(a){let h=yield this.passkeyService.decryptPassword(t.ciphertext,t.iv,a);if(h){this.masterPassword=h,this.isLoading=!1,this.proceedToBiometric();return}}throw new Error("Passkey authentication failed")}catch(e){console.error("Passkey login error:",e),this.showError("Passkey login failed. Please use your master password."),this.isLoading=!1}})}proceedToBiometric(){if(!this.masterPassword.trim()){this.showError("Please enter your master password");return}if(!this.saveData){this.showError("No save data available");return}this.showBiometricModal=!0}onBiometricSuccess(e){if(this.showBiometricModal=!1,this.isLoading||(this.isLoading=!0),!this.saveData){this.showError("No save data available"),this.isLoading=!1;return}this.saveData.securityData?this.handleSecurityOperation(e):this.saveData.themeData?this.handleThemeOperation(e):this.saveData.domainConfig&&!this.saveData.domain?this.handleLicenseOperation(e):this.saveData.domainConfig?this.handleDomainConfigOperation(e):this.saveData.profileData?this.handleProfileOperation(e):this.saveData.staffData?this.handleStaffOperation(e):(this.showError("Invalid operation data"),this.isLoading=!1)}onBiometricCancel(){this.showBiometricModal=!1}goBack(){this.saveConfirmationService.clearSaveData(),this.router.navigate([this.redirectUrl])}handleSecurityOperation(e){return m(this,null,function*(){if(!this.saveData?.securityData){this.showError("No security data available"),this.isLoading=!1;return}try{let t=C(x({},this.saveData.securityData),{faceBase64:e.faceBase64,masterPassword:e.password||this.masterPassword});t.operation==="loadApiKey"?yield this.loadApiKey(t):t.operation==="changePassword"?yield this.changePassword(t):(this.showError("Unknown security operation"),this.isLoading=!1)}catch{let a=this.saveData?.securityData?.operation==="loadApiKey"?"load API key":"change password";this.showError(`Failed to ${a}. Please try again.`)}finally{this.isLoading=!1}})}handleThemeOperation(e){return m(this,null,function*(){if(!this.saveData?.themeData){this.showError("No theme data available"),this.isLoading=!1;return}try{let t=C(x({},this.saveData.themeData),{faceBase64:e.faceBase64,masterPassword:e.password||this.masterPassword});t.operation==="updateThemeSettings"?yield this.updateThemeSettings(t):(this.showError("Unknown theme operation"),this.isLoading=!1)}catch{this.showError("Failed to update theme settings. Please try again.")}finally{this.isLoading=!1}})}handleLicenseOperation(e){return m(this,null,function*(){if(!this.saveData?.domainConfig){this.showError("No license data available"),this.isLoading=!1;return}try{let t={domain:this.saveData.domainConfig.name,domainConfig:this.saveData.domainConfig,faceBase64:e.faceBase64,masterPassword:e.password||this.masterPassword};yield this.createLicense(t)}catch{this.showError("Failed to save license. Please try again.")}finally{this.isLoading=!1}})}handleDomainConfigOperation(e){return m(this,null,function*(){if(!this.saveData?.domainConfig){this.showError("No domain config data available"),this.isLoading=!1;return}try{let t={domain:this.saveData.domain,domainConfig:this.saveData.domainConfig,faceBase64:e.faceBase64,masterPassword:e.password||this.masterPassword};yield this.createLicense(t)}catch{this.showError("Failed to update license configuration. Please try again.")}finally{this.isLoading=!1}})}handleProfileOperation(e){return m(this,null,function*(){if(!this.saveData?.profileData){this.showError("No profile data available"),this.isLoading=!1;return}try{let t=C(x({},this.saveData.profileData),{faceBase64:e.faceBase64,masterPassword:e.password||this.masterPassword});yield this.updateProfile(t)}catch(t){let a="Failed to update profile. Please try again.";t?.message&&(t.message.includes("error_decrypting_zelf_account")?a="Biometric verification failed. Please check your face image and master password.":t.message.includes("zelf_account_not_found")||t.message.includes("404")?a="Account not found. Please contact support.":t.message.includes("409")?a="Verification failed. Please try again.":a=t.message),this.showError(a)}finally{this.isLoading=!1}})}handleStaffOperation(e){return m(this,null,function*(){if(!this.saveData?.staffData){this.showError("No staff data available"),this.isLoading=!1;return}try{let t=C(x({},this.saveData.staffData),{faceBase64:e.faceBase64,masterPassword:e.password||this.masterPassword});switch(t.operation){case"inviteStaff":yield this.inviteStaff(t);break;case"removeStaff":yield this.removeStaff(t);break;case"updateRole":yield this.updateStaffRole(t);break;default:throw new Error("Unknown staff operation")}}catch(t){let a="Failed to complete staff operation. Please try again.";t?.message&&(t.message.includes("FACE IS NOT CENTRAL")?a="Face is not central. Please use an image with a central face.":t.message.includes("error_decrypting_zelf_account")?a="Biometric verification failed. Please check your face image and master password.":t.message.includes("staff_already_exists")?a="This staff member already exists.":t.message.includes("staff_not_found")?a="Staff member not found.":t.message.includes("verification_failed")?a="Verification failed. Please try again.":a=t.message),this.showError(a)}finally{this.isLoading=!1}})}loadApiKey(e){return m(this,null,function*(){try{let a=this.authService.zelfAccount?.publicData?.accountEmail,h=C(x({},e),{email:a,identificationMethod:"email"}),v=yield this.httpWrapper.sendRequest("post",`${w.apiUrl}${w.endpoints.security.loadApiKey}`,h);if(v&&v.data&&v.data.apiKey)sessionStorage.setItem("apiKey",v.data.apiKey),v.data.token&&localStorage.setItem("accessToken",v.data.token),v.data.zelfAccount&&localStorage.setItem("zelfAccount",JSON.stringify(v.data.zelfAccount)),v.data.zelfProof&&localStorage.setItem("zelfProof",v.data.zelfProof),this.showSuccess(this.translocoService.translate("saving_operations.api_key_loaded_successfully",{itemName:this.saveData?.operation?.itemName||"API Key"}));else throw new Error("No API key received from server");setTimeout(()=>{this.saveConfirmationService.clearSaveData(),this.router.navigate([this.redirectUrl])},2e3)}catch(t){throw t}})}changePassword(e){return m(this,null,function*(){try{let t=C(x({},e),{identificationMethod:"email"}),a=yield this.httpWrapper.sendRequest("put",`${w.apiUrl}${w.endpoints.security.changePassword}`,t);a&&a.data&&(this.showSuccess(this.translocoService.translate("saving_operations.password_changed_successfully",{itemName:this.saveData?.operation?.itemName||"Password"})),setTimeout(()=>{this.saveConfirmationService.clearSaveData(),this.router.navigate([this.redirectUrl])},2e3))}catch(t){throw t}})}updateThemeSettings(e){return m(this,null,function*(){try{let t=C(x({},e),{identificationMethod:"email"}),a=yield this.httpWrapper.sendRequest("post",`${w.apiUrl}/api/license/theme`,t);a&&a.data&&(this.showSuccess(this.translocoService.translate("saving_operations.theme_settings_updated_successfully",{itemName:this.saveData?.operation?.itemName||"Theme Settings"})),setTimeout(()=>{this.saveConfirmationService.clearSaveData(),this.router.navigate([this.redirectUrl])},2e3))}catch(t){throw t}})}createLicense(e){return m(this,null,function*(){try{let t=yield this.httpWrapper.sendRequest("post",`${w.apiUrl}${w.endpoints.license.create}`,e),a=me.fromAPIResponseWithWrapper(t);localStorage.setItem("license",JSON.stringify(a.toJSON())),this.showSuccess(this.translocoService.translate("saving_operations.created_successfully",{itemName:this.saveData?.operation?.itemName||"Configuration"})),setTimeout(()=>{this.saveConfirmationService.clearSaveData(),this.router.navigate([this.redirectUrl])},2e3)}catch(t){throw t}})}updateProfile(e){return m(this,null,function*(){try{let t=x({},e),a;if(this.authService.zelfAccount?.publicData?.accountType==="staff_account"?a=yield this.staffService.updateProfile(t):a=yield this.clientService.updateProfile(t),a&&a.data)a.data.zelfAccount&&(localStorage.setItem("zelfAccount",JSON.stringify(a.data.zelfAccount)),this.authService.setSession({zelfProof:a.data.zelfProof||this.authService.zelfProof,zelfAccount:a.data.zelfAccount})),a.data.zelfProof&&localStorage.setItem("zelfProof",a.data.zelfProof),this.showSuccess(this.translocoService.translate("saving_operations.updated_successfully",{itemName:this.saveData?.operation?.itemName||"Profile"})),setTimeout(()=>{this.saveConfirmationService.clearSaveData(),this.router.navigate([this.redirectUrl])},2e3);else throw new Error("No response data received from server")}catch(t){throw t}})}showSuccess(e){this.isSuccess=!0,this.alertMessage=e,this.alertType="success",this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},5e3)}inviteStaff(e){return m(this,null,function*(){let t=yield this.staffService.inviteStaff({staffEmail:e.staffEmail,staffPhone:e.staffPhone,staffCountryCode:e.staffCountryCode,staffName:e.staffName,role:e.role,faceBase64:e.faceBase64,masterPassword:e.masterPassword,isResend:e.isResend});this.showSuccess("Invitation sent successfully!"),setTimeout(()=>{this.router.navigate([this.saveData?.redirectUrl||"/settings/team"])},2e3)})}removeStaff(e){return m(this,null,function*(){yield this.staffService.removeStaff({staffEmail:e.staffEmail,faceBase64:e.faceBase64,masterPassword:e.masterPassword}),this.showSuccess("Staff member removed successfully!"),setTimeout(()=>{this.router.navigate([this.saveData?.redirectUrl||"/settings/team"])},2e3)})}updateStaffRole(e){return m(this,null,function*(){yield this.staffService.updateRole({staffEmail:e.staffEmail,newRole:e.newRole,faceBase64:e.faceBase64,masterPassword:e.masterPassword}),this.showSuccess("Role updated successfully!"),setTimeout(()=>{this.router.navigate([this.saveData?.redirectUrl||"/settings/team"])},2e3)})}showError(e){this.alertMessage=e,this.alertType="error",this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},5e3)}static{this.\u0275fac=function(t){return new(t||s)(_(fe),_(X),_(Y),_(F),_(R),_(G),_(pe),_(ge),_(ue))}}static{this.\u0275cmp=B({type:s,selectors:[["app-save-confirmation"]],decls:19,vars:12,consts:[[1,"flex","flex-col","min-h-screen","bg-gray-50/50","dark:bg-gray-900","w-full","items-center","justify-center","p-4"],[1,"w-full","max-w-md","animate-fade-in"],[1,"bg-white","dark:bg-slate-800","rounded-3xl","shadow-xl","overflow-hidden","border","border-gray-100","dark:border-gray-700/50"],[1,"p-8","pb-0","text-center"],[1,"w-16","h-16","mx-auto","rounded-full","bg-blue-100","dark:bg-blue-900/30","flex","items-center","justify-center","text-blue-600","dark:text-blue-400","mb-6","shadow-sm"],[1,"icon-size-8","font-material-symbols-outlined"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"p-8"],[1,"mb-6","animate-fade-in"],[1,"flex","flex-col","items-center","justify-center","py-8","space-y-4"],[1,"fixed","inset-0","bg-black/60","backdrop-blur-md","flex","items-center","justify-center","z-50","p-4","transition-opacity","duration-300","animate-fade-in"],[1,"flex","items-center","gap-3","p-4","rounded-2xl","border","transition-all","duration-300"],[1,"icon-size-5","shrink-0"],[1,"text-sm","font-medium"],["diameter","40",1,"text-blue-600","dark:text-blue-400"],[1,"text-center"],[1,"font-semibold","text-gray-900","dark:text-white"],[1,"w-12","h-12","rounded-full","bg-green-100","dark:bg-green-900/30","flex","items-center","justify-center","text-green-600","dark:text-green-400"],[1,"icon-size-6"],[1,"bg-gray-50","dark:bg-gray-900/50","rounded-2xl","p-4","border","border-gray-200","dark:border-gray-700","mb-6"],[1,"space-y-2"],[1,"mb-6"],[3,"ngSubmit"],[1,"space-y-1.5","mb-6"],[1,"text-sm","font-semibold","text-gray-700","dark:text-gray-300","ml-1"],[1,"flex","items-center","w-full","bg-gray-50","dark:bg-gray-900/50","border","border-gray-200","dark:border-gray-700","rounded-xl","px-4","focus-within:border-blue-500","dark:focus-within:border-blue-500","focus-within:ring-4","focus-within:ring-blue-500/10","transition-all"],[1,"text-gray-400","icon-size-5","mr-2"],["name","masterPassword","required","",1,"flex-1","bg-transparent","border-none","focus:ring-0","text-gray-900","dark:text-white","py-3","font-medium","placeholder-gray-400",3,"ngModelChange","ngModel","type","placeholder"],["type","button",1,"text-gray-400","hover:text-gray-600","dark:hover:text-gray-300","transition-colors","ml-2",3,"click"],[1,"icon-size-5"],[1,"text-xs","text-gray-500","dark:text-gray-400","pl-1"],[1,"grid","grid-cols-2","gap-4"],["type","button",1,"px-4","py-2.5","rounded-xl","border","border-gray-200","dark:border-gray-700","text-gray-600","dark:text-gray-300","font-semibold","hover:bg-gray-50","dark:hover:bg-gray-800","transition-colors",3,"click"],["type","submit",1,"px-4","py-2.5","rounded-xl","bg-gray-900","dark:bg-white","text-white","dark:text-gray-900","font-bold","hover:bg-gray-800","dark:hover:bg-gray-100","transition-colors","shadow-lg","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","justify-between","items-center"],[1,"text-sm","font-semibold","text-gray-900","dark:text-white"],[1,"text-xs","font-bold","uppercase","px-2","py-0.5","rounded","bg-green-100","text-green-700","dark:bg-green-900/30","dark:text-green-300"],[1,"text-sm","font-semibold","text-gray-900","dark:text-white","capitalize"],[1,"text-xs","font-bold","uppercase","px-2","py-0.5","rounded","bg-blue-100","text-blue-700","dark:bg-blue-900/30","dark:text-blue-300"],["type","button",1,"w-full","flex","items-center","justify-center","gap-3","px-4","py-3","bg-blue-50","dark:bg-blue-900/20","text-blue-700","dark:text-blue-300","rounded-xl","font-semibold","hover:bg-blue-100","dark:hover:bg-blue-900/30","transition-colors","border","border-blue-200","dark:border-blue-800",3,"click"],[1,"mt-4","flex","items-center","gap-3"],[1,"h-px","bg-gray-200","dark:bg-gray-700","flex-1"],[1,"text-xs","font-medium","text-gray-400","uppercase"],[1,"bg-white","dark:bg-slate-900","rounded-3xl","w-full","max-w-4xl","max-h-[90vh]","overflow-hidden","shadow-2xl","flex","flex-col"],[1,"px-6","py-5","flex","items-center","justify-between","shrink-0","border-b","border-gray-100","dark:border-gray-800"],[1,"flex","flex-col"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","leading-tight","tracking-tight"],[1,"flex","items-center","gap-1.5","mt-1"],[1,"bg-blue-50","dark:bg-blue-900/30","text-blue-600","dark:text-blue-400","rounded-full","px-2","py-0.5","text-[11px]","font-semibold","uppercase","tracking-wide","flex","items-center","gap-1"],[1,"icon-size-3"],[1,"text-xs","font-medium","text-gray-500","dark:text-gray-400"],["mat-icon-button","",1,"w-8","h-8","flex","items-center","justify-center","bg-gray-100","hover:bg-gray-200","dark:bg-gray-800","dark:hover:bg-gray-700","rounded-full","transition-colors",3,"click"],[1,"icon-size-4","text-gray-500","dark:text-gray-400"],[1,"p-0","pt-4","pb-8","overflow-y-auto","flex-1","flex","flex-col","justify-center","items-center"],[3,"biometricsSuccess","biometricsCancel","userData","isModalContext"]],template:function(t,a){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),r(6),o()(),n(7,"h2",6),r(8),l(9,"transloco"),o(),n(10,"p",7),r(11),l(12,"transloco"),o()(),n(13,"div",8),S(14,Ce,6,4,"div",9)(15,we,9,6,"div",10)(16,Se,11,6,"div",10)(17,Te,29,27),o()(),S(18,ze,20,9,"div",11),o()()),t&2&&(i(6),f(" ",a.saveData!=null&&a.saveData.securityData?"lock":a.saveData!=null&&a.saveData.themeData?"palette":"verified_user"," "),i(2),f(" ",(a.saveData==null||a.saveData.operation==null?null:a.saveData.operation.title)||c(9,8,"saving_operations.confirm_changes")," "),i(3),f(" ",(a.saveData==null||a.saveData.operation==null?null:a.saveData.operation.description)||c(12,10,"saving_operations.enter_password_proceed")," "),i(3),u(a.showAlert?14:-1),i(),u(a.isLoading?15:-1),i(),u(a.isSuccess?16:-1),i(),u(!a.isLoading&&!a.isSuccess&&a.saveData?17:-1),i(),u(a.showBiometricModal?18:-1))},dependencies:[U,re,ne,Z,ee,te,oe,ie,ae,W,q,$,se,J,K,ce,le,de,Q,H],styles:[".fixed[_ngcontent-%COMP%]{position:fixed!important;z-index:99999!important}.dark[_ngcontent-%COMP%]   .bg-gray-50[_ngcontent-%COMP%]{background-color:#111827}.dark[_ngcontent-%COMP%]   .bg-gray-800[_ngcontent-%COMP%]{background-color:#1f2937}.dark[_ngcontent-%COMP%]   .text-gray-900[_ngcontent-%COMP%]{color:#f9fafb}.dark[_ngcontent-%COMP%]   .text-gray-600[_ngcontent-%COMP%]{color:#d1d5db}.dark[_ngcontent-%COMP%]   .text-gray-400[_ngcontent-%COMP%]{color:#9ca3af}mat-form-field[_ngcontent-%COMP%]{width:100%}button[mat-flat-button][_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}button[mat-flat-button][_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2563eb}button[mat-flat-button][_ngcontent-%COMP%]:disabled{background-color:#9ca3af;color:#6b7280}button[mat-stroked-button][_ngcontent-%COMP%]{border-color:#d1d5db;color:#374151}button[mat-stroked-button][_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f9fafb}button[mat-stroked-button][_ngcontent-%COMP%]:disabled{border-color:#e5e7eb;color:#9ca3af}.mx-auto[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.h-12[_ngcontent-%COMP%]{height:3rem}.w-12[_ngcontent-%COMP%]{width:3rem}.h-6[_ngcontent-%COMP%]{height:1.5rem}.w-6[_ngcontent-%COMP%]{width:1.5rem}.text-3xl[_ngcontent-%COMP%]{font-size:1.875rem;line-height:2.25rem}.font-extrabold[_ngcontent-%COMP%]{font-weight:800}.text-sm[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}.space-y-8[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:2rem}.space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:1.5rem}.space-y-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-top:.5rem}.space-x-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:1rem}.mt-6[_ngcontent-%COMP%]{margin-top:1.5rem}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem}.mt-8[_ngcontent-%COMP%]{margin-top:2rem}.mb-4[_ngcontent-%COMP%]{margin-bottom:1rem}.mr-2[_ngcontent-%COMP%]{margin-right:.5rem}.p-4[_ngcontent-%COMP%]{padding:1rem}.p-6[_ngcontent-%COMP%]{padding:1.5rem}.flex[_ngcontent-%COMP%]{display:flex}.items-center[_ngcontent-%COMP%]{align-items:center}.justify-center[_ngcontent-%COMP%]{justify-content:center}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.flex-1[_ngcontent-%COMP%]{flex:1 1 0%}.max-w-md[_ngcontent-%COMP%]{max-width:28rem}.w-full[_ngcontent-%COMP%]{width:100%}.min-h-screen[_ngcontent-%COMP%]{min-height:100vh}.bg-blue-100[_ngcontent-%COMP%]{background-color:#dbeafe}.bg-green-50[_ngcontent-%COMP%]{background-color:#f0fdf4}.bg-red-50[_ngcontent-%COMP%]{background-color:#fef2f2}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.bg-gray-50[_ngcontent-%COMP%]{background-color:#f9fafb}.bg-gray-800[_ngcontent-%COMP%]{background-color:#1f2937}.bg-gray-900[_ngcontent-%COMP%]{background-color:#111827}.text-blue-600[_ngcontent-%COMP%]{color:#2563eb}.text-blue-400[_ngcontent-%COMP%]{color:#60a5fa}.text-green-800[_ngcontent-%COMP%]{color:#166534}.text-red-800[_ngcontent-%COMP%]{color:#991b1b}.text-gray-900[_ngcontent-%COMP%]{color:#111827}.text-gray-600[_ngcontent-%COMP%]{color:#4b5563}.text-gray-500[_ngcontent-%COMP%]{color:#6b7280}.text-gray-400[_ngcontent-%COMP%]{color:#9ca3af}.text-white[_ngcontent-%COMP%]{color:#fff}.border-green-200[_ngcontent-%COMP%]{border-color:#bbf7d0}.border-red-200[_ngcontent-%COMP%]{border-color:#fecaca}.border-gray-200[_ngcontent-%COMP%]{border-color:#e5e7eb}.border-gray-700[_ngcontent-%COMP%]{border-color:#374151}.rounded-full[_ngcontent-%COMP%]{border-radius:9999px}.rounded-lg[_ngcontent-%COMP%]{border-radius:.5rem}.rounded-md[_ngcontent-%COMP%]{border-radius:.375rem}.border[_ngcontent-%COMP%]{border-width:1px}.border-b[_ngcontent-%COMP%]{border-bottom-width:1px}.shadow[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f}.shadow-2xl[_ngcontent-%COMP%]{box-shadow:0 25px 50px -12px #00000040}.z-50[_ngcontent-%COMP%]{z-index:50}@media (max-width: 640px){.max-w-md[_ngcontent-%COMP%]{max-width:100%}.p-4[_ngcontent-%COMP%]{padding:.75rem}.p-6[_ngcontent-%COMP%]{padding:1rem}}"]})}}return s})();export{rt as SaveConfirmationComponent};
