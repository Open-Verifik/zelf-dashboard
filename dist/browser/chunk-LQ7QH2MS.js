import{a as Se}from"./chunk-AXO5FG3T.js";import{a as ve,b as ye,c as xe,d as _e}from"./chunk-SKB76LNA.js";import{a as fe,b as be}from"./chunk-MUQRLVLL.js";import"./chunk-IY2LCN2B.js";import{e as re}from"./chunk-HKZCOKJ5.js";import{a as N,c as ue,d as me}from"./chunk-CWADPOBT.js";import{a as se,c as le,d as ce}from"./chunk-AH65Y7SD.js";import{a as Ce}from"./chunk-OLKRQMP7.js";import{a as he}from"./chunk-LW2DGXIP.js";import{E as te,G as bt,H as ee,K as vt,Q as ie,S as ae,T as ne,U as oe,ea as de,fa as pe,j as Kt}from"./chunk-3S5Q73EG.js";import{a as ge}from"./chunk-E6ENPQNB.js";import"./chunk-HFS7MMEA.js";import{d as Jt}from"./chunk-6ZNT62BP.js";import{h as Wt,o as Qt,q as B,r as qt,w as Xt}from"./chunk-53Z5H5E5.js";import{$ as It,Ab as $,Ac as Ht,Ba as tt,Ca as Bt,Ea as Et,Fa as C,Ga as Ft,Hb as it,Hc as u,Ib as b,Ic as m,Jb as at,Jc as z,Kb as ht,La as Pt,Ma as Rt,Pb as U,Pc as D,Qb as nt,Sb as ot,Tb as rt,Tc as V,Ub as l,Vb as c,W as kt,Wb as v,Y as wt,_b as Gt,aa as Dt,ba as K,da as ut,ec as st,f as _t,fa as Tt,g as Ct,ga as I,gb as n,gc as L,hb as x,hc as Yt,i as St,ic as jt,jc as $t,kc as Ut,lc as gt,mc as ft,ob as Lt,oc as zt,pb as Nt,pc as Zt,qa as A,qc as F,ra as Mt,rc as p,sa as Ot,sc as f,tc as S,ub as w,uc as Y,vb as et,wb as Vt,ya as At,zb as mt}from"./chunk-3HE7R7QB.js";import{a as J,b as xt,g as H}from"./chunk-TSRGIXR5.js";var Pe=["button"],Re=["*"];function Le(s,T){if(s&1&&(l(0,"div",2),v(1,"mat-pseudo-checkbox",6),c()),s&2){let t=L();n(),b("disabled",t.disabled)}}var ke=new ut("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:Ne});function Ne(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}var we=new ut("MatButtonToggleGroup"),Ve={provide:Ce,useExisting:It(()=>yt),multi:!0},lt=class{source;value;constructor(T,t){this.source=T,this.value=t}},yt=(()=>{class s{_changeDetector=I(D);_dir=I(ee,{optional:!0});_multiple=!1;_disabled=!1;_disabledInteractive=!1;_selectionModel;_rawValue;_controlValueAccessorChangeFn=()=>{};_onTouched=()=>{};_buttonToggles;appearance;get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}_name=I(bt).getId("mat-button-toggle-group-");vertical;get value(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(e=>e.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}valueChange=new tt;get selected(){let t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}change=new tt;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._markButtonsForCheck()}_hideSingleSelectionIndicator;get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(t){this._hideMultipleSelectionIndicator=t,this._markButtonsForCheck()}_hideMultipleSelectionIndicator;constructor(){let t=I(ke,{optional:!0});this.appearance=t&&t.appearance?t.appearance:"standard",this.hideSingleSelectionIndicator=t?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=t?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new re(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked)),this.multiple||this._initializeTabIndex()}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_keydown(t){if(this.multiple||this.disabled)return;let i=t.target.id,a=this._buttonToggles.toArray().findIndex(r=>r.buttonId===i),d=null;switch(t.keyCode){case 32:case 13:d=this._buttonToggles.get(a)||null;break;case 38:d=this._getNextButton(a,-1);break;case 37:d=this._getNextButton(a,this.dir==="ltr"?-1:1);break;case 40:d=this._getNextButton(a,1);break;case 39:d=this._getNextButton(a,this.dir==="ltr"?1:-1);break;default:return}d&&(t.preventDefault(),d._onButtonClick(),d.focus())}_emitChangeEvent(t){let e=new lt(t,this.value);this._rawValue=e.value,this._controlValueAccessorChangeFn(e.value),this.change.emit(e)}_syncButtonToggle(t,e,i=!1,a=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?e?this._selectionModel.select(t):this._selectionModel.deselect(t):a=!0,a?Promise.resolve().then(()=>this._updateModelValue(t,i)):this._updateModelValue(t,i)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(e=>t.value!=null&&e===t.value):t.value===this._rawValue}_initializeTabIndex(){if(this._buttonToggles.forEach(t=>{t.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let t=0;t<this._buttonToggles.length;t++){let e=this._buttonToggles.get(t);if(!e.disabled){e.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(t,e){let i=this._buttonToggles;for(let a=1;a<=i.length;a++){let d=(t+e*a+i.length)%i.length,r=i.get(d);if(r&&!r.disabled)return r}return null}_setSelectionByValue(t){if(this._rawValue=t,!this._buttonToggles)return;let e=this._buttonToggles.toArray();if(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i,e))):(this._clearSelection(),this._selectValue(t,e)),!this.multiple&&e.every(i=>i.tabIndex===-1)){for(let i of e)if(!i.disabled){i.tabIndex=0;break}}}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>{t.checked=!1,this.multiple||(t.tabIndex=-1)})}_selectValue(t,e){for(let i of e)if(i.value!=null&&i.value===t){i.checked=!0,this._selectionModel.select(i),this.multiple||(i.tabIndex=0);break}}_updateModelValue(t,e){e&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}static \u0275fac=function(e){return new(e||s)};static \u0275dir=Vt({type:s,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,i,a){if(e&1&&$t(a,ct,5),e&2){let d;gt(d=ft())&&(i._buttonToggles=d)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(e,i){e&1&&st("keydown",function(d){return i._keydown(d)}),e&2&&(it("role",i.multiple?"group":"radiogroup")("aria-disabled",i.disabled),ht("mat-button-toggle-vertical",i.vertical)("mat-button-toggle-group-appearance-standard",i.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",V],value:"value",multiple:[2,"multiple","multiple",V],disabled:[2,"disabled","disabled",V],disabledInteractive:[2,"disabledInteractive","disabledInteractive",V],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",V],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",V]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[Ht([Ve,{provide:we,useExisting:s}]),mt]})}return s})(),ct=(()=>{class s{_changeDetectorRef=I(D);_elementRef=I(Ft);_focusMonitor=I(te);_idGenerator=I(bt);_animationMode=I(Rt,{optional:!0});_checked=!1;ariaLabel;ariaLabelledby=null;_buttonElement;buttonToggleGroup;get buttonId(){return`${this.id}-button`}id;name;value;get tabIndex(){return this._tabIndex}set tabIndex(t){t!==this._tabIndex&&(this._tabIndex=t,this._markForCheck())}_tabIndex;disableRipple;get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}_appearance;get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}_disabled=!1;get disabledInteractive(){return this._disabledInteractive||this.buttonToggleGroup!==null&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}_disabledInteractive;change=new tt;constructor(){I(Kt).load(ie);let t=I(we,{optional:!0}),e=I(new At("tabindex"),{optional:!0})||"",i=I(ke,{optional:!0});this._tabIndex=parseInt(e)||0,this.buttonToggleGroup=t,this.appearance=i&&i.appearance?i.appearance:"standard",this.disabledInteractive=i?.disabledInteractive??!1}ngOnInit(){let t=this.buttonToggleGroup;this.id=this.id||this._idGenerator.getId("mat-button-toggle-"),t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._animationMode!=="NoopAnimations"&&this._elementRef.nativeElement.classList.add("mat-button-toggle-animations-enabled"),this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){if(this.disabled)return;let t=this.isSingleSelector()?!0:!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let e=this.buttonToggleGroup._buttonToggles.find(i=>i.tabIndex===0);e&&(e.tabIndex=-1),this.tabIndex=0}this.change.emit(new lt(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=w({type:s,selectors:[["mat-button-toggle"]],viewQuery:function(e,i){if(e&1&&Ut(Pe,5),e&2){let a;gt(a=ft())&&(i._buttonElement=a.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(e,i){e&1&&st("focus",function(){return i.focus()}),e&2&&(it("aria-label",null)("aria-labelledby",null)("id",i.id)("name",null),ht("mat-button-toggle-standalone",!i.buttonToggleGroup)("mat-button-toggle-checked",i.checked)("mat-button-toggle-disabled",i.disabled)("mat-button-toggle-disabled-interactive",i.disabledInteractive)("mat-button-toggle-appearance-standard",i.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",V],appearance:"appearance",checked:[2,"checked","checked",V],disabled:[2,"disabled","disabled",V],disabledInteractive:[2,"disabledInteractive","disabledInteractive",V]},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[mt],ngContentSelectors:Re,decls:7,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-checkbox-wrapper"],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"],["state","checked","aria-hidden","true","appearance","minimal",3,"disabled"]],template:function(e,i){if(e&1){let a=Gt();Yt(),l(0,"button",1,0),st("click",function(){return Mt(a),Ot(i._onButtonClick())}),$(2,Le,2,1,"div",2),l(3,"span",3),jt(4),c()(),v(5,"span",4)(6,"span",5)}if(e&2){let a=F(1);b("id",i.buttonId)("disabled",i.disabled&&!i.disabledInteractive||null),it("role",i.isSingleSelector()?"radio":"button")("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-pressed",i.isSingleSelector()?null:i.checked)("aria-checked",i.isSingleSelector()?i.checked:null)("name",i._getButtonName())("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-disabled",i.disabled&&i.disabledInteractive?"true":null),n(2),U(i.buttonToggleGroup&&(!i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideSingleSelectionIndicator||i.buttonToggleGroup.multiple&&!i.buttonToggleGroup.hideMultipleSelectionIndicator)?2:-1),n(4),b("matRippleTrigger",a)("matRippleDisabled",i.disableRipple||i.disabled)}},dependencies:[ae,oe],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}@media(forced-colors: active){.mat-button-toggle-standalone,.mat-button-toggle-group{outline:solid 1px}}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}@media(forced-colors: active){.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{outline:0}}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checkbox-wrapper{display:inline-block;justify-content:flex-start;align-items:center;width:0;height:18px;line-height:18px;overflow:hidden;box-sizing:border-box;position:absolute;top:50%;left:16px;transform:translate3d(0, -50%, 0)}[dir=rtl] .mat-button-toggle-checkbox-wrapper{left:auto;right:16px}.mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:12px}[dir=rtl] .mat-button-toggle-appearance-standard .mat-button-toggle-checkbox-wrapper{left:auto;right:12px}.mat-button-toggle-checked .mat-button-toggle-checkbox-wrapper{width:18px}.mat-button-toggle-animations-enabled .mat-button-toggle-checkbox-wrapper{transition:width 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-checkbox-wrapper{transition:none}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-sys-on-surface));background-color:var(--mat-standard-button-toggle-background-color, transparent);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-sys-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-sys-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-sys-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-sys-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-state-background-color, transparent)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-sys-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height, 40px)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}@media(forced-colors: active){.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-animations-enabled .mat-button-toggle-button{transition:padding 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-button-toggle-vertical .mat-button-toggle-button{transition:none}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:30px}[dir=rtl] .mat-button-toggle-checked .mat-button-toggle-button:has(.mat-button-toggle-checkbox-wrapper){padding-left:0;padding-right:30px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-sys-corner-full))}"],encapsulation:2,changeDetection:0})}return s})(),Ie=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=et({type:s});static \u0275inj=K({imports:[vt,ne,ct,vt]})}return s})();var Ye=["chart"],P=(()=>{class s{constructor(){this.chart=C(),this.annotations=C(),this.colors=C(),this.dataLabels=C(),this.series=C(),this.stroke=C(),this.labels=C(),this.legend=C(),this.markers=C(),this.noData=C(),this.fill=C(),this.tooltip=C(),this.plotOptions=C(),this.responsive=C(),this.xaxis=C(),this.yaxis=C(),this.forecastDataPoints=C(),this.grid=C(),this.states=C(),this.title=C(),this.subtitle=C(),this.theme=C(),this.autoUpdateSeries=C(!0),this.chartReady=Et(),this.chartInstance=Lt(null),this.chartElement=Nt.required("chart"),this.ngZone=I(Bt),this.isBrowser=qt(I(Pt))}ngOnChanges(t){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{St.schedule(()=>this.hydrate(t))})}ngOnDestroy(){this.destroy()}hydrate(t){if(this.autoUpdateSeries()&&Object.keys(t).filter(i=>i!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return H(this,null,function*(){let{default:t}=yield import("./chunk-VRXIKMLJ.js");window.ApexCharts||=t;let e={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(d=>{let r=this[d]();r&&(e[d]=r)}),this.destroy();let a=this.ngZone.runOutsideAngular(()=>new t(this.chartElement().nativeElement,e));this.chartInstance.set(a),this.render(),this.chartReady.emit({chartObj:a})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(t,e,i,a){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(t,e,i,a))}updateSeries(t,e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(t,e))}appendSeries(t,e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(t,e))}appendData(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(t))}highlightSeries(t){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(t))}toggleSeries(t){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(t))}showSeries(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(t))}hideSeries(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(t))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(t,e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(t,e))}toggleDataPointSelection(t,e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(t,e))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(t))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(t,e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(t,e,i))}addYaxisAnnotation(t,e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(t,e,i))}addPointAnnotation(t,e,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(t,e,i))}removeAnnotation(t,e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(t,e))}clearAnnotations(t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(t))}dataURI(t){return this.chartInstance()?.dataURI(t)}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275cmp=w({type:s,selectors:[["apx-chart"]],viewQuery:function(e,i){e&1&&zt(i.chartElement,Ye,5),e&2&&Zt()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[A],decls:2,vars:0,consts:[["chart",""]],template:function(e,i){e&1&&v(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return s})();var R=(()=>{class s{static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275mod=et({type:s})}static{this.\u0275inj=K({})}}return s})();var De=(()=>{class s{constructor(t,e){this._translocoService=t,this._cdr=e,this.records=[],this.selectedPeriod="this-month",this.chartOptions={chart:{type:"area"},series:[]},this.yAxisMin=0,this.yAxisMax=10}ngOnChanges(t){(t.records||t.selectedPeriod)&&this._updateChart()}ngOnInit(){this._updateChart()}_updateChart(){(!this.selectedPeriod||this.selectedPeriod!=="this-month"&&this.selectedPeriod!=="previous-month")&&(this.selectedPeriod="this-month");let t=this._buildSeries(),e=this._translocoService.translate("analytics.chart.total"),i=t[this.selectedPeriod]||t["this-month"]||[{name:e,data:[]}];if(i?.[0]?.data&&Array.isArray(i[0].data)){let d=i[0].data;if(d.length>0){let r=this._calculateYAxisRange(d);this.yAxisMin=r.min,this.yAxisMax=r.max}else this.yAxisMin=0,this.yAxisMax=5}else this.yAxisMin=0,this.yAxisMax=5;let a={chart:{animations:{speed:400,animateGradually:{enabled:!1}},fontFamily:"inherit",foreColor:"inherit",width:"100%",height:320,type:"area",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#818CF8"],dataLabels:{enabled:!1},fill:{colors:["#312E81"]},grid:{show:!0,borderColor:"#334155",padding:{top:10,bottom:60,left:20,right:40},position:"back",xaxis:{lines:{show:!0}}},series:i,stroke:{width:2},tooltip:{followCursor:!0,theme:"dark",x:{format:this._translocoService.translate("analytics.chart.dateFormat")},y:{formatter:d=>`${d}`}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},crosshairs:{stroke:{color:"#475569",dashArray:0,width:2}},tooltip:{enabled:!1},type:"datetime",tickPlacement:"on",floating:!1,position:"bottom",labels:{offsetY:0,style:{colors:"#CBD5E1",fontSize:"11px"},rotate:-45,trim:!1,hideOverlappingLabels:!1,show:!0}},yaxis:{axisTicks:{show:!1},axisBorder:{show:!1},min:this.yAxisMin,max:this.yAxisMax,tickAmount:5,show:!1}};this.chartOptions=J({},a),this._cdr.markForCheck()}_parseDateToTimestamp(t){if(!t)return null;try{if(t.includes(" ")&&!t.includes("T")){let[i,a]=t.split(" "),[d,r,o]=i.split("-").map(Number),[g,h,y]=a.split(":").map(Number);return new Date(d,r-1,o,g||0,h||0,y||0).getTime()}let e=Date.parse(t);return isNaN(e)?null:e}catch{return null}}_buildDailySeries(t){if(!t||t.length===0){let o=new Date,g=30,h=new Date(o.getFullYear(),o.getMonth(),o.getDate()-(g-1));h.setHours(0,0,0,0);let y=[];for(let k=0;k<g;k++){let _=new Date(h.getFullYear(),h.getMonth(),h.getDate()+k).getTime();!isNaN(_)&&_>0&&y.push([_,0])}return y.length===0&&y.push([Date.now(),0]),y}let e=new Date,i=30,a=new Date(e.getFullYear(),e.getMonth(),e.getDate()-(i-1));a.setHours(0,0,0,0);let d=new Map;for(let o of t){let g=this._parseDateToTimestamp(o.registeredAt);if(g==null)continue;let h=new Date(g);if(h.setHours(0,0,0,0),h<a)continue;let y=h.toISOString().slice(0,10);d.set(y,(d.get(y)||0)+1)}let r=[];for(let o=0;o<i;o++){let g=new Date(a.getFullYear(),a.getMonth(),a.getDate()+o),h=g.toISOString().slice(0,10),y=d.get(h)||0,k=g.getTime();!isNaN(k)&&k>0&&r.push([k,y])}return r.length===0&&r.push([Date.now(),0]),r}_buildSeries(){let e=this._buildDailySeries(this.records).filter(d=>{if(!Array.isArray(d)||d.length!==2)return!1;let[r,o]=d;return typeof r=="number"&&!isNaN(r)&&r>0&&typeof o=="number"&&!isNaN(o)&&o>=0});e.length===0&&e.push([Date.now(),0]);let i=e.map(([d,r])=>{let o=Math.round(r*.8);return[d,isNaN(o)?0:o]}),a=this._translocoService.translate("analytics.chart.total");return{"this-month":[{name:a,data:e}],"previous-month":[{name:a,data:i}]}}_calculateYAxisRange(t){if(!Array.isArray(t)||t.length===0)return{min:0,max:10};let e=t.map(r=>Array.isArray(r)?r[1]:r).filter(r=>typeof r=="number");if(e.length===0)return{min:0,max:10};let i=Math.min(...e),a=Math.max(...e);if(a===0)return{min:0,max:5};let d=Math.max(1,Math.ceil(a*.1));return{min:Math.max(0,i-d),max:a+d}}static{this.\u0275fac=function(e){return new(e||s)(x(N),x(D))}}static{this.\u0275cmp=w({type:s,selectors:[["app-all-tags-overview-chart"]],inputs:{records:"records",selectedPeriod:"selectedPeriod"},features:[A],decls:1,vars:10,consts:[[1,"w-full",2,"min-height","320px","height","100%",3,"chart","colors","dataLabels","fill","grid","series","stroke","tooltip","xaxis","yaxis"]],template:function(e,i){e&1&&v(0,"apx-chart",0),e&2&&b("chart",i.chartOptions.chart)("colors",i.chartOptions.colors)("dataLabels",i.chartOptions.dataLabels)("fill",i.chartOptions.fill)("grid",i.chartOptions.grid)("series",i.chartOptions.series)("stroke",i.chartOptions.stroke)("tooltip",i.chartOptions.tooltip)("xaxis",i.chartOptions.xaxis)("yaxis",i.chartOptions.yaxis)},dependencies:[B,R,P],encapsulation:2,changeDetection:0})}}return s})();var Te=(()=>{class s{constructor(t){this._cdr=t,this.records=[],this.chartOptions={chart:{type:"area"},series:[]}}ngOnInit(){this._updateChart()}ngOnChanges(t){t.records&&this._updateChart()}_updateChart(){let t=this.records&&this.records.length>0?this.records.filter(e=>e.type==="mainnet").length:0;this.chartOptions={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",width:"100%",height:320,type:"area",sparkline:{enabled:!0}},colors:["#38BDF8"],fill:{colors:["#38BDF8"],opacity:.5},series:[{data:Array(30).fill(Math.max(0,t))}],stroke:{curve:"smooth"},tooltip:{followCursor:!0,theme:"dark"},xaxis:{type:"category",categories:[]},yaxis:{labels:{formatter:e=>e.toString()}}},this._cdr.markForCheck()}static{this.\u0275fac=function(e){return new(e||s)(x(D))}}static{this.\u0275cmp=w({type:s,selectors:[["app-conversions-chart"]],inputs:{records:"records"},features:[A],decls:1,vars:7,consts:[[1,"w-full",2,"min-height","320px","height","100%",3,"chart","colors","series","stroke","tooltip","xaxis","yaxis"]],template:function(e,i){e&1&&v(0,"apx-chart",0),e&2&&b("chart",i.chartOptions.chart)("colors",i.chartOptions.colors)("series",i.chartOptions.series)("stroke",i.chartOptions.stroke)("tooltip",i.chartOptions.tooltip)("xaxis",i.chartOptions.xaxis)("yaxis",i.chartOptions.yaxis)},dependencies:[B,R,P],encapsulation:2,changeDetection:0})}}return s})();var Me=(()=>{class s{constructor(t){this._cdr=t,this.records=[],this.chartOptions={chart:{type:"area"},series:[]}}ngOnInit(){this._updateChart()}ngOnChanges(t){t.records&&this._updateChart()}_updateChart(){let t=this.records&&this.records.length>0?this.records.length:0;this.chartOptions={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",width:"100%",height:320,type:"area",sparkline:{enabled:!0}},colors:["#FB7185"],fill:{colors:["#FB7185"],opacity:.5},series:[{data:Array(30).fill(Math.max(0,t))}],stroke:{curve:"smooth"},tooltip:{followCursor:!0,theme:"dark"},xaxis:{type:"category",categories:[]},yaxis:{labels:{formatter:e=>e.toString()}}},this._cdr.markForCheck()}static{this.\u0275fac=function(e){return new(e||s)(x(D))}}static{this.\u0275cmp=w({type:s,selectors:[["app-visits-chart"]],inputs:{records:"records"},features:[A],decls:1,vars:7,consts:[[1,"w-full",2,"min-height","320px","height","100%",3,"chart","colors","series","stroke","tooltip","xaxis","yaxis"]],template:function(e,i){e&1&&v(0,"apx-chart",0),e&2&&b("chart",i.chartOptions.chart)("colors",i.chartOptions.colors)("series",i.chartOptions.series)("stroke",i.chartOptions.stroke)("tooltip",i.chartOptions.tooltip)("xaxis",i.chartOptions.xaxis)("yaxis",i.chartOptions.yaxis)},dependencies:[B,R,P],encapsulation:2,changeDetection:0})}}return s})();var Oe=(()=>{class s{constructor(t,e){this._translocoService=t,this._cdr=e,this.records=[],this.chartOptions={chart:{type:"area"},series:[]},this.yAxisMin=0,this.yAxisMax=10}ngOnInit(){this._updateChart()}ngOnChanges(t){t.records&&this._updateChart()}_updateChart(){let t=this._buildSeries();if(t.length>0){let e=this._calculateYAxisRangeFromSeries(t);this.yAxisMin=e.min,this.yAxisMax=e.max}else this.yAxisMin=0,this.yAxisMax=5;this.chartOptions={chart:{animations:{enabled:!1},fontFamily:"inherit",foreColor:"inherit",width:"100%",height:320,type:"area",toolbar:{show:!1},zoom:{enabled:!1}},colors:["#64748B","#94A3B8"],dataLabels:{enabled:!1},fill:{colors:["#64748B","#94A3B8"],opacity:.5},grid:{show:!1,padding:{bottom:-40,left:0,right:0}},legend:{show:!1},series:t||[],stroke:{curve:"smooth",width:2},tooltip:{followCursor:!0,theme:"dark",x:{format:this._translocoService.translate("analytics.chart.dateFormat")}},xaxis:{axisBorder:{show:!1},labels:{offsetY:-20,rotate:0,style:{colors:"var(--fuse-text-secondary)"}},tickAmount:3,tooltip:{enabled:!1},type:"datetime"},yaxis:{labels:{style:{colors:"var(--fuse-text-secondary)"}},min:this.yAxisMin,max:this.yAxisMax,show:!1,tickAmount:5}},this._cdr.markForCheck()}_parseDateToTimestamp(t){if(!t)return null;try{if(t.includes(" ")&&!t.includes("T")){let[i,a]=t.split(" "),[d,r,o]=i.split("-").map(Number),[g,h,y]=a.split(":").map(Number);return new Date(d,r-1,o,g||0,h||0,y||0).getTime()}let e=Date.parse(t);return isNaN(e)?null:e}catch{return null}}_buildDailySeries(t){if(!t||t.length===0){let o=new Date,g=30,h=new Date(o.getFullYear(),o.getMonth(),o.getDate()-(g-1));h.setHours(0,0,0,0);let y=[];for(let k=0;k<g;k++){let _=new Date(h.getFullYear(),h.getMonth(),h.getDate()+k).getTime();!isNaN(_)&&_>0&&y.push([_,0])}return y.length===0&&y.push([Date.now(),0]),y}let e=new Date,i=30,a=new Date(e.getFullYear(),e.getMonth(),e.getDate()-(i-1));a.setHours(0,0,0,0);let d=new Map;for(let o of t){let g=this._parseDateToTimestamp(o.registeredAt);if(g==null)continue;let h=new Date(g);if(h.setHours(0,0,0,0),h<a)continue;let y=h.toISOString().slice(0,10);d.set(y,(d.get(y)||0)+1)}let r=[];for(let o=0;o<i;o++){let g=new Date(a.getFullYear(),a.getMonth(),a.getDate()+o),h=g.toISOString().slice(0,10),y=d.get(h)||0,k=g.getTime();!isNaN(k)&&k>0&&r.push([k,y])}return r.length===0&&r.push([Date.now(),0]),r}_buildSeries(){let t=this._buildDailySeries(this.records),e=this._buildDailySeries(this.records.filter(o=>o.type==="mainnet")),i=t.filter(o=>{if(!Array.isArray(o)||o.length!==2)return!1;let[g,h]=o;return typeof g=="number"&&!isNaN(g)&&g>0&&typeof h=="number"&&!isNaN(h)&&h>=0}),a=e.filter(o=>{if(!Array.isArray(o)||o.length!==2)return!1;let[g,h]=o;return typeof g=="number"&&!isNaN(g)&&g>0&&typeof h=="number"&&!isNaN(h)&&h>=0});i.length===0&&i.push([Date.now(),0]),a.length===0&&a.push([Date.now(),0]);let d=this._translocoService.translate("analytics.chart.allTags"),r=this._translocoService.translate("analytics.chart.paidTags");return[{name:d,data:i},{name:r,data:a}]}_calculateYAxisRangeFromSeries(t){if(!Array.isArray(t)||t.length===0)return{min:0,max:10};let e=[];for(let r of t)if(r?.data&&Array.isArray(r.data))for(let o of r.data){let g=Array.isArray(o)?o[1]:o;typeof g=="number"&&e.push(g)}if(e.length===0)return{min:0,max:10};let i=Math.min(...e),a=Math.max(...e);if(a===0)return{min:0,max:5};let d=Math.max(1,Math.ceil(a*.1));return{min:Math.max(0,i-d),max:a+d}}static{this.\u0275fac=function(e){return new(e||s)(x(N),x(D))}}static{this.\u0275cmp=w({type:s,selectors:[["app-visitors-vs-page-views-chart"]],inputs:{records:"records"},features:[A],decls:1,vars:11,consts:[[1,"w-full",2,"min-height","320px","height","100%",3,"chart","colors","dataLabels","fill","grid","legend","series","stroke","tooltip","xaxis","yaxis"]],template:function(e,i){e&1&&v(0,"apx-chart",0),e&2&&b("chart",i.chartOptions.chart)("colors",i.chartOptions.colors)("dataLabels",i.chartOptions.dataLabels)("fill",i.chartOptions.fill)("grid",i.chartOptions.grid)("legend",i.chartOptions.legend)("series",i.chartOptions.series)("stroke",i.chartOptions.stroke)("tooltip",i.chartOptions.tooltip)("xaxis",i.chartOptions.xaxis)("yaxis",i.chartOptions.yaxis)},dependencies:[B,R,P],encapsulation:2,changeDetection:0})}}return s})();var Ae=(()=>{class s{constructor(t,e){this._translocoService=t,this._cdr=e,this.records=[],this.chartOptions={chart:{type:"donut"},series:[]},this.labels=[],this.series=[],this.counts=[]}ngOnInit(){this._updateChart()}ngOnChanges(t){t.records&&this._updateChart()}_updateChart(){let t=this._calculateLeaseBuckets();this.labels=t.labels||[],this.series=t.series||[],this.counts=t.counts||[],this.chartOptions={chart:{animations:{speed:400,animateGradually:{enabled:!1}},fontFamily:"inherit",foreColor:"inherit",width:"100%",height:180,type:"donut",sparkline:{enabled:!0}},colors:["#3182CE","#63B3ED","#90CDF4","#BEE3F8","#DBEAFE","#EFF6FF"],labels:this.labels||[],plotOptions:{pie:{customScale:.9,expandOnClick:!1,donut:{size:"70%"}}},series:this.series||[],states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{enabled:!0,fillSeriesColor:!1,theme:"dark",custom:({seriesIndex:e,w:i})=>{let a=this.counts[e]||0,d=i.config.series[e]||0,r=a===1?this._translocoService.translate("analytics.chart.tag"):this._translocoService.translate("analytics.chart.tags");return`<div class="flex flex-col px-3 py-2">
                                                    <div class="flex items-center">
                                                        <div class="w-3 h-3 rounded-full" style="background-color: ${i.config.colors[e]};"></div>
                                                        <div class="ml-2 text-md leading-none">${i.config.labels[e]}</div>
                                                    </div>
                                                    <div class="ml-5 mt-1 text-sm text-gray-400">${a} ${r} \u2022 ${d}%</div>
                                                </div>`}}},this._cdr.markForCheck()}_parseDateToDate(t){if(!t)return null;try{if(t.includes(" ")&&!t.includes("T")){let[i,a]=t.split(" "),[d,r,o]=i.split("-").map(Number),[g,h,y]=a.split(":").map(Number);return new Date(d,r-1,o,g||0,h||0,y||0)}let e=new Date(t);return isNaN(e.getTime())?null:e}catch{return null}}_calculateLeaseYears(t,e){if(!t||!e)return null;let i=this._parseDateToDate(t),a=this._parseDateToDate(e);return!i||!a?null:(a.getTime()-i.getTime())/(1e3*60*60*24*365.25)}_calculateLeaseBuckets(){let t={1:0,2:0,3:0,4:0,5:0,lifetime:0};if(!this.records||this.records.length===0)return{labels:["1 Year","2 Years","3 Years","4 Years","5 Years","Lifetime"],series:[0,0,0,0,0,0],counts:[0,0,0,0,0,0]};for(let r of this.records){let o=this._calculateLeaseYears(r.registeredAt,r.expiresAt);o===null||o<.5||(o>=.5&&o<2?t[1]++:o>=2&&o<3?t[2]++:o>=3&&o<4?t[3]++:o>=4&&o<5?t[4]++:o>=5&&o<100?t[5]++:o>=100&&t.lifetime++)}let e=["1 Year","2 Years","3 Years","4 Years","5 Years","Lifetime"],i=[t[1],t[2],t[3],t[4],t[5],t.lifetime],a=i.reduce((r,o)=>r+o,0),d=a>0?i.map(r=>Math.round(r/a*1e4)/100):i;return{labels:e,series:d,counts:i}}static{this.\u0275fac=function(e){return new(e||s)(x(N),x(D))}}static{this.\u0275cmp=w({type:s,selectors:[["app-tag-lease-lengths-chart"]],inputs:{records:"records"},features:[A],decls:1,vars:7,consts:[[1,"w-full",2,"width","100%","height","180px",3,"chart","colors","labels","plotOptions","series","states","tooltip"]],template:function(e,i){e&1&&v(0,"apx-chart",0),e&2&&b("chart",i.chartOptions.chart)("colors",i.chartOptions.colors)("labels",i.chartOptions.labels)("plotOptions",i.chartOptions.plotOptions)("series",i.chartOptions.series)("states",i.chartOptions.states)("tooltip",i.chartOptions.tooltip)},dependencies:[B,R,P],encapsulation:2,changeDetection:0})}}return s})();var Be=(()=>{class s{constructor(t,e){this._cdr=t,this._translocoService=e,this.records=[],this.currentDomain=null,this.chartOptions={chart:{type:"donut"},series:[]},this.labels=[],this.series=[],this.counts=[]}ngOnInit(){this._updateChart()}ngOnChanges(t){(t.records||t.currentDomain)&&this._updateChart()}_updateChart(){let t=this._calculateRangeBuckets();this.labels=t.labels||[],this.series=t.series||[],this.counts=t.counts||[],this.chartOptions={chart:{animations:{speed:400,animateGradually:{enabled:!1}},fontFamily:"inherit",foreColor:"inherit",width:"100%",height:180,type:"donut",sparkline:{enabled:!0}},colors:["#319795","#4FD1C5","#81E6D9","#B2F5EA"],labels:this.labels||[],plotOptions:{pie:{customScale:.9,expandOnClick:!1,donut:{size:"70%"}}},series:this.series||[],states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{enabled:!0,fillSeriesColor:!1,theme:"dark",custom:({seriesIndex:e,w:i})=>{let a=this.counts[e]||0,d=i.config.series[e]||0,r=this._translocoService.translate("analytics.chart.chars"),o=a===1?this._translocoService.translate("analytics.chart.tag"):this._translocoService.translate("analytics.chart.tags");return`<div class="flex flex-col px-3 py-2">
                                                     <div class="flex items-center">
                                                         <div class="w-3 h-3 rounded-full" style="background-color: ${i.config.colors[e]};"></div>
                                                         <div class="ml-2 text-md leading-none">${i.config.labels[e]} ${r}</div>
                                                     </div>
                                                     <div class="ml-5 mt-1 text-sm text-gray-400">${a} ${o} \u2022 ${d}%</div>
                                                 </div>`}}},this._cdr.markForCheck()}_getBaseName(t){let e=t;return this.currentDomain&&e.endsWith(`.${this.currentDomain}`)&&(e=e.slice(0,-1*(this.currentDomain.length+1))),e.endsWith(".hold")&&(e=e.slice(0,-5)),e.split(".")[0]}_calculateRangeBuckets(){let t={"1-3":0,"4-10":0,"11-20":0,"21-27":0};if(!this.records||this.records.length===0)return{labels:["1-3","4-10","11-20","21-27"],series:[0,0,0,0],counts:[0,0,0,0]};for(let r of this.records){let o=this._getBaseName(r.name).length;o>=1&&o<=3?t["1-3"]++:o>=4&&o<=10?t["4-10"]++:o>=11&&o<=20?t["11-20"]++:t["21-27"]++}let e=["1-3","4-10","11-20","21-27"],i=[t["1-3"],t["4-10"],t["11-20"],t["21-27"]],a=i.reduce((r,o)=>r+o,0),d=a>0?i.map(r=>Math.round(r/a*1e4)/100):i;return{labels:e,series:d,counts:i}}static{this.\u0275fac=function(e){return new(e||s)(x(D),x(N))}}static{this.\u0275cmp=w({type:s,selectors:[["app-domain-length-chart"]],inputs:{records:"records",currentDomain:"currentDomain"},features:[A],decls:1,vars:7,consts:[[1,"w-full",2,"width","100%","height","180px",3,"chart","colors","labels","plotOptions","series","states","tooltip"]],template:function(e,i){e&1&&v(0,"apx-chart",0),e&2&&b("chart",i.chartOptions.chart)("colors",i.chartOptions.colors)("labels",i.chartOptions.labels)("plotOptions",i.chartOptions.plotOptions)("series",i.chartOptions.series)("states",i.chartOptions.states)("tooltip",i.chartOptions.tooltip)},dependencies:[B,R,P],encapsulation:2,changeDetection:0})}}return s})();var Ee=(()=>{class s{constructor(t,e){this._translocoService=t,this._cdr=e,this.records=[],this.chartOptions={chart:{type:"donut"},series:[]},this.labels=[],this.series=[],this.counts=[]}ngOnInit(){this._updateChart()}ngOnChanges(t){t.records&&this._updateChart()}_updateChart(){let t=this._calculateOriginBuckets();this.labels=t.labels||[],this.series=t.series||[],this.counts=t.counts||[],this.chartOptions={chart:{animations:{speed:400,animateGradually:{enabled:!1}},fontFamily:"inherit",foreColor:"inherit",width:"100%",height:180,type:"donut",sparkline:{enabled:!0}},colors:["#DD6B20","#F6AD55","#FED7AA"],labels:this.labels||[],plotOptions:{pie:{customScale:.9,expandOnClick:!1,donut:{size:"70%"}}},series:this.series||[],states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{enabled:!0,fillSeriesColor:!1,theme:"dark",custom:({seriesIndex:e,w:i})=>{let a=this.counts[e]||0,d=i.config.series[e]||0,r=this._formatOriginLabel(i.config.labels[e]||""),o=a===1?this._translocoService.translate("analytics.chart.tag"):this._translocoService.translate("analytics.chart.tags");return`<div class="flex flex-col px-3 py-2">
                                                    <div class="flex items-center">
                                                        <div class="w-3 h-3 rounded-full" style="background-color: ${i.config.colors[e]};"></div>
                                                        <div class="ml-2 text-md leading-none">${r}</div>
                                                    </div>
                                                    <div class="ml-5 mt-1 text-sm text-gray-400">${a} ${o} \u2022 ${d}%</div>
                                                </div>`}}},this._cdr.markForCheck()}_formatOriginLabel(t){return!t||t==="unknown"?this._translocoService.translate("analytics.stats.unknown"):t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}_calculateOriginBuckets(){let t=new Map;if(!this.records||this.records.length===0)return{labels:[],series:[],counts:[]};for(let r of this.records){let o=r.origin||"unknown";t.set(o,(t.get(o)||0)+1)}let e=Array.from(t.keys()),i=e.map(r=>t.get(r)||0),a=i.reduce((r,o)=>r+o,0),d=a>0?i.map(r=>Math.round(r/a*1e4)/100):i;return{labels:e,series:d,counts:i}}static{this.\u0275fac=function(e){return new(e||s)(x(N),x(D))}}static{this.\u0275cmp=w({type:s,selectors:[["app-origin-chart"]],inputs:{records:"records"},features:[A],decls:1,vars:7,consts:[[1,"w-full",2,"width","100%","height","180px",3,"chart","colors","labels","plotOptions","series","states","tooltip"]],template:function(e,i){e&1&&v(0,"apx-chart",0),e&2&&b("chart",i.chartOptions.chart)("colors",i.chartOptions.colors)("labels",i.chartOptions.labels)("plotOptions",i.chartOptions.plotOptions)("series",i.chartOptions.series)("states",i.chartOptions.states)("tooltip",i.chartOptions.tooltip)},dependencies:[B,R,P],encapsulation:2,changeDetection:0})}}return s})();var dt=(()=>{class s{constructor(t){this._httpClient=t,this._data=new Ct(null)}get data$(){return this._data.asObservable()}getData(){return this._httpClient.get("api/dashboards/analytics").pipe(wt(t=>{this._data.next(t)}))}static{this.\u0275fac=function(e){return new(e||s)(Tt(Xt))}}static{this.\u0275prov=Dt({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function $e(s,T){if(s&1&&(l(0,"div",19)(1,"div",66)(2,"span",67),p(3),u(4,"transloco"),c(),l(5,"span",68),p(6),u(7,"transloco"),c(),l(8,"span",67),p(9),u(10,"transloco"),c()(),l(11,"div",66)(12,"span",67),p(13),u(14,"transloco"),c(),l(15,"span",69),p(16),u(17,"transloco"),c(),l(18,"span",67),p(19),u(20,"transloco"),c()(),l(21,"div",66)(22,"span",67),p(23),u(24,"transloco"),c(),l(25,"span",70),p(26),u(27,"transloco"),c()()()),s&2){let t=L();n(3),S("",m(4,13,"analytics.stats.peak"),":"),n(3),Y("",t.dailyStats.highestDay.count," ",m(7,15,"analytics.stats.tags"),""),n(3),Y("",m(10,17,"analytics.stats.on")," ",t.dailyStats.highestDay.date,""),n(4),S("",m(14,19,"analytics.stats.low"),":"),n(3),Y("",t.dailyStats.lowestDay.count," ",m(17,21,"analytics.stats.tags"),""),n(3),Y("",m(20,23,"analytics.stats.on")," ",t.dailyStats.lowestDay.date,""),n(4),S("",m(24,25,"analytics.stats.total"),":"),n(3),Y("",t.dailyStats.totalRecords," ",m(27,27,"analytics.stats.records"),"")}}function Ue(s,T){if(s&1&&(l(0,"div",54),v(1,"mat-icon",71),l(2,"div",72),p(3),u(4,"number"),c()()),s&2){let t=L();n(),b("ngClass",t.conversionRateTrend>0?"text-green-500":"text-red-500")("svgIcon",t.conversionRateTrend>0?"heroicons_solid:arrow-up-circle":"heroicons_solid:arrow-down-circle"),n(),b("ngClass",t.conversionRateTrend>0?"text-green-500":"text-red-500"),n(),Y(" ",t.conversionRateTrend>0?"+":"","",z(4,5,t.conversionRateTrend,"1.1-1"),"% ")}}function ze(s,T){if(s&1&&(l(0,"div",54),v(1,"mat-icon",71),l(2,"div",72),p(3),u(4,"number"),c()()),s&2){let t=L();n(),b("ngClass",t.premiumAdoptionTrend>0?"text-green-500":"text-red-500")("svgIcon",t.premiumAdoptionTrend>0?"heroicons_solid:arrow-up-circle":"heroicons_solid:arrow-down-circle"),n(),b("ngClass",t.premiumAdoptionTrend>0?"text-green-500":"text-red-500"),n(),Y(" ",t.premiumAdoptionTrend>0?"+":"","",z(4,5,t.premiumAdoptionTrend,"1.1-1"),"% ")}}function Ze(s,T){if(s&1&&(l(0,"div",54),v(1,"mat-icon",71),l(2,"div",72),p(3),u(4,"number"),c()()),s&2){let t=L();n(),b("ngClass",t.revenuePotentialTrend>0?"text-green-500":"text-red-500")("svgIcon",t.revenuePotentialTrend>0?"heroicons_solid:arrow-up-circle":"heroicons_solid:arrow-down-circle"),n(),b("ngClass",t.revenuePotentialTrend>0?"text-green-500":"text-red-500"),n(),Y(" ",t.revenuePotentialTrend>0?"+":"","",z(4,5,t.revenuePotentialTrend,"1.1-1"),"% ")}}function He(s,T){if(s&1&&(l(0,"div",64)(1,"div",49),v(2,"div",73),l(3,"div",74),p(4),u(5,"transloco"),c()(),l(6,"div",75),p(7),c(),l(8,"div",76),p(9),c()()),s&2){let t=T.$implicit,e=T.$index,i=L(),a=F(229);n(2),at("background-color",i.tagLeaseLengthsColors[e]),n(2),S(" ",m(5,5,"analytics.chartLabels.tagLeaseLengths."+(a.labels[e]==="1 Year"?"1year":a.labels[e]==="2 Years"?"2years":a.labels[e]==="3 Years"?"3years":a.labels[e]==="4 Years"?"4years":a.labels[e]==="5 Years"?"5years":"lifetime"))," "),n(3),S(" ",a.counts[e]||0," "),n(2),S("",t,"%")}}function We(s,T){if(s&1&&(l(0,"div",64)(1,"div",49),v(2,"div",73),l(3,"div",74),p(4),u(5,"transloco"),c()(),l(6,"div",75),p(7),c(),l(8,"div",76),p(9),c()()),s&2){let t=T.$implicit,e=T.$index,i=L(),a=F(257);n(2),at("background-color",i.domainLengthColors[e]),n(2),S(" ",m(5,5,"analytics.chartLabels.domainLength."+(a.labels[e]==="1-3"?"1to3":a.labels[e]==="4-10"?"4to10":a.labels[e]==="11-20"?"11to20":"21to27"))," "),n(3),S(" ",a.counts[e]||0," "),n(2),S("",t,"%")}}function Qe(s,T){if(s&1&&p(0),s&2){let t=L().$index;L();let e=F(285);S(" ",e.labels[t].charAt(0).toUpperCase()+e.labels[t].slice(1).toLowerCase()," ")}}function qe(s,T){s&1&&(p(0),u(1,"transloco")),s&2&&S(" ",m(1,1,"analytics.stats.unknown")," ")}function Xe(s,T){if(s&1&&(l(0,"div",64)(1,"div",49),v(2,"div",73),l(3,"div",77),$(4,Qe,1,1)(5,qe,2,3),c()(),l(6,"div",75),p(7),c(),l(8,"div",76),p(9),c()()),s&2){let t=T.$implicit,e=T.$index,i=L(),a=F(285);n(2),at("background-color",i.originColors[e]),n(),b("title",a.labels[e]),n(),U(a.labels[e]?4:5),n(3),S(" ",a.counts[e]||0," "),n(2),S("",t,"%")}}var Fe=(()=>{class s{constructor(t,e,i,a,d,r){this._analyticsService=t,this._router=e,this._translocoService=i,this._licenseService=a,this._httpWrapper=d,this._cdr=r,this.records=[],this.tagLeaseLengthsColors=["#3182CE","#63B3ED","#90CDF4","#BEE3F8","#DBEAFE","#EFF6FF"],this.domainLengthColors=["#319795","#4FD1C5","#81E6D9","#B2F5EA"],this.originColors=["#DD6B20","#F6AD55","#FED7AA"],this.currentDomain=null,this.keyPrefix="tagName",this.dailyStats=null,this.paidDailyStats=null,this.conversionRateTrend=0,this.premiumAdoptionTrend=0,this.revenuePotentialTrend=0,this._unsubscribeAll=new _t}ngOnInit(){this._analyticsService.data$.pipe(kt(this._unsubscribeAll)).subscribe(t=>{this.data=t,this._cdr.markForCheck()}),this._initFromLicenseAndTags(),window.Apex={chart:{events:{mounted:(t,e)=>{this._fixSvgFill(t.el)},updated:(t,e)=>{this._fixSvgFill(t.el)}}}}}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}trackByFn(t,e){return e.id||t}_fixSvgFill(t){let e=this._router.url;Array.from(t.querySelectorAll("*[fill]")).filter(i=>i.getAttribute("fill").indexOf("url(")!==-1).forEach(i=>{let a=i.getAttribute("fill");i.setAttribute("fill",`url(${e}${a.slice(a.indexOf("#"))}`)})}_initFromLicenseAndTags(){return H(this,null,function*(){try{let t=localStorage.getItem("license"),e=null;if(t)try{let r=JSON.parse(t);e=r?.domainConfig||r,this.currentDomain=e?.name||null,this.keyPrefix=e?.tags?.storage?.keyPrefix||"tagName"}catch{}if(!this.currentDomain){let o=(yield this._licenseService.getMyLicense(!0))?.data?.myLicense?.domainConfig;if(this.currentDomain=o?.name||null,this.keyPrefix=o?.tags?.storage?.keyPrefix||"tagName",o)try{let g=t?JSON.parse(t):{};localStorage.setItem("license",JSON.stringify(xt(J({},g||{}),{domainConfig:o})))}catch{}}if(!this.currentDomain)return;let i=`${ge.apiUrl}/api/tags/search-by-domain`,a=["IPFS"],d=[];yield Promise.all(a.map(r=>H(this,null,function*(){try{let o=yield this._httpWrapper.sendRequest("get",i,{domain:this.currentDomain,storage:r,limit:500,pageOffset:0}),g=Array.isArray(o?.data)?o.data:o?.data?.ipfs||o?.data||[];Array.isArray(g)&&g.forEach(h=>d.push(h))}catch(o){console.error("Error fetching tags:",o)}}))),this._processRecords(d),this._cdr.markForCheck()}catch(t){console.error("Analytics init failed",t)}})}_parseItemsToRecords(t){let e=[];for(let i of t){let a=i?.publicData||i?.tagObject?.publicData||{},d=a[this.keyPrefix]||a.tagName||i?.name||"";d&&e.push({name:d,type:(a?.type||"").toLowerCase(),origin:(a?.origin||"unknown").toLowerCase(),registeredAt:a?.registeredAt,expiresAt:a?.expiresAt})}return e}_getBaseName(t){let e=t;return this.currentDomain&&e.endsWith(`.${this.currentDomain}`)&&(e=e.slice(0,-1*(this.currentDomain.length+1))),e.endsWith(".hold")&&(e=e.slice(0,-5)),e.split(".")[0]}_calculateLengthBuckets(t){let e={1:0,2:0,3:0,4:0,5:0,"6-15":0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0};return t.forEach(i=>{let a=this._getBaseName(i.name).length;a>=1&&a<=5?e[String(a)]++:a>=6&&a<=15?e["6-15"]++:a>=16&&a<=27&&e[String(Math.max(16,Math.min(a,27)))]++}),e}_calculateRangeBuckets(t){let e={"1-3":0,"4-10":0,"11-20":0,"21-27":0};return t.forEach(i=>{let a=this._getBaseName(i.name).length;a>=1&&a<=3?e["1-3"]++:a>=4&&a<=10?e["4-10"]++:a>=11&&a<=20?e["11-20"]++:e["21-27"]++}),e}_calculateOriginBuckets(t){let e=new Map;return t.forEach(i=>{e.set(i.origin,(e.get(i.origin)||0)+1)}),e}_parseDateToTimestamp(t){if(!t)return null;try{if(t.includes(" ")&&!t.includes("T")){let[i,a]=t.split(" "),[d,r,o]=i.split("-").map(Number),[g,h,y]=a.split(":").map(Number);return new Date(d,r-1,o,g||0,h||0,y||0).getTime()}let e=Date.parse(t);return isNaN(e)?null:e}catch{return null}}_parseDateToDate(t){if(!t)return null;try{if(t.includes(" ")&&!t.includes("T")){let[i,a]=t.split(" "),[d,r,o]=i.split("-").map(Number),[g,h,y]=a.split(":").map(Number);return new Date(d,r-1,o,g||0,h||0,y||0)}let e=new Date(t);return isNaN(e.getTime())?null:e}catch{return null}}_calculateLeaseYears(t,e){if(!t||!e)return null;let i=this._parseDateToDate(t),a=this._parseDateToDate(e);return!i||!a?null:(a.getTime()-i.getTime())/(1e3*60*60*24*365.25)}_buildDailySeries(t,e){let i=new Date,a=30,d=new Date(i.getFullYear(),i.getMonth(),i.getDate()-(a-1));d.setHours(0,0,0,0);let r=new Map,o=e?t.filter(e):t;for(let M of o){let _=this._parseDateToTimestamp(M.registeredAt);if(_==null)continue;let O=new Date(_);if(O.setHours(0,0,0,0),O<d)continue;let E=O.toISOString().slice(0,10);r.set(E,(r.get(E)||0)+1)}let g=[],h=[],y=[];for(let M=0;M<a;M++){let O=new Date(d.getFullYear(),d.getMonth(),d.getDate()+M).toISOString().slice(0,10),E=r.get(O)||0;h.push(E),y.push(O)}if(h.some(M=>M>0)){let M=h.filter(j=>j>0),_=M.length>0?Math.min(...M):0,O=Math.max(...h)||1,E=h.indexOf(_),Q=h.indexOf(O),q=E>=0?y[E]:null,X=Q>=0?y[Q]:null;for(let j=0;j<a;j++){let pt=new Date(d.getFullYear(),d.getMonth(),d.getDate()+j);g.push([pt.getTime(),h[j]])}return{data:g,stats:{highestDay:X?{date:X,count:O}:void 0,lowestDay:q&&_>0?{date:q,count:_}:void 0,totalRecords:o.length,minValue:_,maxValue:O}}}else{let M=o.length,_=Math.max(1,Math.round(M*.2)),O=Math.max(_+1,M);console.log(`\u26A0\uFE0F No date data for ${e?"Paid Tags":"All Tags"}, using synthetic data:`,{totalRecords:M,syntheticRange:{min:_,max:O}});for(let E=0;E<a;E++){let Q=new Date(d.getFullYear(),d.getMonth(),d.getDate()+E).getTime(),q=Math.sin(E/a*Math.PI*4)*(O-_)*.25,X=Math.sin(E/a*Math.PI*6+Math.PI/3)*(O-_)*.15,j=(O-_)*E/a,pt=Math.round(_+j*.3+q+X);g.push([Q,Math.max(_,Math.min(O,pt))])}return{data:g,stats:{totalRecords:M,minValue:_,maxValue:O}}}}_calculateLeaseBuckets(t){let e={1:0,2:0,3:0,4:0,5:0,lifetime:0},i=[];t.forEach(r=>{let o=this._calculateLeaseYears(r.registeredAt,r.expiresAt);if(o===null)return;let g=Math.floor(o),h;if(!(o<.5)){if(o<1)h="1",e[1]++;else if(g>=1&&g<=5)h=String(g),e[h]++;else if(g>5)console.log("\u{1F50D} Lifetime lease:",r.name,o),h="lifetime",e.lifetime++;else return;i.push({name:r.name,registeredAt:r.registeredAt,expiresAt:r.expiresAt,years:o,bucket:h})}}),console.log("\u{1F4CA} Tag Lease Length Calculations:",{totalRecords:t.length,calculatedLeases:i.length,buckets:e,details:i.filter(r=>r.bucket==="3")});let a=["1 Year","2 Years","3 Years","4 Years","5 Years","lifetime"],d=[e[1],e[2],e[3],e[4],e[5],e.lifetime];return{buckets:e,labels:a,counts:d}}_toPercentSeries(t){let e=t.reduce((i,a)=>i+a,0)||1;return t.map(i=>Math.round(i*1e4/e)/100)}_calculateTrends(t,e){let i=e&&t?e/t*100:0,a=15,d=i>0?Math.round((i-a)/a*100*10)/10:0,r=i,o=100,g=r>0?Math.round((r-o)/o*100*10)/10:0,h=e&&t?e/t*100:0,y=e&&t?e/t*110:0,k=h>0?Math.round((y-h)/h*100*10)/10:0;return{conversionRateTrend:d,premiumAdoptionTrend:g,revenuePotentialTrend:k}}_processRecords(t){this.records=this._parseItemsToRecords(t);let e=this.records.length,i=this.records.filter(o=>o.type==="mainnet").length,a=this._buildDailySeries(this.records),d=this._buildDailySeries(this.records,o=>o.type==="mainnet");this.dailyStats={highestDay:a.stats.highestDay,lowestDay:a.stats.lowestDay,totalRecords:a.stats.totalRecords},this.paidDailyStats={highestDay:d.stats.highestDay,lowestDay:d.stats.lowestDay,totalRecords:d.stats.totalRecords};let r=this._calculateTrends(e,i);this.conversionRateTrend=r.conversionRateTrend,this.premiumAdoptionTrend=r.premiumAdoptionTrend,this.revenuePotentialTrend=r.revenuePotentialTrend,this.data={conversions:{amount:i},visits:{amount:e},visitorsVsPageViews:{overallScore:i&&e?Math.round(i/e*100)+"%":"0%",averageRatio:i&&e?i/e*100:0,predictedRatio:i&&e?i/e*110:0}}}static{this.\u0275fac=function(e){return new(e||s)(x(dt),x(Jt),x(N),x(Se),x(he),x(D))}}static{this.\u0275cmp=w({type:s,selectors:[["analytics"]],decls:290,vars:206,consts:[["visitorsYearSelector","matButtonToggleGroup"],["visitorsMenu","matMenu"],["conversionMenu","matMenu"],["impressionsMenu","matMenu"],["tagLeaseChart",""],["domainLengthChart",""],["originChart",""],[1,"flex","w-full","flex-auto","flex-col"],[1,"mx-auto","flex","w-full","max-w-screen-xl","flex-wrap","p-6","md:p-8"],[1,"flex","w-full","items-center","justify-between"],[1,"text-3xl","font-semibold","leading-8","tracking-tight"],[1,"text-secondary","font-medium","tracking-tight"],[1,"ml-6","flex","items-center"],[1,"mt-8","grid","w-full","grid-cols-1","gap-8","sm:grid-cols-2","lg:grid-cols-3"],[1,"bg-card","dark","flex","flex-auto","flex-col","overflow-hidden","rounded-2xl","shadow","sm:col-span-2","lg:col-span-3"],[1,"ml-10","mr-6","mt-10","flex","items-center","justify-between","sm:mr-10"],[1,"flex","flex-col"],[1,"mr-4","text-2xl","font-semibold","leading-7","tracking-tight","md:text-3xl"],[1,"text-secondary","font-medium"],[1,"mt-3","flex","flex-wrap","gap-4","text-sm"],[1,"ml-2"],["value","this-month",1,"hidden","space-x-1","border-none","sm:inline-flex"],["value","previous-month",1,"overflow-hidden","rounded-full","border-none","px-1.5","font-medium"],["value","this-month",1,"overflow-hidden","rounded-full","border-none","px-1.5","font-medium"],[1,"sm:hidden"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"svgIcon"],["mat-menu-item",""],[1,"flex","h-80","flex-auto","flex-col"],[3,"records","selectedPeriod"],[1,"bg-card","flex","flex-auto","flex-col","overflow-hidden","rounded-2xl","shadow","sm:col-span-2","lg:col-span-1"],[1,"m-6","mb-0","flex","items-start","justify-between"],[1,"truncate","text-lg","font-medium","leading-6","tracking-tight"],["mat-button","",1,"bg-hover","h-6","min-h-6","rounded-full","px-2",3,"matMenuTriggerFor"],[1,"text-secondary","text-sm","font-medium"],[1,"mx-6","mt-3","flex","flex-col","lg:flex-row","lg:items-center"],[1,"text-7xl","font-bold","leading-tight","tracking-tighter"],[1,"flex","lg:ml-3","lg:flex-col"],[1,"text-red-500","icon-size-5",3,"svgIcon"],[1,"text-secondary","ml-1","flex","items-center","whitespace-nowrap","text-md","leading-none","lg:ml-0","lg:mt-0.5"],[1,"font-medium","text-red-500"],[1,"ml-1"],[1,"flex","h-20","flex-auto","flex-col"],[3,"records"],[1,"bg-card","flex","flex-auto","flex-col","overflow-hidden","rounded-2xl","shadow"],[1,"mx-6","mt-6","flex","h-20","items-center","justify-center","text-secondary"],[1,"bg-card","mt-8","flex","flex-auto","flex-col","overflow-hidden","rounded-2xl","shadow"],[1,"mx-6","mt-6","flex","items-start"],[1,"grid","grid-cols-1","gap-8","sm:grid-cols-3","sm:gap-12"],[1,"flex","items-center"],[1,"text-secondary","font-medium","leading-5"],[1,"text-hint","ml-1.5","icon-size-4",3,"svgIcon","matTooltip"],[1,"mt-2","flex","items-start"],[1,"text-4xl","font-bold","leading-none","tracking-tight"],[1,"ml-2","flex","items-center"],[1,"mt-3","flex","h-80","flex-auto","flex-col"],[1,"mt-12","w-full"],[1,"text-2xl","font-semibold","leading-6","tracking-tight"],[1,"mt-6","grid","w-full","grid-cols-1","gap-8","sm:grid-cols-2","md:mt-8","lg:grid-cols-4"],[1,"bg-card","flex","flex-auto","flex-col","overflow-hidden","rounded-2xl","p-6","shadow"],[1,"flex","items-start","justify-between"],[1,"mt-6","flex","h-44","flex-auto","flex-col"],[1,"mt-8"],[1,"-my-3","divide-y"],[1,"grid","grid-cols-3","py-3"],[3,"records","currentDomain"],[1,"flex","items-center","gap-1.5"],[1,"text-secondary"],[1,"font-semibold","text-green-500"],[1,"font-semibold","text-red-500"],[1,"font-semibold"],[1,"icon-size-5",3,"ngClass","svgIcon"],[1,"ml-1","text-md","font-medium",3,"ngClass"],[1,"h-2","w-2","flex-0","rounded-full"],[1,"ml-3","truncate"],[1,"text-right","font-medium"],[1,"text-secondary","text-right"],[1,"ml-3","break-words",3,"title"]],template:function(e,i){if(e&1&&(l(0,"div",7)(1,"div",8)(2,"div",9)(3,"div")(4,"div",10),p(5),u(6,"transloco"),c(),l(7,"div",11),p(8),u(9,"transloco"),c()(),v(10,"div",12),c(),l(11,"div",13)(12,"div",14)(13,"div",15)(14,"div",16)(15,"div",17),p(16),u(17,"transloco"),c(),l(18,"div",18),p(19),u(20,"transloco"),c(),$(21,$e,28,29,"div",19),c(),l(22,"div",20)(23,"mat-button-toggle-group",21,0)(25,"mat-button-toggle",22),p(26),u(27,"transloco"),c(),l(28,"mat-button-toggle",23),p(29),u(30,"transloco"),c()(),l(31,"div",24)(32,"button",25),v(33,"mat-icon",26),c(),l(34,"mat-menu",null,1)(36,"button",27),p(37),u(38,"transloco"),c(),l(39,"button",27),p(40),u(41,"transloco"),c()()()()(),l(42,"div",28),v(43,"app-all-tags-overview-chart",29),c()(),l(44,"div",30)(45,"div",31)(46,"div",32),p(47),u(48,"transloco"),c(),l(49,"div",20)(50,"button",33)(51,"span",34),p(52),u(53,"transloco"),c()(),l(54,"mat-menu",null,2)(56,"button",27),p(57),u(58,"transloco"),c(),l(59,"button",27),p(60),u(61,"transloco"),c(),l(62,"button",27),p(63),u(64,"transloco"),c()()()(),l(65,"div",35)(66,"div",36),p(67),u(68,"number"),c(),l(69,"div",37),v(70,"mat-icon",38),l(71,"div",39)(72,"span",40),p(73,"2%"),c(),l(74,"span",41),p(75),u(76,"transloco"),c()()()(),l(77,"div",42),v(78,"app-conversions-chart",43),c()(),l(79,"div",44)(80,"div",31)(81,"div",32),p(82),u(83,"transloco"),c(),l(84,"div",20)(85,"button",33)(86,"span",34),p(87),u(88,"transloco"),c()(),l(89,"mat-menu",null,3)(91,"button",27),p(92),u(93,"transloco"),c(),l(94,"button",27),p(95),u(96,"transloco"),c(),l(97,"button",27),p(98),u(99,"transloco"),c()()()(),l(100,"div",45),p(101),u(102,"transloco"),c()(),l(103,"div",44)(104,"div",31)(105,"div",32),p(106),u(107,"transloco"),c(),l(108,"div",20)(109,"button",33)(110,"span",34),p(111),u(112,"transloco"),c()(),l(113,"mat-menu",null,3)(115,"button",27),p(116),u(117,"transloco"),c(),l(118,"button",27),p(119),u(120,"transloco"),c(),l(121,"button",27),p(122),u(123,"transloco"),c()()()(),l(124,"div",35)(125,"div",36),p(126),u(127,"number"),c(),l(128,"div",37),v(129,"mat-icon",38),l(130,"div",39)(131,"span",40),p(132,"4%"),c(),l(133,"span",41),p(134),u(135,"transloco"),c()()()(),l(136,"div",42),v(137,"app-visits-chart",43),c()()(),l(138,"div",46)(139,"div",31)(140,"div",32),p(141),u(142,"transloco"),c(),l(143,"div",20)(144,"button",33)(145,"span",34),p(146),u(147,"transloco"),c()(),l(148,"mat-menu",null,2)(150,"button",27),p(151),u(152,"transloco"),c(),l(153,"button",27),p(154),u(155,"transloco"),c(),l(156,"button",27),p(157),u(158,"transloco"),c()()()(),l(159,"div",47)(160,"div",48)(161,"div",16)(162,"div",49)(163,"div",50),p(164),u(165,"transloco"),c(),v(166,"mat-icon",51),u(167,"transloco"),c(),l(168,"div",52)(169,"div",53),p(170),c(),$(171,Ue,5,8,"div",54),c()(),l(172,"div",16)(173,"div",49)(174,"div",50),p(175),u(176,"transloco"),c(),v(177,"mat-icon",51),u(178,"transloco"),c(),l(179,"div",52)(180,"div",53),p(181),u(182,"number"),c(),$(183,ze,5,8,"div",54),c()(),l(184,"div",16)(185,"div",49)(186,"div",50),p(187),u(188,"transloco"),c(),v(189,"mat-icon",51),u(190,"transloco"),c(),l(191,"div",52)(192,"div",53),p(193),u(194,"number"),c(),$(195,Ze,5,8,"div",54),c()()()(),l(196,"div",55),v(197,"app-visitors-vs-page-views-chart",43),c()(),l(198,"div",56)(199,"div",57),p(200),u(201,"transloco"),c(),l(202,"div",11),p(203),u(204,"transloco"),c()(),l(205,"div",58)(206,"div",59)(207,"div",60)(208,"div",32),p(209),u(210,"transloco"),c(),l(211,"div",20)(212,"button",33)(213,"span",34),p(214),u(215,"transloco"),c()(),l(216,"mat-menu",null,2)(218,"button",27),p(219),u(220,"transloco"),c(),l(221,"button",27),p(222),u(223,"transloco"),c(),l(224,"button",27),p(225),u(226,"transloco"),c()()()(),l(227,"div",61),v(228,"app-tag-lease-lengths-chart",43,4),c(),l(230,"div",62)(231,"div",63),ot(232,He,10,7,"div",64,nt),c()()(),l(234,"div",59)(235,"div",60)(236,"div",32),p(237),u(238,"transloco"),c(),l(239,"div",20)(240,"button",33)(241,"span",34),p(242),u(243,"transloco"),c()(),l(244,"mat-menu",null,2)(246,"button",27),p(247),u(248,"transloco"),c(),l(249,"button",27),p(250),u(251,"transloco"),c(),l(252,"button",27),p(253),u(254,"transloco"),c()()()(),l(255,"div",61),v(256,"app-domain-length-chart",65,5),c(),l(258,"div",62)(259,"div",63),ot(260,We,10,7,"div",64,nt),c()()(),l(262,"div",59)(263,"div",60)(264,"div",32),p(265),u(266,"transloco"),c(),l(267,"div",20)(268,"button",33)(269,"span",34),p(270),u(271,"transloco"),c()(),l(272,"mat-menu",null,2)(274,"button",27),p(275),u(276,"transloco"),c(),l(277,"button",27),p(278),u(279,"transloco"),c(),l(280,"button",27),p(281),u(282,"transloco"),c()()()(),l(283,"div",61),v(284,"app-origin-chart",43,6),c(),l(286,"div",62)(287,"div",63),ot(288,Xe,10,6,"div",64,nt),c()()()()()()),e&2){let a=F(24),d=F(35),r=F(55),o=F(90),g=F(229),h=F(257),y=F(285);n(5),f(m(6,86,"analytics.title")),n(3),f(m(9,88,"analytics.description")),n(8),S(" ",m(17,90,"analytics.tagDomainsOverview.title")," "),n(3),f(m(20,92,"analytics.tagDomainsOverview.subtitle")),n(2),U(i.dailyStats&&i.dailyStats.highestDay&&i.dailyStats.lowestDay?21:-1),n(5),S("",m(27,94,"analytics.tagDomainsOverview.previousMonth")," "),n(3),S("",m(30,96,"analytics.tagDomainsOverview.thisMonth")," "),n(3),b("matMenuTriggerFor",d),n(),b("svgIcon","heroicons_outline:ellipsis-vertical"),n(4),f(m(38,98,"analytics.tagDomainsOverview.thisMonth")),n(3),f(m(41,100,"analytics.tagDomainsOverview.previousMonth")),n(3),b("records",i.records)("selectedPeriod",a.value||"this-month"),n(4),f(m(48,102,"analytics.paidTags.title")),n(3),b("matMenuTriggerFor",r),n(2),f(m(53,104,"analytics.timePeriods.30days")),n(5),f(m(58,106,"analytics.timePeriods.30days")),n(3),f(m(61,108,"analytics.timePeriods.3months")),n(3),f(m(64,110,"analytics.timePeriods.9months")),n(4),S(" ",z(68,112,i.data.conversions.amount,"1.0-0")," "),n(3),b("svgIcon","heroicons_mini:arrow-trending-down"),n(5),f(m(76,115,"analytics.stats.belowTarget")),n(3),b("records",i.records),n(4),f(m(83,117,"analytics.zelfkeySubscriptions.title")),n(3),b("matMenuTriggerFor",o),n(2),f(m(88,119,"analytics.timePeriods.30days")),n(5),f(m(93,121,"analytics.timePeriods.30days")),n(3),f(m(96,123,"analytics.timePeriods.3months")),n(3),f(m(99,125,"analytics.timePeriods.9months")),n(3),f(m(102,127,"analytics.stats.comingSoon")),n(5),f(m(107,129,"analytics.activeTags.title")),n(3),b("matMenuTriggerFor",o),n(2),f(m(112,131,"analytics.timePeriods.30days")),n(5),f(m(117,133,"analytics.timePeriods.30days")),n(3),f(m(120,135,"analytics.timePeriods.3months")),n(3),f(m(123,137,"analytics.timePeriods.9months")),n(4),S(" ",z(127,139,i.data.visits.amount,"1.0-0")," "),n(3),b("svgIcon","heroicons_mini:arrow-trending-down"),n(5),f(m(135,142,"analytics.stats.belowTarget")),n(3),b("records",i.records),n(4),f(m(142,144,"analytics.allTagsVsPaidTags.title")),n(3),b("matMenuTriggerFor",r),n(2),f(m(147,146,"analytics.timePeriods.30days")),n(5),f(m(152,148,"analytics.timePeriods.30days")),n(3),f(m(155,150,"analytics.timePeriods.3months")),n(3),f(m(158,152,"analytics.timePeriods.9months")),n(7),f(m(165,154,"analytics.metrics.conversionRate.title")),n(2),b("svgIcon","heroicons_mini:information-circle")("matTooltip",m(167,156,"analytics.metrics.conversionRate.description")),n(4),S(" ",i.data.visitorsVsPageViews.overallScore," "),n(),U(i.conversionRateTrend!==0?171:-1),n(4),f(m(176,158,"analytics.metrics.premiumAdoption.title")),n(2),b("svgIcon","heroicons_mini:information-circle")("matTooltip",m(178,160,"analytics.metrics.premiumAdoption.description")),n(4),S(" ",z(182,162,i.data.visitorsVsPageViews.averageRatio,"1.0-0"),"% "),n(2),U(i.premiumAdoptionTrend!==0?183:-1),n(4),f(m(188,165,"analytics.metrics.revenuePotential.title")),n(2),b("svgIcon","heroicons_mini:information-circle")("matTooltip",m(190,167,"analytics.metrics.revenuePotential.description")),n(4),S(" ",z(194,169,i.data.visitorsVsPageViews.predictedRatio,"1.0-0"),"% "),n(2),U(i.revenuePotentialTrend!==0?195:-1),n(2),b("records",i.records),n(3),f(m(201,172,"analytics.zelfUsers.title")),n(3),f(m(204,174,"analytics.zelfUsers.subtitle")),n(6),f(m(210,176,"analytics.tagLeaseLengths.title")),n(3),b("matMenuTriggerFor",r),n(2),f(m(215,178,"analytics.timePeriods.30days")),n(5),f(m(220,180,"analytics.timePeriods.30days")),n(3),f(m(223,182,"analytics.timePeriods.3months")),n(3),f(m(226,184,"analytics.timePeriods.9months")),n(3),b("records",i.records),n(4),rt(g.series),n(5),f(m(238,186,"analytics.domainLength.title")),n(3),b("matMenuTriggerFor",r),n(2),f(m(243,188,"analytics.timePeriods.30days")),n(5),f(m(248,190,"analytics.timePeriods.30days")),n(3),f(m(251,192,"analytics.timePeriods.3months")),n(3),f(m(254,194,"analytics.timePeriods.9months")),n(3),b("records",i.records)("currentDomain",i.currentDomain),n(4),rt(h.series),n(5),f(m(266,196,"analytics.origin.title")),n(3),b("matMenuTriggerFor",r),n(2),f(m(271,198,"analytics.timePeriods.30days")),n(5),f(m(276,200,"analytics.timePeriods.30days")),n(3),f(m(279,202,"analytics.timePeriods.3months")),n(3),f(m(282,204,"analytics.timePeriods.9months")),n(3),b("records",i.records),n(4),rt(y.series)}},dependencies:[B,Wt,Qt,ce,se,le,pe,de,_e,ye,ve,xe,Ie,yt,ct,be,fe,me,ue,De,Te,Me,Oe,Ae,Be,Ee],encapsulation:2,changeDetection:0})}}return s})();var Da=[{path:"",component:Fe,resolve:{data:()=>I(dt).getData()}}];export{Da as default};
