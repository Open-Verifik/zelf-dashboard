import{a as Oe,b as Ae}from"./chunk-6QO5SLNH.js";import{a as A}from"./chunk-62C2VAQR.js";import{a as De}from"./chunk-6ZGYVSFB.js";import{a as We}from"./chunk-OZXA6VWH.js";import{e as X}from"./chunk-ILHUZDYS.js";import{a as Ne,b as Ve}from"./chunk-WMU4DVX2.js";import{a as Pe,c as $e}from"./chunk-EVPYPNUG.js";import{a as de,b as ce,c as pe}from"./chunk-7DWE4W2K.js";import"./chunk-MCJLLZNO.js";import"./chunk-GCWISREG.js";import{b as Q,c as ee,d as te,e as ie,j as ne,k as re,l as Le,m as Be,n as Me}from"./chunk-3GEO6YUQ.js";import"./chunk-JYHC2XGO.js";import{a as Te,b as ze}from"./chunk-BUIRSCSM.js";import{b as ue,d as _,f as ge,g as fe,i as T,k as he,l as ve,m as ye,o as xe,p as _e,q as be,r as Ee,s as Se,t as we,u as Ce,x as ke,y as Ie,z as Fe}from"./chunk-VTBKW2GH.js";import{b as se,c as le}from"./chunk-AWGMSRYJ.js";import{$ as G,ca as H,fa as ae,ia as oe}from"./chunk-XLOSQDG4.js";import"./chunk-2PUMVMOA.js";import{a as me}from"./chunk-VFSGURZL.js";import{d as K}from"./chunk-PANCWU5R.js";import"./chunk-BIZJNN6K.js";import{k as Z,l as j,m as J,o as U,s as q}from"./chunk-4QULIMQU.js";import{Ab as E,Bc as O,Fc as l,Gc as d,Ib as c,Mc as R,Tb as a,Ub as r,Vb as g,Zb as M,dc as w,fc as x,gb as n,hb as B,pc as D,qc as s,ra as v,rc as p,sa as y,sc as u,ub as Y,vc as C,wc as k,xc as I,zc as S}from"./chunk-J6ZWT2MN.js";import{g as W}from"./chunk-TSRGIXR5.js";var Re=(m,h)=>({"bg-green-100 text-green-800 border border-green-200":m,"bg-red-100 text-red-800 border border-red-200":h}),Ze=(m,h)=>({"text-green-600":m,"text-red-600":h}),je=()=>["coinbase","crypto","stripe","paypal"],Je=()=>["BTC","ETH","SOL","USDC","USDT","BDAG","AVAX","ZNS"],L=()=>({standalone:!0});function Ue(m,h){if(m&1&&(a(0,"div",53)(1,"div",54)(2,"mat-icon",55),s(3),r(),a(4,"span"),s(5),r()()()),m&2){let e=x();c("ngClass",O(4,Re,e.alertType==="success",e.alertType==="error")),n(2),c("ngClass",O(7,Ze,e.alertType==="success",e.alertType==="error")),n(),u(" ",e.alertType==="success"?"check_circle":"error"," "),n(2),p(e.alertMessage)}}function qe(m,h){m&1&&(a(0,"mat-error"),s(1),l(2,"transloco"),r()),m&2&&(n(),u(" ",d(2,1,"license.basic_information.domain_required")," "))}function Ke(m,h){m&1&&(a(0,"mat-error"),s(1),l(2,"transloco"),r()),m&2&&(n(),u(" ",d(2,1,"license.basic_information.domain_pattern_error")," "))}function Ge(m,h){m&1&&(a(0,"mat-error"),s(1),l(2,"transloco"),r()),m&2&&(n(),u(" ",d(2,1,"license.validation_rules.max_length_error")," "))}function He(m,h){if(m&1){let e=M();a(0,"span",104),s(1),a(2,"button",105),w("click",function(){let t=v(e).$implicit,o=x(2);return y(o.removeReservedWord(t))}),a(3,"mat-icon",75),s(4,"close"),r()()()}if(m&2){let e=h.$implicit;n(),u(" ",e," ")}}function Xe(m,h){if(m&1){let e=M();a(0,"div",54)(1,"mat-checkbox",106),w("change",function(){let t=v(e).$implicit,o=x(2);return y(o.togglePaymentMethod(t))}),r(),a(2,"span",107),s(3),l(4,"titlecase"),r()()}if(m&2){let e=h.$implicit,i=x(2);n(),c("checked",i.isPaymentMethodEnabled(e)),n(2),p(d(4,2,e))}}function Qe(m,h){if(m&1){let e=M();a(0,"div",54)(1,"mat-checkbox",106),w("change",function(){let t=v(e).$implicit,o=x(2);return y(o.toggleCurrency(t))}),r(),a(2,"span",107),s(3),r()()}if(m&2){let e=h.$implicit,i=x(2);n(),c("checked",i.supportedCurrencies.includes(e)),n(2),p(e)}}function et(m,h){m&1&&(a(0,"div",108)(1,"mat-icon",109),s(2,"inbox"),r(),a(3,"p"),s(4),l(5,"transloco"),r()()),m&2&&(n(4),p(d(5,1,"license.payment_settings.no_items")))}function tt(m,h){if(m&1){let e=M();a(0,"div",112)(1,"div",113)(2,"input",114),l(3,"transloco"),I("ngModelChange",function(t){let o=v(e).$implicit;return k(o.domain,t)||(o.domain=t),y(t)}),r()(),a(4,"div",113)(5,"input",115),l(6,"transloco"),I("ngModelChange",function(t){let o=v(e).$implicit;return k(o.discount,t)||(o.discount=t),y(t)}),r()(),a(7,"div",113)(8,"select",116),I("ngModelChange",function(t){let o=v(e).$implicit;return k(o.type,t)||(o.type=t),y(t)}),a(9,"option",117),s(10),l(11,"transloco"),r(),a(12,"option",118),s(13),l(14,"transloco"),r()()(),a(15,"button",119),w("click",function(){let t=v(e).index,o=x(3);return y(o.removeWhitelistItem(t))}),a(16,"mat-icon",75),s(17,"delete"),r()()()}if(m&2){let e=h.$implicit;n(2),C("ngModel",e.domain),c("ngModelOptions",S(18,L))("placeholder",d(3,10,"license.payment_settings.tag_name")),n(3),C("ngModel",e.discount),c("ngModelOptions",S(19,L))("placeholder",d(6,12,"license.payment_settings.discount")),n(3),C("ngModel",e.type),c("ngModelOptions",S(20,L)),n(2),p(d(11,14,"license.payment_settings.percentage")),n(3),p(d(14,16,"license.payment_settings.fixed_amount"))}}function it(m,h){if(m&1&&(a(0,"div",110),E(1,tt,18,21,"div",111),r()),m&2){let e=x(2);n(),c("ngForOf",e.whitelistItems)}}function nt(m,h){if(m&1){let e=M();a(0,"tr")(1,"td",120),s(2),r(),a(3,"td",121)(4,"input",122),I("ngModelChange",function(t){let o=v(e).$implicit;return k(o.oneYear,t)||(o.oneYear=t),y(t)}),r()(),a(5,"td",121)(6,"input",122),I("ngModelChange",function(t){let o=v(e).$implicit;return k(o.twoYears,t)||(o.twoYears=t),y(t)}),r()(),a(7,"td",121)(8,"input",122),I("ngModelChange",function(t){let o=v(e).$implicit;return k(o.threeYears,t)||(o.threeYears=t),y(t)}),r()(),a(9,"td",121)(10,"input",122),I("ngModelChange",function(t){let o=v(e).$implicit;return k(o.fourYears,t)||(o.fourYears=t),y(t)}),r()(),a(11,"td",121)(12,"input",122),I("ngModelChange",function(t){let o=v(e).$implicit;return k(o.fiveYears,t)||(o.fiveYears=t),y(t)}),r()(),a(13,"td",121)(14,"input",122),I("ngModelChange",function(t){let o=v(e).$implicit;return k(o.lifetime,t)||(o.lifetime=t),y(t)}),r()()()}if(m&2){let e=h.$implicit;n(2),p(e.length),n(2),C("ngModel",e.oneYear),c("ngModelOptions",S(13,L)),n(2),C("ngModel",e.twoYears),c("ngModelOptions",S(14,L)),n(2),C("ngModel",e.threeYears),c("ngModelOptions",S(15,L)),n(2),C("ngModel",e.fourYears),c("ngModelOptions",S(16,L)),n(2),C("ngModel",e.fiveYears),c("ngModelOptions",S(17,L)),n(2),C("ngModel",e.lifetime),c("ngModelOptions",S(18,L))}}function rt(m,h){if(m&1){let e=M();a(0,"div",56)(1,"div",57)(2,"mat-icon",58),s(3,"dns"),r(),a(4,"div")(5,"h2",59),s(6),l(7,"transloco"),r(),a(8,"p",60),s(9),l(10,"transloco"),r()(),a(11,"div",61),s(12),l(13,"transloco"),r()(),a(14,"div",62)(15,"div",63)(16,"div",13)(17,"mat-icon",64),s(18,"rule"),r(),a(19,"h3",15),s(20),l(21,"transloco"),r()(),a(22,"div",65)(23,"div")(24,"mat-form-field",17)(25,"mat-label"),s(26),l(27,"transloco"),r(),g(28,"input",66),l(29,"transloco"),r()(),a(30,"div")(31,"mat-form-field",17)(32,"mat-label"),s(33),l(34,"transloco"),r(),g(35,"input",67),l(36,"transloco"),a(37,"mat-hint",68),s(38),l(39,"transloco"),r(),E(40,Ge,3,3,"mat-error",20),r()(),a(41,"div")(42,"mat-form-field",17)(43,"mat-label"),s(44),l(45,"transloco"),r(),g(46,"input",19),l(47,"transloco"),r()()(),a(48,"div",69)(49,"label",70),s(50),l(51,"transloco"),r(),a(52,"div",71),E(53,He,5,1,"span",72),a(54,"div",54)(55,"input",73,0),l(57,"transloco"),w("keyup.enter",function(){v(e);let t=D(56);return x().addReservedWord(t.value),y(t.value="")}),r(),a(58,"button",74),w("click",function(){v(e);let t=D(56);return x().addReservedWord(t.value),y(t.value="")}),a(59,"mat-icon",75),s(60,"add"),r()()()()(),a(61,"div",76)(62,"div",77)(63,"mat-icon",78),s(64,"block"),r(),a(65,"label",79),s(66),l(67,"transloco"),r(),g(68,"mat-slide-toggle",80),r(),a(69,"p",34),s(70),l(71,"transloco"),r()()(),a(72,"div",63)(73,"div",13)(74,"mat-icon",27),s(75,"payment"),r(),a(76,"h3",15),s(77),l(78,"transloco"),r()(),a(79,"div",81)(80,"div")(81,"label",70),s(82),l(83,"transloco"),r(),a(84,"div",82),E(85,Xe,5,4,"div",83),r(),a(86,"div",84),s(87),r()(),a(88,"div")(89,"label",70),s(90),l(91,"transloco"),r(),a(92,"div",82),E(93,Qe,4,2,"div",83),r(),a(94,"div",84),s(95),r()(),a(96,"div")(97,"div",85)(98,"h4",79),s(99),l(100,"transloco"),r(),a(101,"button",86),w("click",function(){v(e);let t=x();return y(t.addWhitelistItem())}),a(102,"mat-icon",24),s(103,"add"),r(),s(104),l(105,"transloco"),r()(),E(106,et,6,3,"div",87)(107,it,2,1,"div",88),a(108,"div",89)(109,"p",90),s(110),l(111,"transloco"),r(),a(112,"p",60),s(113),l(114,"transloco"),r(),a(115,"p",60),s(116),l(117,"transloco"),r()()()()(),a(118,"div",63)(119,"div",85)(120,"div",54)(121,"mat-icon",91),s(122,"table_chart"),r(),a(123,"h3",15),s(124),l(125,"transloco"),r()(),a(126,"button",92),w("click",function(){v(e);let t=x();return y(t.resetPricingTable())}),a(127,"mat-icon",24),s(128,"refresh"),r(),s(129),l(130,"transloco"),r()(),a(131,"div",93)(132,"p",94),s(133),l(134,"transloco"),r()(),a(135,"div",95)(136,"table",96)(137,"thead",97)(138,"tr")(139,"th",98),s(140),l(141,"transloco"),r(),a(142,"th",99),s(143),l(144,"transloco"),r(),a(145,"th",99),s(146),l(147,"transloco"),r(),a(148,"th",99),s(149),l(150,"transloco"),r(),a(151,"th",99),s(152),l(153,"transloco"),r(),a(154,"th",99),s(155),l(156,"transloco"),r(),a(157,"th",99),s(158),l(159,"transloco"),r()()(),a(160,"tbody",100),E(161,nt,15,19,"tr",101),r()()(),a(162,"div",102)(163,"h4",90),s(164),l(165,"transloco"),r(),a(166,"ul",103)(167,"li"),s(168),l(169,"transloco"),r(),a(170,"li"),s(171),l(172,"transloco"),r(),a(173,"li"),s(174),l(175,"transloco"),r(),a(176,"li"),s(177),l(178,"transloco"),r()()()(),a(179,"div",63)(180,"div",13)(181,"mat-icon",91),s(182,"storage"),r(),a(183,"h3",15),s(184),l(185,"transloco"),r()(),a(186,"div",16)(187,"div",28)(188,"div",30)(189,"div",31)(190,"div",54)(191,"mat-icon",14),s(192,"cloud"),r(),a(193,"h3",32),s(194),l(195,"transloco"),r()(),g(196,"mat-slide-toggle",33),r(),a(197,"p",34),s(198),l(199,"transloco"),r()(),a(200,"div",30)(201,"div",31)(202,"div",54)(203,"mat-icon",27),s(204,"archive"),r(),a(205,"h3",32),s(206),l(207,"transloco"),r()(),g(208,"mat-slide-toggle",33),r(),a(209,"p",34),s(210),l(211,"transloco"),r()(),a(212,"div",30)(213,"div",31)(214,"div",54)(215,"mat-icon",64),s(216,"pets"),r(),a(217,"h3",32),s(218),l(219,"transloco"),r()(),g(220,"mat-slide-toggle",33),r(),a(221,"p",34),s(222),l(223,"transloco"),r()()(),a(224,"div",28)(225,"div")(226,"mat-form-field",17)(227,"mat-label"),s(228),l(229,"transloco"),r(),g(230,"input",19),l(231,"transloco"),r()()()()()()()}if(m&2){let e,i=x();n(6),p(d(7,68,"license.features.zns_title")),n(3),p(d(10,70,"license.features.zns_description")),n(3),u(" ",d(13,72,"license.features.zns_enabled")," "),n(8),p(d(21,74,"license.validation_rules.title")),n(4),c("subscriptSizing","dynamic"),n(2),p(d(27,76,"license.validation_rules.min_length")),n(2),c("formControlName","minLength")("placeholder",d(29,78,"license.validation_rules.min_length_placeholder")),n(3),c("subscriptSizing","dynamic"),n(2),p(d(34,80,"license.validation_rules.max_length")),n(2),c("formControlName","maxLength")("placeholder",d(36,82,"license.validation_rules.max_length_placeholder")),n(3),p(d(39,84,"license.validation_rules.max_length_hint")),n(2),c("ngIf",(e=i.accountForm.get("maxLength"))==null?null:e.hasError("max")),n(2),c("subscriptSizing","dynamic"),n(2),p(d(45,86,"license.validation_rules.hold_suffix")),n(2),c("formControlName","holdSuffix")("placeholder",d(47,88,"license.validation_rules.hold_suffix_placeholder")),n(4),p(d(51,90,"license.validation_rules.reserved_words")),n(3),c("ngForOf",i.reservedWords),n(2),c("placeholder",d(57,92,"license.validation_rules.add_reserved_word")),n(11),p(d(67,94,"license.validation_rules.content_filter")),n(2),c("formControlName","contentFilterEnabled"),n(2),u(" ",d(71,96,"license.validation_rules.content_filter_description")," "),n(7),p(d(78,98,"license.payment_settings.title")),n(5),p(d(83,100,"license.payment_settings.payment_methods")),n(3),c("ngForOf",S(162,je)),n(2),u(" Selected methods: ",i.getPaymentMethods().join(", ")||"None"," "),n(3),p(d(91,102,"license.payment_settings.supported_currencies")),n(3),c("ngForOf",S(163,Je)),n(2),u(" Selected currencies: ",i.supportedCurrencies.join(", ")||"None"," "),n(4),u(" ",d(100,104,"license.payment_settings.whitelist_title")," "),n(5),u(" ",d(105,106,"license.payment_settings.add_item")," "),n(2),c("ngIf",i.whitelistItems.length===0),n(),c("ngIf",i.whitelistItems.length>0),n(3),u(" ",d(111,108,"license.payment_settings.examples")," "),n(3),p(d(114,110,"license.payment_settings.example_1")),n(3),p(d(117,112,"license.payment_settings.example_2")),n(8),p(d(125,114,"license.pricing_table.title")),n(5),u(" ",d(130,116,"license.pricing_table.reset_default")," "),n(4),p(d(134,118,"license.pricing_table.description")),n(7),u(" ",d(141,120,"license.pricing_table.length")," "),n(3),u(" ",d(144,122,"license.pricing_table.one_year")," "),n(3),u(" ",d(147,124,"license.pricing_table.two_years")," "),n(3),u(" ",d(150,126,"license.pricing_table.three_years")," "),n(3),u(" ",d(153,128,"license.pricing_table.four_years")," "),n(3),u(" ",d(156,130,"license.pricing_table.five_years")," "),n(3),u(" ",d(159,132,"license.pricing_table.lifetime")," "),n(3),c("ngForOf",i.pricingTableRows),n(3),u(" ",d(165,134,"license.pricing_table.pricing_info")," "),n(4),p(d(169,136,"license.pricing_table.pricing_info_1")),n(3),p(d(172,138,"license.pricing_table.pricing_info_2")),n(3),p(d(175,140,"license.pricing_table.pricing_info_3")),n(3),p(d(178,142,"license.pricing_table.pricing_info_4")),n(7),u("",d(185,144,"license.storage_options.title")," (ZNS)"),n(10),u(" ",d(195,146,"license.storage_options.ipfs_title")," "),n(2),c("formControlName","ipfsEnabled"),n(2),p(d(199,148,"license.storage_options.ipfs_description")),n(8),u(" ",d(207,150,"license.storage_options.arweave_title")," "),n(2),c("formControlName","arweaveEnabled"),n(2),u(" ",d(211,152,"license.storage_options.arweave_description")," "),n(8),u(" ",d(219,154,"license.storage_options.walrus_title")," "),n(2),c("formControlName","walrusEnabled"),n(2),p(d(223,156,"license.storage_options.walrus_description")),n(4),c("subscriptSizing","dynamic"),n(2),p(d(229,158,"license.storage_options.key_prefix")),n(2),c("formControlName","keyPrefix")("placeholder",d(231,160,"license.storage_options.key_prefix_placeholder"))}}function at(m,h){m&1&&(a(0,"div",56)(1,"div",57)(2,"mat-icon",58),s(3,"vpn_key"),r(),a(4,"div")(5,"h2",59),s(6),l(7,"transloco"),r(),a(8,"p",60),s(9),l(10,"transloco"),r()(),a(11,"div",61),s(12),l(13,"transloco"),r()(),a(14,"div",62)(15,"div",123)(16,"div",13)(17,"mat-icon",91),s(18,"storage"),r(),a(19,"h3",15),s(20),l(21,"transloco"),r()(),a(22,"div",16)(23,"div",28)(24,"div",30)(25,"div",31)(26,"div",54)(27,"mat-icon",14),s(28,"cloud"),r(),a(29,"h3",32),s(30),l(31,"transloco"),r()(),g(32,"mat-slide-toggle",33),r(),a(33,"p",34),s(34),l(35,"transloco"),r()(),a(36,"div",30)(37,"div",31)(38,"div",54)(39,"mat-icon",27),s(40,"archive"),r(),a(41,"h3",32),s(42),l(43,"transloco"),r()(),g(44,"mat-slide-toggle",33),r(),a(45,"p",34),s(46),l(47,"transloco"),r()(),a(48,"div",30)(49,"div",31)(50,"div",54)(51,"mat-icon",64),s(52,"pets"),r(),a(53,"h3",32),s(54),l(55,"transloco"),r()(),g(56,"mat-slide-toggle",33),r(),a(57,"p",34),s(58),l(59,"transloco"),r()()(),a(60,"div",28)(61,"div")(62,"mat-form-field",17)(63,"mat-label"),s(64),l(65,"transloco"),r(),g(66,"input",19),l(67,"transloco"),r()()()()()()()),m&2&&(n(6),p(d(7,17,"license.features.zelfkeys_title")),n(3),p(d(10,19,"license.features.zelfkeys_description")),n(3),u(" ",d(13,21,"license.features.zelfkeys_enabled")," "),n(8),u(" ",d(21,23,"license.storage_options.title")," (ZelfKeys) "),n(10),u(" ",d(31,25,"license.storage_options.ipfs_title")," "),n(2),c("formControlName","zelfkeysIpfsEnabled"),n(2),p(d(35,27,"license.storage_options.ipfs_description")),n(8),u(" ",d(43,29,"license.storage_options.arweave_title")," "),n(2),c("formControlName","zelfkeysArweaveEnabled"),n(2),u(" ",d(47,31,"license.storage_options.arweave_description")," "),n(8),u(" ",d(55,33,"license.storage_options.walrus_title")," "),n(2),c("formControlName","zelfkeysWalrusEnabled"),n(2),p(d(59,35,"license.storage_options.walrus_description")),n(4),c("subscriptSizing","dynamic"),n(2),p(d(65,37,"license.storage_options.key_prefix")),n(2),c("formControlName","zelfkeysKeyPrefix")("placeholder",d(67,39,"license.storage_options.key_prefix_placeholder")))}function ot(m,h){m&1&&g(0,"mat-spinner",124)}var Dt=(()=>{class m{constructor(e,i,t,o,f,b,F){this._formBuilder=e,this._router=i,this._saveConfirmationService=t,this._translocoService=o,this._cdr=f,this._licenseService=b,this._httpWrapper=F,this.isLoading=!1,this.showAlert=!1,this.alertMessage="",this.alertType="success",this.currentLicense=null,this.reservedWords=["www","api","admin","support","help"],this.supportedCurrencies=["BTC","ETH","SOL","USDC","USDT","BDAG","AVAX","ZNS"],this.whitelistItems=[],this.pricingTableRows=[],this.ALLOWED_CURRENCIES=["BTC","ETH","SOL","USDC","USDT","BDAG","AVAX","ZNS"],this.MAX_TAG_LENGTH=27,this.zelfkeysPlans=[],this.inappropriateWords=["dick","vagina","porn","sex","fuck","shit","bitch","ass","damn","hell","crap","piss","bastard","whore","slut","fag","nigger","retard","idiot","stupid","moron","dumb","hate","kill","die","death","murder","suicide"]}ngOnInit(){this.initializeWhitelistItems(),this.initializePricingTable(),this.createEmptyForm()}ngAfterViewInit(){this.loadLicense().then(()=>{this.populateFormFromLicense()})}createEmptyForm(){this.accountForm=this._formBuilder.group({domain:["",[_.required,_.pattern(/^[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]$/)]],status:[{value:"active",disabled:!0}],owner:["zelf-team",_.required],description:["Official Zelf domain",_.required],znsEnabled:[!0],zelfkeysEnabled:[!0],minLength:[3,[_.required,_.min(1)]],maxLength:[27,[_.required,_.min(1),_.max(27)]],holdSuffix:[".hold",_.required],contentFilterEnabled:[!0],ipfsEnabled:[!0],arweaveEnabled:[!0],walrusEnabled:[!0],keyPrefix:["tagName",_.required],zelfkeysIpfsEnabled:[!0],zelfkeysArweaveEnabled:[!0],zelfkeysWalrusEnabled:[!0],zelfkeysKeyPrefix:["tagName",_.required],coinbaseEnabled:[!0],cryptoEnabled:[!0],stripeEnabled:[!0],startDate:[{value:"",disabled:!0}],endDate:[{value:"",disabled:!0}],launchDate:["2023-01-01"],version:["1.0.0",_.required],documentation:["https://docs.zelf.world"],community:[""],enterprise:[""],support:["standard"]}),this.addWhitelistFormControls()}initializeWhitelistItems(){this.whitelistItems=[{domain:"",discount:"",type:"%"}]}addWhitelistFormControls(){this.whitelistItems.forEach((e,i)=>{this.accountForm.get(`whitelistDomain_${i}`)||this.accountForm.addControl(`whitelistDomain_${i}`,new T(e.domain)),this.accountForm.get(`whitelistDiscount_${i}`)||this.accountForm.addControl(`whitelistDiscount_${i}`,new T(e.discount)),this.accountForm.get(`whitelistType_${i}`)||this.accountForm.addControl(`whitelistType_${i}`,new T(e.type))})}removeWhitelistFormControls(){this.whitelistItems.forEach((e,i)=>{this.accountForm.removeControl(`whitelistDomain_${i}`),this.accountForm.removeControl(`whitelistDiscount_${i}`),this.accountForm.removeControl(`whitelistType_${i}`)})}addReservedWord(e){e&&e.trim()&&!this.reservedWords.includes(e.trim())&&this.reservedWords.push(e.trim())}removeReservedWord(e){let i=this.reservedWords.indexOf(e);i>-1&&this.reservedWords.splice(i,1)}addCurrency(e){let i=e.trim().toUpperCase();i&&this.ALLOWED_CURRENCIES.includes(i)&&!this.supportedCurrencies.includes(i)?this.supportedCurrencies.push(i):i&&!this.ALLOWED_CURRENCIES.includes(i)&&this.showError(`Currency "${i}" is not supported. Allowed currencies: ${this.ALLOWED_CURRENCIES.join(", ")}`)}removeCurrency(e){let i=this.supportedCurrencies.indexOf(e);i>-1&&this.supportedCurrencies.splice(i,1)}toggleCurrency(e){this.supportedCurrencies.includes(e)?this.removeCurrency(e):this.supportedCurrencies.push(e)}togglePaymentMethod(e){this.getPaymentMethods().includes(e)?e==="coinbase"?this.accountForm.get("coinbaseEnabled")?.setValue(!1):e==="crypto"?this.accountForm.get("cryptoEnabled")?.setValue(!1):e==="stripe"&&this.accountForm.get("stripeEnabled")?.setValue(!1):e==="coinbase"?this.accountForm.get("coinbaseEnabled")?.setValue(!0):e==="crypto"?this.accountForm.get("cryptoEnabled")?.setValue(!0):e==="stripe"&&this.accountForm.get("stripeEnabled")?.setValue(!0)}isPaymentMethodEnabled(e){return this.getPaymentMethods().includes(e)}addWhitelistItem(){let e={domain:"",discount:"",type:"%"};this.whitelistItems.push(e);let i=this.whitelistItems.length-1;this.accountForm.addControl(`whitelistDomain_${i}`,new T("")),this.accountForm.addControl(`whitelistDiscount_${i}`,new T("")),this.accountForm.addControl(`whitelistType_${i}`,new T("%"))}trackByWhitelistItem(e,i){return e}removeWhitelistItem(e){this.whitelistItems.length>1&&(this.accountForm.removeControl(`whitelistDomain_${e}`),this.accountForm.removeControl(`whitelistDiscount_${e}`),this.accountForm.removeControl(`whitelistType_${e}`),this.whitelistItems.splice(e,1),this.removeWhitelistFormControls(),this.addWhitelistFormControls())}validateDomainName(e){if(!this.accountForm.get("contentFilterEnabled")?.value)return!0;let i=e.toLowerCase();return!this.inappropriateWords.some(t=>i.includes(t))}getPaymentMethods(){let e=[];return this.accountForm.get("coinbaseEnabled")?.value&&e.push("coinbase"),this.accountForm.get("cryptoEnabled")?.value&&e.push("crypto"),this.accountForm.get("stripeEnabled")?.value&&e.push("stripe"),e}getDefaultPricingTable(){return{1:{1:240,2:432,3:612,4:768,5:900,lifetime:3600},2:{1:120,2:216,3:306,4:384,5:450,lifetime:1800},3:{1:72,2:130,3:184,4:230,5:270,lifetime:1080},4:{1:36,2:65,3:92,4:115,5:135,lifetime:540},5:{1:30,2:54,3:76,4:96,5:112,lifetime:450},"6-15":{1:24,2:43,3:61,4:77,5:90,lifetime:360},16:{1:23,2:41,3:59,4:74,5:86,lifetime:345},17:{1:22,2:40,3:56,4:70,5:82,lifetime:330},18:{1:21,2:38,3:54,4:67,5:79,lifetime:315},19:{1:20,2:36,3:51,4:64,5:75,lifetime:300},20:{1:19,2:34,3:48,4:61,5:72,lifetime:285},21:{1:18,2:32,3:46,4:58,5:68,lifetime:270},22:{1:17,2:31,3:43,4:54,5:64,lifetime:255},23:{1:16,2:29,3:41,4:51,5:60,lifetime:240},24:{1:15,2:27,3:38,4:48,5:56,lifetime:225},25:{1:14,2:25,3:36,4:45,5:53,lifetime:210},26:{1:13,2:23,3:33,4:42,5:49,lifetime:195},27:{1:12,2:22,3:31,4:38,5:45,lifetime:180}}}hasLicenseChanges(e){if(!this.currentLicense)return!0;let i=this.accountForm.value,t=this.currentLicense.domainConfig;if(this.currentLicense.domain!==e||t.name!==e||t.holdSuffix!==i.holdSuffix||t.status!==i.status||t.owner!==i.owner||t.description!==i.description)return!0;let o=!0,f=!0;if(o!==i.znsEnabled||f!==i.zelfkeysEnabled||t.tags?.minLength!==i.minLength||t.tags?.maxLength!==i.maxLength||t.tags?.storage?.keyPrefix!==i.keyPrefix||t.tags?.storage?.ipfsEnabled!==i.ipfsEnabled||t.tags?.storage?.arweaveEnabled!==i.arweaveEnabled||t.tags?.storage?.walrusEnabled!==i.walrusEnabled||t.zelfkeys?.storage?.keyPrefix!==i.zelfkeysKeyPrefix||t.zelfkeys?.storage?.ipfsEnabled!==i.zelfkeysIpfsEnabled||t.zelfkeys?.storage?.arweaveEnabled!==i.zelfkeysArweaveEnabled||t.zelfkeys?.storage?.walrusEnabled!==i.zelfkeysWalrusEnabled)return!0;let b=t.tags?.payment?.methods||[],F=this.getPaymentMethods();if(JSON.stringify(b.sort())!==JSON.stringify(F.sort()))return!0;let z=t.tags?.payment?.currencies||[];if(JSON.stringify(z.sort())!==JSON.stringify(this.supportedCurrencies.sort()))return!0;let N=t.tags?.payment?.whitelist||{},V=this.buildWhitelistFromForm();if(JSON.stringify(N)!==JSON.stringify(V))return!0;let P=t.tags?.payment?.pricingTable||{},$=this.getPricingTableFromRows();return JSON.stringify(P)!==JSON.stringify($)||t.metadata.launchDate!==i.launchDate||t.metadata.version!==i.version||t.metadata.documentation!==i.documentation||t.metadata.community!==i.community||t.metadata.enterprise!==i.enterprise||t.metadata.support!==i.support}getLicenseChanges(e){if(!this.currentLicense)return["Creating new license"];let i=[],t=this.accountForm.value,o=this.currentLicense.domainConfig;this.currentLicense.domain!==e&&i.push(`Domain: ${this.currentLicense.domain} \u2192 ${e}`),o.name!==e&&i.push(`Name: ${o.name} \u2192 ${e}`),o.holdSuffix!==t.holdSuffix&&i.push(`Hold Suffix: ${o.holdSuffix} \u2192 ${t.holdSuffix}`),o.status!==t.status&&i.push(`Status: ${o.status} \u2192 ${t.status}`),o.owner!==t.owner&&i.push(`Owner: ${o.owner} \u2192 ${t.owner}`),o.description!==t.description&&i.push(`Description: ${o.description} \u2192 ${t.description}`);let f=!0,b=!0;f!==t.znsEnabled&&i.push(`ZNS Feature: ${f} \u2192 ${t.znsEnabled}`),b!==t.zelfkeysEnabled&&i.push(`Zelfkeys Feature: ${b} \u2192 ${t.zelfkeysEnabled}`),o.tags?.minLength!==t.minLength&&i.push(`Min Length: ${o.tags?.minLength} \u2192 ${t.minLength}`),o.tags?.maxLength!==t.maxLength&&i.push(`Max Length: ${o.tags?.maxLength} \u2192 ${t.maxLength}`),o.tags?.storage?.keyPrefix!==t.keyPrefix&&i.push(`ZNS Key Prefix: ${o.tags?.storage?.keyPrefix} \u2192 ${t.keyPrefix}`),o.tags?.storage?.ipfsEnabled!==t.ipfsEnabled&&i.push(`ZNS IPFS Enabled: ${o.tags?.storage?.ipfsEnabled} \u2192 ${t.ipfsEnabled}`),o.tags?.storage?.arweaveEnabled!==t.arweaveEnabled&&i.push(`ZNS Arweave Enabled: ${o.tags?.storage?.arweaveEnabled} \u2192 ${t.arweaveEnabled}`),o.tags?.storage?.walrusEnabled!==t.walrusEnabled&&i.push(`ZNS Walrus Enabled: ${o.tags?.storage?.walrusEnabled} \u2192 ${t.walrusEnabled}`),o.zelfkeys?.storage?.keyPrefix!==t.zelfkeysKeyPrefix&&i.push(`ZelfKeys Key Prefix: ${o.zelfkeys?.storage?.keyPrefix} \u2192 ${t.zelfkeysKeyPrefix}`),o.zelfkeys?.storage?.ipfsEnabled!==t.zelfkeysIpfsEnabled&&i.push(`ZelfKeys IPFS Enabled: ${o.zelfkeys?.storage?.ipfsEnabled} \u2192 ${t.zelfkeysIpfsEnabled}`),o.zelfkeys?.storage?.arweaveEnabled!==t.zelfkeysArweaveEnabled&&i.push(`ZelfKeys Arweave Enabled: ${o.zelfkeys?.storage?.arweaveEnabled} \u2192 ${t.zelfkeysArweaveEnabled}`),o.zelfkeys?.storage?.walrusEnabled!==t.zelfkeysWalrusEnabled&&i.push(`ZelfKeys Walrus Enabled: ${o.zelfkeys?.storage?.walrusEnabled} \u2192 ${t.zelfkeysWalrusEnabled}`);let F=o.tags?.payment?.methods||[],z=this.getPaymentMethods();JSON.stringify(F.sort())!==JSON.stringify(z.sort())&&i.push(`Payment Methods: ${F.join(", ")} \u2192 ${z.join(", ")}`);let N=o.tags?.payment?.currencies||[];JSON.stringify(N.sort())!==JSON.stringify(this.supportedCurrencies.sort())&&i.push(`Currencies: ${N.join(", ")} \u2192 ${this.supportedCurrencies.join(", ")}`);let V=o.tags?.payment?.whitelist||{},P=this.buildWhitelistFromForm();JSON.stringify(V)!==JSON.stringify(P)&&i.push(`Whitelist: ${Object.keys(V).length} \u2192 ${Object.keys(P).length} entries`);let $=o.tags?.payment?.pricingTable||{},Ye=this.getPricingTableFromRows();return JSON.stringify($)!==JSON.stringify(Ye)&&i.push("Pricing Table: Updated"),o.metadata.launchDate!==t.launchDate&&i.push(`Launch Date: ${o.metadata.launchDate} \u2192 ${t.launchDate}`),o.metadata.version!==t.version&&i.push(`Version: ${o.metadata.version} \u2192 ${t.version}`),o.metadata.documentation!==t.documentation&&i.push(`Documentation: ${o.metadata.documentation} \u2192 ${t.documentation}`),o.metadata.community!==t.community&&i.push(`Community: ${o.metadata.community} \u2192 ${t.community}`),o.metadata.enterprise!==t.enterprise&&i.push(`Enterprise: ${o.metadata.enterprise} \u2192 ${t.enterprise}`),o.metadata.support!==t.support&&i.push(`Support: ${o.metadata.support} \u2192 ${t.support}`),i}buildWhitelistFromForm(){let e={};return this.whitelistItems.forEach((i,t)=>{let o=this.accountForm.get(`whitelistDomain_${t}`)?.value,f=this.accountForm.get(`whitelistDiscount_${t}`)?.value,b=this.accountForm.get(`whitelistType_${t}`)?.value;o&&f&&b&&(e[o]=`${f}${b}`)}),e}cleanupInvalidData(){let e=this.supportedCurrencies.filter(o=>this.ALLOWED_CURRENCIES.includes(o));if(e.length!==this.supportedCurrencies.length){let o=this.supportedCurrencies.filter(f=>!this.ALLOWED_CURRENCIES.includes(f));this.supportedCurrencies=e,o.length>0&&this.showError(`Removed invalid currencies: ${o.join(", ")}. These are no longer supported.`)}let i=this.getPaymentMethods(),t=i.filter(o=>["coinbase","crypto","stripe"].includes(o));if(t.length!==i.length){let o=i.filter(f=>!["coinbase","crypto","stripe"].includes(f));this.accountForm.get("coinbaseEnabled")?.setValue(t.includes("coinbase")),this.accountForm.get("cryptoEnabled")?.setValue(t.includes("crypto")),this.accountForm.get("stripeEnabled")?.setValue(t.includes("stripe")),o.length>0&&this.showError(`Removed invalid payment methods: ${o.join(", ")}. These are no longer supported.`)}}validateDataBeforeSend(){let e=[],i=this.supportedCurrencies.filter(f=>!this.ALLOWED_CURRENCIES.includes(f));i.length>0&&e.push(`Invalid currencies: ${i.join(", ")}. Allowed: ${this.ALLOWED_CURRENCIES.join(", ")}`);let o=this.getPaymentMethods().filter(f=>!["coinbase","crypto","stripe"].includes(f));return o.length>0&&e.push(`Invalid payment methods: ${o.join(", ")}. Allowed: coinbase, crypto, stripe`),{valid:e.length===0,errors:e}}buildDomainConfig(){let e=this.accountForm.value,i=this.validateDataBeforeSend();if(!i.valid)throw this.showError(`Validation failed: ${i.errors.join(", ")}`),new Error(`Validation failed: ${i.errors.join(", ")}`);let t=this.buildWhitelistFromForm();return{name:e.domain,holdSuffix:e.holdSuffix,status:this.accountForm.get("status")?.value||"active",owner:e.owner,description:e.description,tags:{minLength:e.minLength,maxLength:e.maxLength,allowedChars:/^[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]$/,reserved:this.reservedWords,customRules:[],payment:{methods:this.getPaymentMethods(),currencies:this.supportedCurrencies,discounts:{yearly:.1,lifetime:.2},rewardPrice:10,whitelist:t,pricingTable:this.getPricingTableFromRows()},storage:{keyPrefix:e.keyPrefix,ipfsEnabled:e.ipfsEnabled,arweaveEnabled:e.arweaveEnabled,walrusEnabled:e.walrusEnabled}},zelfkeys:{plans:this.zelfkeysPlans,payment:{whitelist:{},pricingTable:{}},storage:{keyPrefix:e.zelfkeysKeyPrefix,ipfsEnabled:e.zelfkeysIpfsEnabled,arweaveEnabled:e.zelfkeysArweaveEnabled,walrusEnabled:e.zelfkeysWalrusEnabled}},metadata:{launchDate:e.launchDate,version:e.version,documentation:e.documentation,community:e.community||void 0,enterprise:e.enterprise||void 0,support:e.support}}}loadCurrentLicense(){let e=localStorage.getItem("license");if(e)try{let i=JSON.parse(e);this.currentLicense=A.fromJSON(i)}catch(i){console.error("Error parsing stored license:",i)}}fetchLicenseFromBackend(){return W(this,null,function*(){try{this.isLoading=!0,this._cdr.detectChanges();let e=yield this._licenseService.getMyLicense(!0);if(!e||!e.data||!e.data.myLicense){console.log("No license found for current user");return}this.currentLicense=A.fromAPIResponseWithWrapper(e.data.myLicense.domainConfig),localStorage.setItem("license",JSON.stringify(this.currentLicense.toJSON())),console.log("License fetched from backend and saved to localStorage")}catch(e){console.error("Error fetching license from backend:",e),this.showAlert=!0,this.alertMessage="Failed to fetch license from server",this.alertType="error"}finally{this.isLoading=!1,this._cdr.detectChanges()}})}loadLicense(){return W(this,null,function*(){this.loadCurrentLicense(),this.currentLicense?.domain||(yield this.fetchLicenseFromBackend())})}populateFormFromLicense(){let e=this.currentLicense?.domainConfig;e&&(this.accountForm.get("domain")?.setValue(e.name||""),this.accountForm.get("status")?.setValue(e.status||"active"),this.accountForm.get("owner")?.setValue(e.owner||"zelf-team"),this.accountForm.get("description")?.setValue(e.description||"Official Zelf domain"),this.accountForm.get("znsEnabled")?.setValue(!0),this.accountForm.get("zelfkeysEnabled")?.setValue(!0),this.accountForm.get("minLength")?.setValue(e.tags?.minLength||3),this.accountForm.get("maxLength")?.setValue(e.tags?.maxLength||50),this.accountForm.get("holdSuffix")?.setValue(e.holdSuffix||".hold"),this.accountForm.get("ipfsEnabled")?.setValue(e.tags?.storage?.ipfsEnabled??!0),this.accountForm.get("arweaveEnabled")?.setValue(e.tags?.storage?.arweaveEnabled??!0),this.accountForm.get("walrusEnabled")?.setValue(e.tags?.storage?.walrusEnabled??!0),this.accountForm.get("keyPrefix")?.setValue(e.tags?.storage?.keyPrefix||"tagName"),this.accountForm.get("zelfkeysIpfsEnabled")?.setValue(e.zelfkeys?.storage?.ipfsEnabled??!0),this.accountForm.get("zelfkeysArweaveEnabled")?.setValue(e.zelfkeys?.storage?.arweaveEnabled??!0),this.accountForm.get("zelfkeysWalrusEnabled")?.setValue(e.zelfkeys?.storage?.walrusEnabled??!0),this.accountForm.get("zelfkeysKeyPrefix")?.setValue(e.zelfkeys?.storage?.keyPrefix||"tagName"),this.accountForm.get("coinbaseEnabled")?.setValue(e.tags?.payment?.methods?.includes("coinbase")??!0),this.accountForm.get("cryptoEnabled")?.setValue(e.tags?.payment?.methods?.includes("crypto")??!0),this.accountForm.get("stripeEnabled")?.setValue(e.tags?.payment?.methods?.includes("stripe")??!0),this.accountForm.get("startDate")?.setValue(e.startDate||""),this.accountForm.get("endDate")?.setValue(e.endDate||""),this.accountForm.get("launchDate")?.setValue(e.metadata?.launchDate||"2023-01-01"),this.accountForm.get("version")?.setValue(e.metadata?.version||"1.0.0"),this.accountForm.get("documentation")?.setValue(e.metadata?.documentation||"https://docs.zelf.world"),this.accountForm.get("community")?.setValue(e.metadata?.community||""),this.accountForm.get("enterprise")?.setValue(e.metadata?.enterprise||""),this.accountForm.get("support")?.setValue(e.metadata?.support||"standard"),e.tags?.reserved&&(this.reservedWords=[...e.tags.reserved]),e.tags?.payment?.currencies&&(this.supportedCurrencies=[...e.tags.payment.currencies]),e.tags?.payment?.pricingTable&&this.loadPricingTableFromConfig(e.tags.payment.pricingTable),e.tags?.payment?.whitelist&&(this.whitelistItems=Object.entries(e.tags.payment.whitelist).map(([i,t])=>{let o=t,f=o.match(/^(\d+(?:\.\d+)?)([%$])$/);return f?{domain:i,discount:f[1],type:f[2]}:{domain:i,discount:o,type:"%"}})),e.zelfkeys?.plans&&(this.zelfkeysPlans=[...e.zelfkeys.plans]),this.whitelistItems.forEach((i,t)=>{this.accountForm.get(`whitelistDomain_${t}`)?.setValue(i.domain),this.accountForm.get(`whitelistDiscount_${t}`)?.setValue(i.discount),this.accountForm.get(`whitelistType_${t}`)?.setValue(i.type)})),this.cleanupInvalidData(),this._cdr.detectChanges()}saveLicense(){if(this.accountForm.invalid){this.showError("Please fill in all required fields correctly");return}let e=this.accountForm.get("domain")?.value;if(!e){this.showError("Domain is required");return}if(!this.validateDomainName(e)){this.showError("Domain name contains inappropriate content. Please choose a different name.");return}if(this.currentLicense&&!this.hasLicenseChanges(e)){this.showError("No changes detected. Please modify at least one field before saving.");return}let i=this.buildDomainConfig();this._saveConfirmationService.setSaveData({domain:i.name,domainConfig:i,redirectUrl:"/settings/license",operation:{title:this._translocoService.translate("saving_operations.license_configuration.title"),description:this._translocoService.translate("saving_operations.license_configuration.description"),action:this._translocoService.translate("saving_operations.license_configuration.action"),itemName:this._translocoService.translate("saving_operations.license_configuration.itemName")}}),this._router.navigate(["/save-confirmation"],{queryParams:{redirect:"/settings/license"}})}showSuccess(e){this.alertMessage=e,this.alertType="success",this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},5e3)}showError(e){this.alertMessage=e,this.alertType="error",this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},5e3)}cancel(){this.loadCurrentLicense()}getCurrentLicense(){return this.currentLicense}isLicenseActive(){return this.currentLicense?.isActive()||!1}licenseSupportsFeature(e){return this.currentLicense?.supportsFeature(e)||!1}getTagPrice(e,i="1",t=""){return this.currentLicense?.getPrice(e,i,t)||null}validateTagName(e){return this.currentLicense?.validateTagName(e)||{valid:!1,error:"No license found"}}generateHoldDomain(e){return this.currentLicense?.generateHoldDomain(e)||""}initializePricingTable(){let e=this.getDefaultPricingTable();this.pricingTableRows=[];for(let t=1;t<=5;t++){let o=e[t]||{1:0,2:0,3:0,4:0,5:0,lifetime:0};this.pricingTableRows.push({length:t.toString(),oneYear:o[1]||0,twoYears:o[2]||0,threeYears:o[3]||0,fourYears:o[4]||0,fiveYears:o[5]||0,lifetime:o.lifetime||0})}let i=e["6-15"]||{1:0,2:0,3:0,4:0,5:0,lifetime:0};this.pricingTableRows.push({length:"6-15",oneYear:i[1]||0,twoYears:i[2]||0,threeYears:i[3]||0,fourYears:i[4]||0,fiveYears:i[5]||0,lifetime:i.lifetime||0});for(let t=16;t<=27;t++){let o=e[t]||{1:0,2:0,3:0,4:0,5:0,lifetime:0};this.pricingTableRows.push({length:t.toString(),oneYear:o[1]||0,twoYears:o[2]||0,threeYears:o[3]||0,fourYears:o[4]||0,fiveYears:o[5]||0,lifetime:o.lifetime||0})}}resetPricingTable(){this.initializePricingTable()}trackByPricingRow(e,i){return i.length}getPricingTableFromRows(){let e={};return this.pricingTableRows.forEach(i=>{e[i.length]={1:i.oneYear||0,2:i.twoYears||0,3:i.threeYears||0,4:i.fourYears||0,5:i.fiveYears||0,lifetime:i.lifetime||0}}),e}loadPricingTableFromConfig(e){if(!e){this.initializePricingTable();return}this.pricingTableRows=[];for(let t=1;t<=5;t++){let o=e[t]||{1:0,2:0,3:0,4:0,5:0,lifetime:0};this.pricingTableRows.push({length:t.toString(),oneYear:o[1]||0,twoYears:o[2]||0,threeYears:o[3]||0,fourYears:o[4]||0,fiveYears:o[5]||0,lifetime:o.lifetime||0})}let i=e["6-15"]||{1:0,2:0,3:0,4:0,5:0,lifetime:0};this.pricingTableRows.push({length:"6-15",oneYear:i[1]||0,twoYears:i[2]||0,threeYears:i[3]||0,fourYears:i[4]||0,fiveYears:i[5]||0,lifetime:i.lifetime||0});for(let t=16;t<=27;t++){let o=e[t]||{1:0,2:0,3:0,4:0,5:0,lifetime:0};this.pricingTableRows.push({length:t.toString(),oneYear:o[1]||0,twoYears:o[2]||0,threeYears:o[3]||0,fourYears:o[4]||0,fiveYears:o[5]||0,lifetime:o.lifetime||0})}}static{this.\u0275fac=function(i){return new(i||m)(B(ke),B(K),B(We),B(de),B(R),B(De),B(me))}}static{this.\u0275cmp=Y({type:m,selectors:[["settings-license"]],decls:201,vars:149,consts:[["newReservedWord",""],[1,"w-full","max-w-6xl"],["class","mb-6 p-4 rounded-lg",3,"ngClass",4,"ngIf"],[3,"formGroup"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-300"],[1,"bg-blue-50","dark:bg-blue-900/20","border","border-blue-200","dark:border-blue-700","rounded-lg","p-4","mb-6"],[1,"flex","items-start"],[1,"text-blue-600","dark:text-blue-400","mr-3","mt-0.5"],[1,"text-sm","font-semibold","text-blue-800","dark:text-blue-200","mb-2"],[1,"text-sm","text-blue-700","dark:text-blue-300","space-y-1"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","border","border-gray-200","dark:border-gray-700","p-6","mb-6"],[1,"flex","items-center","mb-4"],[1,"text-blue-600","dark:text-blue-400","mr-2"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"fuse-mat-emphasized-affix","w-full",3,"subscriptSizing"],["matPrefix",""],["matInput","",3,"formControlName","placeholder"],[4,"ngIf"],["matInput","","readonly","",3,"formControlName"],["matInput","","type","date","readonly","",3,"formControlName"],[1,"text-orange-600","dark:text-orange-400"],[1,"text-sm","mr-1"],[1,"md:col-span-2"],["matInput","","rows","3",3,"formControlName","placeholder"],[1,"text-green-600","dark:text-green-400","mr-2"],[1,"space-y-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"border","border-gray-200","dark:border-gray-600","rounded-lg","p-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","text-gray-900","dark:text-white"],[3,"formControlName"],[1,"text-sm","text-gray-600","dark:text-gray-300"],["class","mb-6 transition-all duration-300 ease-in-out",4,"ngIf"],[1,"text-indigo-600","dark:text-indigo-400","mr-2"],[1,"mb-6","p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg"],[1,"flex"],[1,"flex-shrink-0"],[1,"text-blue-400"],[1,"ml-3"],[1,"text-sm","font-medium","text-blue-800","dark:text-blue-200"],[1,"mt-2","text-sm","text-blue-700","dark:text-blue-300"],[1,"mt-1"],["matInput","","type","date",3,"formControlName"],["value","standard"],["value","premium"],["value","enterprise"],[1,"flex","items-center","justify-end","space-x-4"],["mat-stroked-button","","type","button",3,"click","disabled"],["mat-flat-button","","type","button",3,"click","color","disabled"],["diameter","20","class","mr-2",4,"ngIf"],[1,"mb-6","p-4","rounded-lg",3,"ngClass"],[1,"flex","items-center"],[1,"mr-2",3,"ngClass"],[1,"mb-6","transition-all","duration-300","ease-in-out"],[1,"flex","items-center","mb-6"],[1,"text-blue-600","dark:text-blue-400","mr-3","text-2xl"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"ml-auto","px-4","py-2","bg-green-100","dark:bg-green-900/30","text-green-800","dark:text-green-200","text-sm","font-medium","rounded-full","border","border-green-200","dark:border-green-700"],[1,"ml-6","space-y-4"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","border-2","border-orange-200","dark:border-orange-700","p-6"],[1,"text-orange-600","dark:text-orange-400","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],["matInput","","type","number",3,"formControlName","placeholder"],["matInput","","type","number","min","1","max","27",3,"formControlName","placeholder"],["align","end"],[1,"mt-6"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"flex","flex-wrap","gap-2"],["class","inline-flex items-center px-3 py-1 rounded-full text-sm bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",4,"ngFor","ngForOf"],["type","text",1,"px-3","py-1","border","border-gray-300","dark:border-gray-600","rounded-md","text-sm","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400",3,"keyup.enter","placeholder"],["type","button",1,"ml-2","text-blue-600","dark:text-blue-400","hover:text-blue-800","dark:hover:text-blue-300",3,"click"],[1,"text-sm"],[1,"mt-4"],[1,"flex","items-center","mb-2"],[1,"text-red-600","dark:text-red-400","mr-2"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"ml-2",3,"formControlName"],[1,"space-y-6"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"mt-2","text-xs","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","justify-between","mb-4"],["type","button",1,"inline-flex","items-center","px-3","py-1","border","border-gray-300","dark:border-gray-600","text-sm","font-medium","rounded-md","text-gray-700","dark:text-gray-300","bg-white","dark:bg-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600",3,"click"],["class","text-center py-8 text-gray-500 dark:text-gray-400",4,"ngIf"],["class","space-y-3",4,"ngIf"],[1,"mt-4","p-3","bg-gray-50","dark:bg-gray-800","rounded-lg"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"text-purple-600","dark:text-purple-400","mr-2"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","dark:border-gray-600","text-sm","font-medium","rounded-md","text-gray-700","dark:text-gray-300","bg-white","dark:bg-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"mb-4","p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg"],[1,"text-sm","text-blue-700","dark:text-blue-300"],[1,"overflow-x-auto"],[1,"min-w-full","border","border-gray-200","dark:border-gray-700","rounded-lg"],[1,"bg-gray-50","dark:bg-gray-800"],[1,"px-4","py-3","text-left","text-xs","font-medium","text-gray-500","dark:text-gray-400","uppercase","tracking-wider"],[1,"px-4","py-3","text-center","text-xs","font-medium","text-gray-500","dark:text-gray-400","uppercase","tracking-wider"],[1,"bg-white","dark:bg-gray-900","divide-y","divide-gray-200","dark:divide-gray-700"],[4,"ngFor","ngForOf"],[1,"mt-4","p-4","bg-gray-50","dark:bg-gray-800","rounded-lg"],[1,"text-sm","text-gray-600","dark:text-gray-400","space-y-1"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","bg-red-100","dark:bg-red-900","text-red-800","dark:text-red-200"],["type","button",1,"ml-2","text-red-600","dark:text-red-400","hover:text-red-800","dark:hover:text-red-200",3,"click"],[3,"change","checked"],[1,"ml-2","text-sm","text-gray-700","dark:text-gray-300"],[1,"text-center","py-8","text-gray-500","dark:text-gray-400"],[1,"text-4xl","mb-2"],[1,"space-y-3"],["class","flex items-center space-x-3 p-3 border border-gray-200 dark:border-gray-600 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-3","p-3","border","border-gray-200","dark:border-gray-600","rounded-lg"],[1,"flex-1"],[1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","text-sm","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["type","number",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","text-sm","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],[1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","text-sm","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white",3,"ngModelChange","ngModel","ngModelOptions"],["value","percentage"],["value","fixed"],["type","button",1,"text-red-600","dark:text-red-400","hover:text-red-800","dark:hover:text-red-200",3,"click"],[1,"px-4","py-3","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"px-4","py-3","text-center"],["type","number",1,"w-20","px-2","py-1","text-sm","border","border-gray-300","dark:border-gray-600","rounded-md","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white",3,"ngModelChange","ngModel","ngModelOptions"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","border-2","border-blue-200","dark:border-blue-700","p-6"],["diameter","20",1,"mr-2"]],template:function(i,t){if(i&1&&(a(0,"div",1),E(1,Ue,6,10,"div",2),a(2,"form",3)(3,"div",4)(4,"h1",5),s(5),l(6,"transloco"),r(),a(7,"p",6),s(8),l(9,"transloco"),r()(),a(10,"div",7)(11,"div",8)(12,"mat-icon",9),s(13,"info"),r(),a(14,"div")(15,"h3",10),s(16,"Field Restrictions"),r(),a(17,"div",11)(18,"p")(19,"strong"),s(20,"Editable:"),r(),s(21," Domain name, validation rules, payment settings, pricing, storage options, and metadata"),r(),a(22,"p")(23,"strong"),s(24,"Read-only:"),r(),s(25," Start/end dates, status, limits (managed by subscription), Stripe data (managed by webhooks) "),r(),a(26,"p")(27,"strong"),s(28,"Supported Currencies:"),r(),s(29," BTC, ETH, SOL, USDC, USDT, BDAG, AVAX, ZNS"),r()()()()(),a(30,"div",12)(31,"div",13)(32,"mat-icon",14),s(33,"info"),r(),a(34,"h2",15),s(35),l(36,"transloco"),r()(),a(37,"div",16)(38,"div")(39,"mat-form-field",17)(40,"mat-label"),s(41),l(42,"transloco"),r(),a(43,"span",18),s(44),l(45,"transloco"),r(),g(46,"input",19),l(47,"transloco"),E(48,qe,3,3,"mat-error",20)(49,Ke,3,3,"mat-error",20),r()(),a(50,"div")(51,"mat-form-field",17)(52,"mat-label"),s(53),l(54,"transloco"),r(),g(55,"input",21),r()(),a(56,"div")(57,"mat-form-field",17)(58,"mat-label"),s(59),l(60,"transloco"),r(),g(61,"input",19),l(62,"transloco"),r()(),a(63,"div")(64,"mat-form-field",17)(65,"mat-label"),s(66),l(67,"transloco"),r(),g(68,"input",22),a(69,"mat-hint",23)(70,"mat-icon",24),s(71,"info"),r(),s(72," System-managed field "),r()()(),a(73,"div")(74,"mat-form-field",17)(75,"mat-label"),s(76),l(77,"transloco"),r(),g(78,"input",22),a(79,"mat-hint",23)(80,"mat-icon",24),s(81,"info"),r(),s(82," System-managed field "),r()()(),a(83,"div",25)(84,"mat-form-field",17)(85,"mat-label"),s(86),l(87,"transloco"),r(),g(88,"textarea",26),l(89,"transloco"),r()()()(),a(90,"div",12)(91,"div",13)(92,"mat-icon",27),s(93,"extension"),r(),a(94,"h2",15),s(95),l(96,"transloco"),r()(),a(97,"div",28)(98,"div",29)(99,"div",30)(100,"div",31)(101,"h3",32),s(102),l(103,"transloco"),r(),g(104,"mat-slide-toggle",33),r(),a(105,"p",34),s(106),l(107,"transloco"),r()(),a(108,"div",30)(109,"div",31)(110,"h3",32),s(111),l(112,"transloco"),r(),g(113,"mat-slide-toggle",33),r(),a(114,"p",34),s(115),l(116,"transloco"),r()()()()(),E(117,rt,232,164,"div",35)(118,at,68,41,"div",35),a(119,"div",12)(120,"div",13)(121,"mat-icon",36),s(122,"info"),r(),a(123,"h2",15),s(124),l(125,"transloco"),r()(),a(126,"div",37)(127,"div",38)(128,"div",39)(129,"mat-icon",40),s(130,"info"),r()(),a(131,"div",41)(132,"h3",42),s(133),l(134,"transloco"),r(),a(135,"div",43)(136,"p"),s(137),l(138,"transloco"),r(),a(139,"p",44),s(140),l(141,"transloco"),r()()()()(),a(142,"div",16)(143,"div")(144,"mat-form-field",17)(145,"mat-label"),s(146),l(147,"transloco"),r(),g(148,"input",45),r()(),a(149,"div")(150,"mat-form-field",17)(151,"mat-label"),s(152),l(153,"transloco"),r(),g(154,"input",19),l(155,"transloco"),r()(),a(156,"div")(157,"mat-form-field",17)(158,"mat-label"),s(159),l(160,"transloco"),r(),g(161,"input",19),l(162,"transloco"),r()(),a(163,"div")(164,"mat-form-field",17)(165,"mat-label"),s(166),l(167,"transloco"),r(),g(168,"input",19),l(169,"transloco"),r()(),a(170,"div")(171,"mat-form-field",17)(172,"mat-label"),s(173),l(174,"transloco"),r(),g(175,"input",19),l(176,"transloco"),r()(),a(177,"div")(178,"mat-form-field",17)(179,"mat-label"),s(180),l(181,"transloco"),r(),a(182,"mat-select",33)(183,"mat-option",46),s(184),l(185,"transloco"),r(),a(186,"mat-option",47),s(187),l(188,"transloco"),r(),a(189,"mat-option",48),s(190),l(191,"transloco"),r()()()()()(),a(192,"div",49)(193,"button",50),w("click",function(){return t.cancel()}),s(194),l(195,"transloco"),r(),a(196,"button",51),w("click",function(){return t.saveLicense()}),E(197,ot,1,0,"mat-spinner",52),s(198),l(199,"transloco"),l(200,"transloco"),r()()()()),i&2){let o,f,b,F;n(),c("ngIf",t.showAlert),n(),c("formGroup",t.accountForm),n(3),p(d(6,73,"license.title")),n(3),p(d(9,75,"license.subtitle")),n(27),p(d(36,77,"license.basic_information.title")),n(4),c("subscriptSizing","dynamic"),n(2),p(d(42,79,"license.basic_information.domain_name")),n(3),p(d(45,81,"license.basic_information.domain_prefix")),n(2),c("formControlName","domain")("placeholder",d(47,83,"license.basic_information.domain_placeholder")),n(2),c("ngIf",(o=t.accountForm.get("domain"))==null?null:o.hasError("required")),n(),c("ngIf",(f=t.accountForm.get("domain"))==null?null:f.hasError("pattern")),n(2),c("subscriptSizing","dynamic"),n(2),p(d(54,85,"license.basic_information.status")),n(2),c("formControlName","status"),n(2),c("subscriptSizing","dynamic"),n(2),p(d(60,87,"license.basic_information.owner")),n(2),c("formControlName","owner")("placeholder",d(62,89,"license.basic_information.owner_placeholder")),n(3),c("subscriptSizing","dynamic"),n(2),p(d(67,91,"license.basic_information.start_date")),n(2),c("formControlName","startDate"),n(6),c("subscriptSizing","dynamic"),n(2),p(d(77,93,"license.basic_information.end_date")),n(2),c("formControlName","endDate"),n(6),c("subscriptSizing","dynamic"),n(2),p(d(87,95,"license.basic_information.description")),n(2),c("formControlName","description")("placeholder",d(89,97,"license.basic_information.description_placeholder")),n(7),p(d(96,99,"license.features.title")),n(7),p(d(103,101,"license.features.zns_title")),n(2),c("formControlName","znsEnabled"),n(2),p(d(107,103,"license.features.zns_description")),n(5),p(d(112,105,"license.features.zelfkeys_title")),n(2),c("formControlName","zelfkeysEnabled"),n(2),p(d(116,107,"license.features.zelfkeys_description")),n(2),c("ngIf",(b=t.accountForm.get("znsEnabled"))==null?null:b.value),n(),c("ngIf",(F=t.accountForm.get("zelfkeysEnabled"))==null?null:F.value),n(6),p(d(125,109,"license.metadata.title")),n(9),p(d(134,111,"license.limits.info_title")),n(4),p(d(138,113,"license.limits.info_description")),n(3),p(d(141,115,"license.limits.info_subscription")),n(4),c("subscriptSizing","dynamic"),n(2),p(d(147,117,"license.metadata.launch_date")),n(2),c("formControlName","launchDate"),n(2),c("subscriptSizing","dynamic"),n(2),p(d(153,119,"license.metadata.version")),n(2),c("formControlName","version")("placeholder",d(155,121,"license.metadata.version_placeholder")),n(3),c("subscriptSizing","dynamic"),n(2),p(d(160,123,"license.metadata.documentation_url")),n(2),c("formControlName","documentation")("placeholder",d(162,125,"license.metadata.documentation_placeholder")),n(3),c("subscriptSizing","dynamic"),n(2),p(d(167,127,"license.metadata.community")),n(2),c("formControlName","community")("placeholder",d(169,129,"license.metadata.community_placeholder")),n(3),c("subscriptSizing","dynamic"),n(2),p(d(174,131,"license.metadata.enterprise")),n(2),c("formControlName","enterprise")("placeholder",d(176,133,"license.metadata.enterprise_placeholder")),n(3),c("subscriptSizing","dynamic"),n(2),p(d(181,135,"license.metadata.support_level")),n(2),c("formControlName","support"),n(2),p(d(185,137,"license.metadata.support_standard")),n(3),p(d(188,139,"license.metadata.support_premium")),n(3),p(d(191,141,"license.metadata.support_enterprise")),n(3),c("disabled",t.isLoading),n(),p(d(195,143,"license.actions.cancel")),n(2),c("color","primary")("disabled",t.isLoading||t.accountForm.invalid),n(),c("ngIf",t.isLoading),n(),u(" ",t.isLoading?d(199,145,"license.actions.processing"):d(200,147,"license.actions.save_configuration")," ")}},dependencies:[q,Z,j,J,U,Ie,ve,Ee,Se,ue,ye,be,ge,fe,Ce,we,he,Fe,xe,_e,re,ne,Q,te,ee,ie,le,se,Me,Be,Le,$e,Pe,G,H,oe,ae,X,ze,Te,Ae,Oe,Ve,Ne,pe,ce],encapsulation:2,changeDetection:0})}}return m})();export{Dt as SettingsLicenseComponent};
