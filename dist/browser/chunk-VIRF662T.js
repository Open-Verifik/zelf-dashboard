import{a as Oe,b as Re}from"./chunk-LRYC6RAF.js";import{a as O}from"./chunk-DKGAYEZF.js";import{a as De}from"./chunk-XXDV7HHQ.js";import{a as We}from"./chunk-UXD7MUER.js";import{e as ee}from"./chunk-456LCRRY.js";import{a as Pe,b as Ve}from"./chunk-VI6DKHJT.js";import{a as $e,c as ze}from"./chunk-KSDW2XUW.js";import{a as de,b as pe,c as me}from"./chunk-3SPI2WDD.js";import"./chunk-V7IC43MV.js";import"./chunk-NDOVRKQ6.js";import{a as te,b as ie,c as ne,h as re,i as ae,j as Be,k as Le,l as Te}from"./chunk-SHNTY6UR.js";import"./chunk-74PQ66E7.js";import{a as Me,b as Ne}from"./chunk-3RYNRIEU.js";import{b as ge,d as v,f as fe,g as he,i as B,k as xe,l as ye,m as ve,o as be,p as _e,q as Se,r as we,s as Ee,t as ke,w as Ce,x as Ie,y as Fe}from"./chunk-U24Z2T3V.js";import{b as le,c as ce}from"./chunk-LJHJNPXI.js";import{Z as X,aa as Y,da as oe,ga as se}from"./chunk-G7WMUM3M.js";import"./chunk-7GJ2SD7F.js";import{a as ue}from"./chunk-J2EWY72L.js";import{d as Q}from"./chunk-P75W44TP.js";import"./chunk-DHILS6ZV.js";import{k as U,l as H,m as G,t as K}from"./chunk-TN6JIOJD.js";import{Ab as E,Bc as J,Fc as s,Gc as l,Ib as d,Oc as q,Tb as a,Ub as r,Vb as u,Zb as T,dc as _,fc as M,gb as t,hb as w,pc as V,qc as o,ra as x,rc as p,sa as y,sc as h,ub as j,vc as k,wc as C,xc as I,zc as F}from"./chunk-OXKMU5WL.js";import{a as S,g as A}from"./chunk-TSRGIXR5.js";var Ze=(m,b)=>({"bg-green-100 text-green-800 border border-green-200":m,"bg-red-100 text-red-800 border border-red-200":b}),Ae=(m,b)=>({"text-green-600":m,"text-red-600":b}),N=()=>({standalone:!0});function Je(m,b){if(m&1&&(a(0,"div",85)(1,"div",34)(2,"mat-icon",86),o(3),r(),a(4,"span"),o(5),r()()()),m&2){let e=M();d("ngClass",J(4,Ze,e.alertType==="success",e.alertType==="error")),t(2),d("ngClass",J(7,Ae,e.alertType==="success",e.alertType==="error")),t(),h(" ",e.alertType==="success"?"check_circle":"error"," "),t(2),p(e.alertMessage)}}function je(m,b){m&1&&(a(0,"mat-error"),o(1),s(2,"transloco"),r()),m&2&&(t(),p(l(2,1,"license.basic_information.domain_required")))}function qe(m,b){m&1&&(a(0,"mat-error"),o(1),s(2,"transloco"),r()),m&2&&(t(),h(" ",l(2,1,"license.basic_information.domain_pattern_error")," "))}function Ue(m,b){if(m&1){let e=T();a(0,"span",87),o(1),a(2,"button",88),_("click",function(){let i=x(e).$implicit,c=M();return y(c.removeReservedWord(i))}),a(3,"mat-icon",37),o(4,"close"),r()()()}if(m&2){let e=b.$implicit;t(),h(" ",e," ")}}function He(m,b){if(m&1){let e=T();a(0,"span",89),o(1),a(2,"button",90),_("click",function(){let i=x(e).$implicit,c=M();return y(c.removeCurrency(i))}),a(3,"mat-icon",37),o(4,"close"),r()()()}if(m&2){let e=b.$implicit;t(),h(" ",e," ")}}function Ge(m,b){if(m&1){let e=T();a(0,"tr",91)(1,"td",92),u(2,"input",93),r(),a(3,"td",92),u(4,"input",94),r(),a(5,"td",92)(6,"select",95)(7,"option",96),o(8),s(9,"transloco"),r(),a(10,"option",97),o(11),s(12,"transloco"),r()()(),a(13,"td",98)(14,"button",99),_("click",function(){let i=x(e).index,c=M();return y(c.removeWhitelistItem(i))}),a(15,"mat-icon",100),o(16,"delete"),r()()()()}if(m&2){let e=b.index,n=M();t(2),d("formControlName","whitelistDomain_"+e),t(2),d("formControlName","whitelistDiscount_"+e),t(2),d("formControlName","whitelistType_"+e),t(2),p(l(9,6,"license.payment_settings.percentage")),t(3),p(l(12,8,"license.payment_settings.fixed_amount")),t(3),d("disabled",n.whitelistItems.length<=1)}}function Ke(m,b){m&1&&(a(0,"tr",53)(1,"td",101)(2,"mat-icon",102),o(3,"inbox"),r(),a(4,"p"),o(5),s(6,"transloco"),r()()()),m&2&&(t(5),p(l(6,1,"license.payment_settings.no_items")))}function Qe(m,b){if(m&1){let e=T();a(0,"tr",91)(1,"td",103),o(2),r(),a(3,"td",104)(4,"input",105),I("ngModelChange",function(i){let c=x(e).$implicit;return C(c.prices[1],i)||(c.prices[1]=i),y(i)}),r()(),a(5,"td",104)(6,"input",105),I("ngModelChange",function(i){let c=x(e).$implicit;return C(c.prices[2],i)||(c.prices[2]=i),y(i)}),r()(),a(7,"td",104)(8,"input",105),I("ngModelChange",function(i){let c=x(e).$implicit;return C(c.prices[3],i)||(c.prices[3]=i),y(i)}),r()(),a(9,"td",104)(10,"input",105),I("ngModelChange",function(i){let c=x(e).$implicit;return C(c.prices[4],i)||(c.prices[4]=i),y(i)}),r()(),a(11,"td",104)(12,"input",105),I("ngModelChange",function(i){let c=x(e).$implicit;return C(c.prices[5],i)||(c.prices[5]=i),y(i)}),r()(),a(13,"td",104)(14,"input",105),I("ngModelChange",function(i){let c=x(e).$implicit;return C(c.prices.lifetime,i)||(c.prices.lifetime=i),y(i)}),r()()()}if(m&2){let e=b.$implicit;t(2),h(" ",e.length," "),t(2),k("ngModel",e.prices[1]),d("ngModelOptions",F(13,N)),t(2),k("ngModel",e.prices[2]),d("ngModelOptions",F(14,N)),t(2),k("ngModel",e.prices[3]),d("ngModelOptions",F(15,N)),t(2),k("ngModel",e.prices[4]),d("ngModelOptions",F(16,N)),t(2),k("ngModel",e.prices[5]),d("ngModelOptions",F(17,N)),t(2),k("ngModel",e.prices.lifetime),d("ngModelOptions",F(18,N))}}function Xe(m,b){m&1&&u(0,"mat-spinner",106)}var Tt=(()=>{class m{constructor(e,n,i,c,g,f,L){this._formBuilder=e,this._router=n,this._saveConfirmationService=i,this._translocoService=c,this._cdr=g,this._licenseService=f,this._httpWrapper=L,this.isLoading=!1,this.showAlert=!1,this.alertMessage="",this.alertType="success",this.currentLicense=null,this.reservedWords=["www","api","admin","support","help"],this.supportedCurrencies=["USD","BTC","ETH","SOL"],this.whitelistItems=[],this.pricingTableRows=[],this.inappropriateWords=["dick","vagina","porn","sex","fuck","shit","bitch","ass","damn","hell","crap","piss","bastard","whore","slut","fag","nigger","retard","idiot","stupid","moron","dumb","hate","kill","die","death","murder","suicide"]}ngOnInit(){this.initializeWhitelistItems(),this.initializePricingTable(),this.createEmptyForm()}ngAfterViewInit(){this.loadLicense().then(()=>{this.populateFormFromLicense()})}createEmptyForm(){this.accountForm=this._formBuilder.group({domain:["",[v.required,v.pattern(/^[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]$/)]],status:["active",v.required],owner:["zelf-team",v.required],description:["Official Zelf domain",v.required],znsEnabled:[!0],zelfkeysEnabled:[!0],minLength:[3,[v.required,v.min(1)]],maxLength:[50,[v.required,v.min(1)]],holdSuffix:[".hold",v.required],contentFilterEnabled:[!0],ipfsEnabled:[!0],arweaveEnabled:[!0],walrusEnabled:[!0],keyPrefix:["tagName",v.required],coinbaseEnabled:[!0],cryptoEnabled:[!0],stripeEnabled:[!0],maxTags:[1e4,[v.required,v.min(1)]],maxZelfkeys:[1e4,[v.required,v.min(1)]],launchDate:["2023-01-01"],version:["1.0.0",v.required],documentation:["https://docs.zelf.world"],community:[""],enterprise:[""],support:["standard"]}),this.addWhitelistFormControls()}initializeWhitelistItems(){this.whitelistItems=[{domain:"",discount:"",type:"%"}]}addWhitelistFormControls(){this.whitelistItems.forEach((e,n)=>{this.accountForm.get(`whitelistDomain_${n}`)||this.accountForm.addControl(`whitelistDomain_${n}`,new B(e.domain)),this.accountForm.get(`whitelistDiscount_${n}`)||this.accountForm.addControl(`whitelistDiscount_${n}`,new B(e.discount)),this.accountForm.get(`whitelistType_${n}`)||this.accountForm.addControl(`whitelistType_${n}`,new B(e.type))})}removeWhitelistFormControls(){this.whitelistItems.forEach((e,n)=>{this.accountForm.removeControl(`whitelistDomain_${n}`),this.accountForm.removeControl(`whitelistDiscount_${n}`),this.accountForm.removeControl(`whitelistType_${n}`)})}addReservedWord(e){e&&e.trim()&&!this.reservedWords.includes(e.trim())&&this.reservedWords.push(e.trim())}removeReservedWord(e){let n=this.reservedWords.indexOf(e);n>-1&&this.reservedWords.splice(n,1)}addCurrency(e){e&&e.trim()&&!this.supportedCurrencies.includes(e.trim().toUpperCase())&&this.supportedCurrencies.push(e.trim().toUpperCase())}removeCurrency(e){let n=this.supportedCurrencies.indexOf(e);n>-1&&this.supportedCurrencies.splice(n,1)}addWhitelistItem(){let e={domain:"",discount:"",type:"%"};this.whitelistItems.push(e);let n=this.whitelistItems.length-1;this.accountForm.addControl(`whitelistDomain_${n}`,new B("")),this.accountForm.addControl(`whitelistDiscount_${n}`,new B("")),this.accountForm.addControl(`whitelistType_${n}`,new B("%"))}trackByWhitelistItem(e,n){return e}removeWhitelistItem(e){this.whitelistItems.length>1&&(this.accountForm.removeControl(`whitelistDomain_${e}`),this.accountForm.removeControl(`whitelistDiscount_${e}`),this.accountForm.removeControl(`whitelistType_${e}`),this.whitelistItems.splice(e,1),this.removeWhitelistFormControls(),this.addWhitelistFormControls())}validateDomainName(e){if(!this.accountForm.get("contentFilterEnabled")?.value)return!0;let n=e.toLowerCase();return!this.inappropriateWords.some(i=>n.includes(i))}getPaymentMethods(){let e=[];return this.accountForm.get("coinbaseEnabled")?.value&&e.push("coinbase"),this.accountForm.get("cryptoEnabled")?.value&&e.push("crypto"),this.accountForm.get("stripeEnabled")?.value&&e.push("stripe"),e}getDefaultPricingTable(){return{1:{1:240,2:432,3:612,4:768,5:900,lifetime:3600},2:{1:120,2:216,3:306,4:384,5:450,lifetime:1800},3:{1:72,2:130,3:184,4:230,5:270,lifetime:1080},4:{1:36,2:65,3:92,4:115,5:135,lifetime:540},5:{1:30,2:54,3:76,4:96,5:112,lifetime:450},"6-15":{1:24,2:43,3:61,4:77,5:90,lifetime:360},16:{1:23,2:41,3:59,4:74,5:86,lifetime:345},17:{1:22,2:40,3:56,4:70,5:82,lifetime:330},18:{1:21,2:38,3:54,4:67,5:79,lifetime:315},19:{1:20,2:36,3:51,4:64,5:75,lifetime:300},20:{1:19,2:34,3:48,4:61,5:72,lifetime:285},21:{1:18,2:32,3:46,4:58,5:68,lifetime:270},22:{1:17,2:31,3:43,4:54,5:64,lifetime:255},23:{1:16,2:29,3:41,4:51,5:60,lifetime:240},24:{1:15,2:27,3:38,4:48,5:56,lifetime:225},25:{1:14,2:25,3:36,4:45,5:53,lifetime:210},26:{1:13,2:23,3:33,4:42,5:49,lifetime:195},27:{1:12,2:22,3:31,4:38,5:45,lifetime:180}}}hasLicenseChanges(e){if(!this.currentLicense)return!0;let n=this.accountForm.value,i=this.currentLicense.domainConfig;if(this.currentLicense.domain!==e||i.name!==e||i.holdSuffix!==n.holdSuffix||i.status!==n.status||i.owner!==n.owner||i.description!==n.description||i.limits.tags!==n.maxTags||i.limits.zelfkeys!==n.maxZelfkeys)return!0;let c=i.features.find(P=>P.code==="zns")?.enabled,g=i.features.find(P=>P.code==="zelfkeys")?.enabled;if(c!==n.znsEnabled||g!==n.zelfkeysEnabled||i.validation.minLength!==n.minLength||i.validation.maxLength!==n.maxLength||i.storage.keyPrefix!==n.keyPrefix||i.storage.ipfsEnabled!==n.ipfsEnabled||i.storage.arweaveEnabled!==n.arweaveEnabled||i.storage.walrusEnabled!==n.walrusEnabled)return!0;let f=i.tagPaymentSettings.methods,L=this.getPaymentMethods();if(JSON.stringify(f.sort())!==JSON.stringify(L.sort()))return!0;let $=i.tagPaymentSettings.currencies;if(JSON.stringify($.sort())!==JSON.stringify(this.supportedCurrencies.sort()))return!0;let z=i.tagPaymentSettings.whitelist,W=this.buildWhitelistFromForm();if(JSON.stringify(z)!==JSON.stringify(W))return!0;let D=i.tagPaymentSettings.pricingTable,R=this.getPricingTableFromRows();return JSON.stringify(D)!==JSON.stringify(R)||i.metadata.launchDate!==n.launchDate||i.metadata.version!==n.version||i.metadata.documentation!==n.documentation||i.metadata.community!==n.community||i.metadata.enterprise!==n.enterprise||i.metadata.support!==n.support}getLicenseChanges(e){if(!this.currentLicense)return["Creating new license"];let n=[],i=this.accountForm.value,c=this.currentLicense.domainConfig;this.currentLicense.domain!==e&&n.push(`Domain: ${this.currentLicense.domain} \u2192 ${e}`),c.name!==e&&n.push(`Name: ${c.name} \u2192 ${e}`),c.holdSuffix!==i.holdSuffix&&n.push(`Hold Suffix: ${c.holdSuffix} \u2192 ${i.holdSuffix}`),c.status!==i.status&&n.push(`Status: ${c.status} \u2192 ${i.status}`),c.owner!==i.owner&&n.push(`Owner: ${c.owner} \u2192 ${i.owner}`),c.description!==i.description&&n.push(`Description: ${c.description} \u2192 ${i.description}`),c.limits.tags!==i.maxTags&&n.push(`Max Tags: ${c.limits.tags} \u2192 ${i.maxTags}`),c.limits.zelfkeys!==i.maxZelfkeys&&n.push(`Max Zelfkeys: ${c.limits.zelfkeys} \u2192 ${i.maxZelfkeys}`);let g=c.features.find(Z=>Z.code==="zns")?.enabled,f=c.features.find(Z=>Z.code==="zelfkeys")?.enabled;g!==i.znsEnabled&&n.push(`ZNS Feature: ${g} \u2192 ${i.znsEnabled}`),f!==i.zelfkeysEnabled&&n.push(`Zelfkeys Feature: ${f} \u2192 ${i.zelfkeysEnabled}`),c.validation.minLength!==i.minLength&&n.push(`Min Length: ${c.validation.minLength} \u2192 ${i.minLength}`),c.validation.maxLength!==i.maxLength&&n.push(`Max Length: ${c.validation.maxLength} \u2192 ${i.maxLength}`),c.storage.keyPrefix!==i.keyPrefix&&n.push(`Key Prefix: ${c.storage.keyPrefix} \u2192 ${i.keyPrefix}`),c.storage.ipfsEnabled!==i.ipfsEnabled&&n.push(`IPFS Enabled: ${c.storage.ipfsEnabled} \u2192 ${i.ipfsEnabled}`),c.storage.arweaveEnabled!==i.arweaveEnabled&&n.push(`Arweave Enabled: ${c.storage.arweaveEnabled} \u2192 ${i.arweaveEnabled}`),c.storage.walrusEnabled!==i.walrusEnabled&&n.push(`Walrus Enabled: ${c.storage.walrusEnabled} \u2192 ${i.walrusEnabled}`);let L=c.tagPaymentSettings.methods,$=this.getPaymentMethods();JSON.stringify(L.sort())!==JSON.stringify($.sort())&&n.push(`Payment Methods: ${L.join(", ")} \u2192 ${$.join(", ")}`);let z=c.tagPaymentSettings.currencies;JSON.stringify(z.sort())!==JSON.stringify(this.supportedCurrencies.sort())&&n.push(`Currencies: ${z.join(", ")} \u2192 ${this.supportedCurrencies.join(", ")}`);let W=c.tagPaymentSettings.whitelist,D=this.buildWhitelistFromForm();JSON.stringify(W)!==JSON.stringify(D)&&n.push(`Whitelist: ${Object.keys(W).length} \u2192 ${Object.keys(D).length} entries`);let R=c.tagPaymentSettings.pricingTable,P=this.getPricingTableFromRows();return JSON.stringify(R)!==JSON.stringify(P)&&n.push("Pricing Table: Updated"),c.metadata.launchDate!==i.launchDate&&n.push(`Launch Date: ${c.metadata.launchDate} \u2192 ${i.launchDate}`),c.metadata.version!==i.version&&n.push(`Version: ${c.metadata.version} \u2192 ${i.version}`),c.metadata.documentation!==i.documentation&&n.push(`Documentation: ${c.metadata.documentation} \u2192 ${i.documentation}`),c.metadata.community!==i.community&&n.push(`Community: ${c.metadata.community} \u2192 ${i.community}`),c.metadata.enterprise!==i.enterprise&&n.push(`Enterprise: ${c.metadata.enterprise} \u2192 ${i.enterprise}`),c.metadata.support!==i.support&&n.push(`Support: ${c.metadata.support} \u2192 ${i.support}`),n}buildWhitelistFromForm(){let e={};return this.whitelistItems.forEach((n,i)=>{let c=this.accountForm.get(`whitelistDomain_${i}`)?.value,g=this.accountForm.get(`whitelistDiscount_${i}`)?.value,f=this.accountForm.get(`whitelistType_${i}`)?.value;c&&g&&f&&(e[c]=`${g}${f}`)}),e}buildDomainConfig(){let e=this.accountForm.value,n=this.buildWhitelistFromForm();return{name:e.domain,holdSuffix:e.holdSuffix,status:e.status,owner:e.owner,description:e.description,limits:{tags:e.maxTags,zelfkeys:e.maxZelfkeys},features:[{name:"Zelf Name System",code:"zns",description:"Encryptions, Decryptions, previews of ZelfProofs",enabled:e.znsEnabled},{name:"Zelf Keys",code:"zelfkeys",description:"Zelf Keys: Passwords, Notes, Credit Cards, etc.",enabled:e.zelfkeysEnabled}],validation:{minLength:e.minLength,maxLength:e.maxLength,allowedChars:/^[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]$/,reserved:this.reservedWords,customRules:[]},storage:{keyPrefix:e.keyPrefix,ipfsEnabled:e.ipfsEnabled,arweaveEnabled:e.arweaveEnabled,walrusEnabled:e.walrusEnabled},tagPaymentSettings:{methods:this.getPaymentMethods(),currencies:this.supportedCurrencies,whitelist:n,pricingTable:this.getPricingTableFromRows()},metadata:{launchDate:e.launchDate,version:e.version,documentation:e.documentation,community:e.community||void 0,enterprise:e.enterprise||void 0,support:e.support}}}loadCurrentLicense(){let e=localStorage.getItem("license");if(e)try{let n=JSON.parse(e);this.currentLicense=O.fromJSON(n)}catch(n){console.error("Error parsing stored license:",n)}}fetchLicenseFromBackend(){return A(this,null,function*(){try{this.isLoading=!0,this._cdr.detectChanges();let e=yield this._licenseService.getMyLicense(!0);if(!e||!e.data||!e.data.myLicense){console.log("No license found for current user");return}console.log("response",e.data),this.currentLicense=O.fromAPIResponseWithWrapper(e.data.myLicense.domainConfig),localStorage.setItem("license",JSON.stringify(this.currentLicense.toJSON())),console.log("License fetched from backend and saved to localStorage")}catch(e){console.error("Error fetching license from backend:",e),this.showAlert=!0,this.alertMessage="Failed to fetch license from server",this.alertType="error"}finally{this.isLoading=!1,this._cdr.detectChanges()}})}loadLicense(){return A(this,null,function*(){this.loadCurrentLicense(),this.currentLicense?.domain||(yield this.fetchLicenseFromBackend())})}populateFormFromLicense(){let e=this.currentLicense?.domainConfig;e&&(this.accountForm.get("domain")?.setValue(e.name||""),this.accountForm.get("status")?.setValue(e.status||"active"),this.accountForm.get("owner")?.setValue(e.owner||"zelf-team"),this.accountForm.get("description")?.setValue(e.description||"Official Zelf domain"),this.accountForm.get("znsEnabled")?.setValue(e.features?.[0]?.enabled??!0),this.accountForm.get("zelfkeysEnabled")?.setValue(e.features?.[1]?.enabled??!0),this.accountForm.get("minLength")?.setValue(e.validation?.minLength||3),this.accountForm.get("maxLength")?.setValue(e.validation?.maxLength||50),this.accountForm.get("holdSuffix")?.setValue(e.holdSuffix||".hold"),this.accountForm.get("ipfsEnabled")?.setValue(e.storage?.ipfsEnabled??!0),this.accountForm.get("arweaveEnabled")?.setValue(e.storage?.arweaveEnabled??!0),this.accountForm.get("walrusEnabled")?.setValue(e.storage?.walrusEnabled??!0),this.accountForm.get("keyPrefix")?.setValue(e.storage?.keyPrefix||"tagName"),this.accountForm.get("coinbaseEnabled")?.setValue(e.tagPaymentSettings?.methods?.includes("coinbase")??!0),this.accountForm.get("cryptoEnabled")?.setValue(e.tagPaymentSettings?.methods?.includes("crypto")??!0),this.accountForm.get("stripeEnabled")?.setValue(e.tagPaymentSettings?.methods?.includes("stripe")??!0),this.accountForm.get("maxTags")?.setValue(e.limits?.tags||1e4),this.accountForm.get("maxZelfkeys")?.setValue(e.limits?.zelfkeys||1e4),this.accountForm.get("launchDate")?.setValue(e.metadata?.launchDate||"2023-01-01"),this.accountForm.get("version")?.setValue(e.metadata?.version||"1.0.0"),this.accountForm.get("documentation")?.setValue(e.metadata?.documentation||"https://docs.zelf.world"),this.accountForm.get("community")?.setValue(e.metadata?.community||""),this.accountForm.get("enterprise")?.setValue(e.metadata?.enterprise||""),this.accountForm.get("support")?.setValue(e.metadata?.support||"standard"),e.validation?.reserved&&(this.reservedWords=[...e.validation.reserved]),e.tagPaymentSettings?.currencies&&(this.supportedCurrencies=[...e.tagPaymentSettings.currencies]),e.tagPaymentSettings?.pricingTable&&this.loadPricingTableFromConfig(e.tagPaymentSettings.pricingTable),e.tagPaymentSettings?.whitelist&&(this.whitelistItems=Object.entries(e.tagPaymentSettings.whitelist).map(([n,i])=>{let c=i,g=c.match(/^(\d+(?:\.\d+)?)([%$])$/);return g?{domain:n,discount:g[1],type:g[2]}:{domain:n,discount:c,type:"%"}})),this.whitelistItems.forEach((n,i)=>{this.accountForm.get(`whitelistDomain_${i}`)?.setValue(n.domain),this.accountForm.get(`whitelistDiscount_${i}`)?.setValue(n.discount),this.accountForm.get(`whitelistType_${i}`)?.setValue(n.type)})),this._cdr.detectChanges()}saveLicense(){if(this.accountForm.invalid){this.showError("Please fill in all required fields correctly");return}let e=this.accountForm.get("domain")?.value;if(!e){this.showError("Domain is required");return}if(!this.validateDomainName(e)){this.showError("Domain name contains inappropriate content. Please choose a different name.");return}if(this.currentLicense&&!this.hasLicenseChanges(e)){this.showError("No changes detected. Please modify at least one field before saving.");return}let n=this.buildDomainConfig(),i={domain:e,domainConfig:n,faceBase64:"",masterPassword:""},c=new O(i);this._saveConfirmationService.setSaveData({license:c,domainConfig:n,redirectUrl:"/settings/license",operation:{title:this._translocoService.translate("saving_operations.license_configuration.title"),description:this._translocoService.translate("saving_operations.license_configuration.description"),action:this._translocoService.translate("saving_operations.license_configuration.action"),itemName:this._translocoService.translate("saving_operations.license_configuration.itemName")}}),this._router.navigate(["/save-confirmation"],{queryParams:{redirect:"/settings/license"}})}showSuccess(e){this.alertMessage=e,this.alertType="success",this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},5e3)}showError(e){this.alertMessage=e,this.alertType="error",this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},5e3)}cancel(){this.loadCurrentLicense()}getCurrentLicense(){return this.currentLicense}isLicenseActive(){return this.currentLicense?.isActive()||!1}licenseSupportsFeature(e){return this.currentLicense?.supportsFeature(e)||!1}getTagPrice(e,n="1",i=""){return this.currentLicense?.getPrice(e,n,i)||null}validateTagName(e){return this.currentLicense?.validateTagName(e)||{valid:!1,error:"No license found"}}generateHoldDomain(e){return this.currentLicense?.generateHoldDomain(e)||""}initializePricingTable(){let e=this.getDefaultPricingTable();this.pricingTableRows=[];for(let n=1;n<=5;n++)this.pricingTableRows.push({length:n.toString(),prices:S({},e[n])});this.pricingTableRows.push({length:"6-15",prices:S({},e["6-15"])});for(let n=16;n<=27;n++)this.pricingTableRows.push({length:n.toString(),prices:S({},e[n])})}resetPricingTable(){this.initializePricingTable()}trackByPricingRow(e,n){return n.length}getPricingTableFromRows(){let e={};return this.pricingTableRows.forEach(n=>{e[n.length]=S({},n.prices)}),e}loadPricingTableFromConfig(e){if(!e){this.initializePricingTable();return}this.pricingTableRows=[];for(let n=1;n<=5;n++)this.pricingTableRows.push({length:n.toString(),prices:e[n]?S({},e[n]):{1:0,2:0,3:0,4:0,5:0,lifetime:0}});this.pricingTableRows.push({length:"6-15",prices:e["6-15"]?S({},e["6-15"]):{1:0,2:0,3:0,4:0,5:0,lifetime:0}});for(let n=16;n<=27;n++)this.pricingTableRows.push({length:n.toString(),prices:e[n]?S({},e[n]):{1:0,2:0,3:0,4:0,5:0,lifetime:0}})}static{this.\u0275fac=function(n){return new(n||m)(w(Ce),w(Q),w(We),w(de),w(q),w(De),w(ue))}}static{this.\u0275cmp=j({type:m,selectors:[["settings-license"]],decls:413,vars:314,consts:[["newReservedWord",""],["newCurrency",""],[1,"w-full","max-w-6xl"],["class","mb-6 p-4 rounded-lg",3,"ngClass",4,"ngIf"],[3,"formGroup"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-300"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","border","border-gray-200","dark:border-gray-700","p-6","mb-6"],[1,"flex","items-center","mb-4"],[1,"text-blue-600","dark:text-blue-400","mr-2"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"fuse-mat-emphasized-affix","w-full",3,"subscriptSizing"],["matPrefix","",1,"text-secondary"],["matInput","",3,"formControlName","placeholder"],[4,"ngIf"],[1,"md:col-span-2"],["matInput","","rows","3",3,"formControlName","placeholder"],[1,"text-green-600","dark:text-green-400","mr-2"],[1,"space-y-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"border","border-gray-200","dark:border-gray-600","rounded-lg","p-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-medium","text-gray-900","dark:text-white"],[3,"formControlName"],[1,"text-sm","text-gray-600","dark:text-gray-300"],[1,"text-orange-600","dark:text-orange-400","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],["matInput","","type","number",3,"formControlName","placeholder"],[1,"mt-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"flex","flex-wrap","gap-2"],["class","inline-flex items-center px-3 py-1 rounded-full text-sm bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200",4,"ngFor","ngForOf"],[1,"flex","items-center"],["type","text",1,"px-3","py-1","border","border-gray-300","dark:border-gray-600","rounded-md","text-sm","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400",3,"keyup.enter","placeholder"],["type","button",1,"ml-2","text-blue-600","dark:text-blue-400","hover:text-blue-800","dark:hover:text-blue-300",3,"click"],[1,"text-sm"],[1,"flex","items-center","mb-2"],[1,"text-red-600","dark:text-red-400","mr-2"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"ml-2",3,"formControlName"],[1,"text-purple-600","dark:text-purple-400","mr-2"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"ml-2","text-sm","text-gray-700","dark:text-gray-300"],["class","inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700","dark:bg-blue-500","dark:hover:bg-blue-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"text-sm","mr-1"],[1,"overflow-hidden","shadow","ring-1","ring-black","ring-opacity-5","dark:ring-gray-600","md:rounded-lg"],[1,"min-w-full","divide-y","divide-gray-300","dark:divide-gray-600"],[1,"bg-gray-50","dark:bg-gray-700"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","dark:text-gray-300","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","dark:bg-gray-800","divide-y","divide-gray-200","dark:divide-gray-600"],["class","hover:bg-gray-50 dark:hover:bg-gray-700",4,"ngFor","ngForOf","ngForTrackBy"],["class","bg-gray-50 dark:bg-gray-700",4,"ngIf"],[1,"mt-3","text-xs","text-gray-500","dark:text-gray-400"],[1,"list-disc","list-inside","mt-1","space-y-1"],["type","button",1,"inline-flex","items-center","px-3","py-2","border","border-gray-300","dark:border-gray-600","text-sm","font-medium","rounded-md","text-gray-700","dark:text-gray-300","bg-white","dark:bg-gray-700","hover:bg-gray-50","dark:hover:bg-gray-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"mb-4"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"overflow-x-auto"],["scope","col",1,"px-4","py-3","text-left","text-xs","font-medium","text-gray-500","dark:text-gray-300","uppercase","tracking-wider"],["scope","col",1,"px-4","py-3","text-center","text-xs","font-medium","text-gray-500","dark:text-gray-300","uppercase","tracking-wider"],[1,"mt-4","p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg"],[1,"flex"],[1,"flex-shrink-0"],[1,"text-blue-400"],[1,"ml-3"],[1,"text-sm","font-medium","text-blue-800","dark:text-blue-200"],[1,"mt-2","text-sm","text-blue-700","dark:text-blue-300"],[1,"text-yellow-600","dark:text-yellow-400","mr-2"],[1,"text-indigo-600","dark:text-indigo-400","mr-2"],["matInput","","type","date",3,"formControlName"],["value","standard"],["value","premium"],["value","enterprise"],[1,"flex","items-center","justify-end","space-x-4"],["mat-stroked-button","","type","button",3,"click","disabled"],["mat-flat-button","","type","button",3,"click","color","disabled"],["diameter","20","class","mr-2",4,"ngIf"],[1,"mb-6","p-4","rounded-lg",3,"ngClass"],[1,"mr-2",3,"ngClass"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","bg-red-100","dark:bg-red-900","text-red-800","dark:text-red-200"],["type","button",1,"ml-2","text-red-600","dark:text-red-400","hover:text-red-800","dark:hover:text-red-200",3,"click"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","bg-green-100","dark:bg-green-900","text-green-800","dark:text-green-200"],["type","button",1,"ml-2","text-green-600","dark:text-green-400","hover:text-green-800","dark:hover:text-green-200",3,"click"],[1,"hover:bg-gray-50","dark:hover:bg-gray-700"],[1,"px-6","py-4","whitespace-nowrap"],["type","text","placeholder","miguel.zelf",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","text-sm","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","focus:ring-blue-500","focus:border-blue-500",3,"formControlName"],["type","number","placeholder","24",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","text-sm","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","focus:ring-blue-500","focus:border-blue-500",3,"formControlName"],[1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","text-sm","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","focus:ring-blue-500","focus:border-blue-500",3,"formControlName"],["value","%"],["value","$"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],["type","button",1,"text-red-600","dark:text-red-400","hover:text-red-900","dark:hover:text-red-200","p-1","rounded-md","hover:bg-red-50","dark:hover:bg-red-900",3,"click","disabled"],[1,"text-lg"],["colspan","4",1,"px-6","py-12","text-center","text-sm","text-gray-500","dark:text-gray-400"],[1,"text-4xl","text-gray-300","dark:text-gray-600","mb-2"],[1,"px-4","py-3","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"px-4","py-3","text-center"],["type","number","min","0","step","1",1,"w-20","px-2","py-1","text-sm","text-center","border","border-gray-300","dark:border-gray-600","rounded-md","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","ngModelOptions"],["diameter","20",1,"mr-2"]],template:function(n,i){if(n&1){let c=T();a(0,"div",2),E(1,Je,6,10,"div",3),a(2,"form",4)(3,"div",5)(4,"h1",6),o(5),s(6,"transloco"),r(),a(7,"p",7),o(8),s(9,"transloco"),r()(),a(10,"div",8)(11,"div",9)(12,"mat-icon",10),o(13,"domain"),r(),a(14,"h2",11),o(15),s(16,"transloco"),r()(),a(17,"div",12)(18,"div")(19,"mat-form-field",13)(20,"mat-label"),o(21),s(22,"transloco"),r(),a(23,"div",14),o(24),s(25,"transloco"),r(),u(26,"input",15),s(27,"transloco"),E(28,je,3,3,"mat-error",16)(29,qe,3,3,"mat-error",16),r()(),a(30,"div")(31,"mat-form-field",13)(32,"mat-label"),o(33),s(34,"transloco"),r(),u(35,"input",15),s(36,"transloco"),r()(),a(37,"div",17)(38,"mat-form-field",13)(39,"mat-label"),o(40),s(41,"transloco"),r(),u(42,"textarea",18),s(43,"transloco"),r()()()(),a(44,"div",8)(45,"div",9)(46,"mat-icon",19),o(47,"extension"),r(),a(48,"h2",11),o(49),s(50,"transloco"),r()(),a(51,"div",20)(52,"div",21)(53,"div",22)(54,"div",23)(55,"h3",24),o(56),s(57,"transloco"),r(),u(58,"mat-slide-toggle",25),r(),a(59,"p",26),o(60),s(61,"transloco"),r()(),a(62,"div",22)(63,"div",23)(64,"h3",24),o(65),s(66,"transloco"),r(),u(67,"mat-slide-toggle",25),r(),a(68,"p",26),o(69),s(70,"transloco"),r()()()()(),a(71,"div",8)(72,"div",9)(73,"mat-icon",27),o(74,"rule"),r(),a(75,"h2",11),o(76),s(77,"transloco"),r()(),a(78,"div",28)(79,"div")(80,"mat-form-field",13)(81,"mat-label"),o(82),s(83,"transloco"),r(),u(84,"input",29),s(85,"transloco"),r()(),a(86,"div")(87,"mat-form-field",13)(88,"mat-label"),o(89),s(90,"transloco"),r(),u(91,"input",29),s(92,"transloco"),r()(),a(93,"div")(94,"mat-form-field",13)(95,"mat-label"),o(96),s(97,"transloco"),r(),u(98,"input",15),s(99,"transloco"),r()()(),a(100,"div",30)(101,"label",31),o(102),s(103,"transloco"),r(),a(104,"div",32),E(105,Ue,5,1,"span",33),a(106,"div",34)(107,"input",35,0),s(109,"transloco"),_("keyup.enter",function(){x(c);let f=V(108);return i.addReservedWord(f.value),y(f.value="")}),r(),a(110,"button",36),_("click",function(){x(c);let f=V(108);return i.addReservedWord(f.value),y(f.value="")}),a(111,"mat-icon",37),o(112,"add"),r()()()()(),a(113,"div",30)(114,"div",38)(115,"mat-icon",39),o(116,"block"),r(),a(117,"label",40),o(118),s(119,"transloco"),r(),u(120,"mat-slide-toggle",41),r(),a(121,"p",26),o(122),s(123,"transloco"),r()()(),a(124,"div",8)(125,"div",9)(126,"mat-icon",42),o(127,"storage"),r(),a(128,"h2",11),o(129),s(130,"transloco"),r()(),a(131,"div",12)(132,"div",20)(133,"div",22)(134,"div",23)(135,"div",34)(136,"mat-icon",10),o(137,"cloud"),r(),a(138,"h3",24),o(139),s(140,"transloco"),r()(),u(141,"mat-slide-toggle",25),r(),a(142,"p",26),o(143),s(144,"transloco"),r()(),a(145,"div",22)(146,"div",23)(147,"div",34)(148,"mat-icon",19),o(149,"archive"),r(),a(150,"h3",24),o(151),s(152,"transloco"),r()(),u(153,"mat-slide-toggle",25),r(),a(154,"p",26),o(155),s(156,"transloco"),r()(),a(157,"div",22)(158,"div",23)(159,"div",34)(160,"mat-icon",27),o(161,"pets"),r(),a(162,"h3",24),o(163),s(164,"transloco"),r()(),u(165,"mat-slide-toggle",25),r(),a(166,"p",26),o(167),s(168,"transloco"),r()()(),a(169,"div",20)(170,"div")(171,"mat-form-field",13)(172,"mat-label"),o(173),s(174,"transloco"),r(),u(175,"input",15),s(176,"transloco"),r()()()()(),a(177,"div",8)(178,"div",9)(179,"mat-icon",19),o(180,"payment"),r(),a(181,"h2",11),o(182),s(183,"transloco"),r()(),a(184,"div",43)(185,"div")(186,"label",31),o(187),s(188,"transloco"),r(),a(189,"div",44)(190,"div",34),u(191,"mat-checkbox",25),a(192,"span",45),o(193),s(194,"transloco"),r()(),a(195,"div",34),u(196,"mat-checkbox",25),a(197,"span",45),o(198),s(199,"transloco"),r()(),a(200,"div",34),u(201,"mat-checkbox",25),a(202,"span",45),o(203),s(204,"transloco"),r()()()(),a(205,"div")(206,"label",31),o(207),s(208,"transloco"),r(),a(209,"div",32),E(210,He,5,1,"span",46),a(211,"div",34)(212,"input",35,1),s(214,"transloco"),_("keyup.enter",function(){x(c);let f=V(213);return i.addCurrency(f.value),y(f.value="")}),r(),a(215,"button",36),_("click",function(){x(c);let f=V(213);return i.addCurrency(f.value),y(f.value="")}),a(216,"mat-icon",37),o(217,"add"),r()()()()(),a(218,"div")(219,"div",47)(220,"label",48),o(221),s(222,"transloco"),r(),a(223,"button",49),_("click",function(){return x(c),y(i.addWhitelistItem())}),a(224,"mat-icon",50),o(225,"add"),r(),o(226),s(227,"transloco"),r()(),a(228,"div",51)(229,"table",52)(230,"thead",53)(231,"tr")(232,"th",54),o(233),s(234,"transloco"),r(),a(235,"th",54),o(236),s(237,"transloco"),r(),a(238,"th",54),o(239),s(240,"transloco"),r(),a(241,"th",55)(242,"span",56),o(243,"Actions"),r()()()(),a(244,"tbody",57),E(245,Ge,17,10,"tr",58)(246,Ke,7,3,"tr",59),r()()(),a(247,"div",60)(248,"p")(249,"strong"),o(250),s(251,"transloco"),r()(),a(252,"ul",61)(253,"li"),o(254),s(255,"transloco"),r(),a(256,"li"),o(257),s(258,"transloco"),r()()()()()(),a(259,"div",8)(260,"div",47)(261,"div",34)(262,"mat-icon",42),o(263,"table_chart"),r(),a(264,"h2",11),o(265),s(266,"transloco"),r()(),a(267,"button",62),_("click",function(){return x(c),y(i.resetPricingTable())}),a(268,"mat-icon",50),o(269,"refresh"),r(),o(270),s(271,"transloco"),r()(),a(272,"div",63)(273,"p",64),o(274),s(275,"transloco"),r()(),a(276,"div",65)(277,"table",52)(278,"thead",53)(279,"tr")(280,"th",66),o(281),s(282,"transloco"),r(),a(283,"th",67),o(284),s(285,"transloco"),r(),a(286,"th",67),o(287),s(288,"transloco"),r(),a(289,"th",67),o(290),s(291,"transloco"),r(),a(292,"th",67),o(293),s(294,"transloco"),r(),a(295,"th",67),o(296),s(297,"transloco"),r(),a(298,"th",67),o(299),s(300,"transloco"),r()()(),a(301,"tbody",57),E(302,Qe,15,19,"tr",58),r()()(),a(303,"div",68)(304,"div",69)(305,"div",70)(306,"mat-icon",71),o(307,"info"),r()(),a(308,"div",72)(309,"h3",73),o(310),s(311,"transloco"),r(),a(312,"div",74)(313,"p"),o(314),s(315,"transloco"),r(),a(316,"p"),o(317),s(318,"transloco"),r(),a(319,"p"),o(320),s(321,"transloco"),r(),a(322,"p"),o(323),s(324,"transloco"),r()()()()()(),a(325,"div",8)(326,"div",9)(327,"mat-icon",75),o(328,"speed"),r(),a(329,"h2",11),o(330),s(331,"transloco"),r()(),a(332,"div",12)(333,"div")(334,"mat-form-field",13)(335,"mat-label"),o(336),s(337,"transloco"),r(),u(338,"input",29),s(339,"transloco"),r()(),a(340,"div")(341,"mat-form-field",13)(342,"mat-label"),o(343),s(344,"transloco"),r(),u(345,"input",29),s(346,"transloco"),r()()()(),a(347,"div",8)(348,"div",9)(349,"mat-icon",76),o(350,"info"),r(),a(351,"h2",11),o(352),s(353,"transloco"),r()(),a(354,"div",12)(355,"div")(356,"mat-form-field",13)(357,"mat-label"),o(358),s(359,"transloco"),r(),u(360,"input",77),r()(),a(361,"div")(362,"mat-form-field",13)(363,"mat-label"),o(364),s(365,"transloco"),r(),u(366,"input",15),s(367,"transloco"),r()(),a(368,"div")(369,"mat-form-field",13)(370,"mat-label"),o(371),s(372,"transloco"),r(),u(373,"input",15),s(374,"transloco"),r()(),a(375,"div")(376,"mat-form-field",13)(377,"mat-label"),o(378),s(379,"transloco"),r(),u(380,"input",15),s(381,"transloco"),r()(),a(382,"div")(383,"mat-form-field",13)(384,"mat-label"),o(385),s(386,"transloco"),r(),u(387,"input",15),s(388,"transloco"),r()(),a(389,"div")(390,"mat-form-field",13)(391,"mat-label"),o(392),s(393,"transloco"),r(),a(394,"mat-select",25)(395,"mat-option",78),o(396),s(397,"transloco"),r(),a(398,"mat-option",79),o(399),s(400,"transloco"),r(),a(401,"mat-option",80),o(402),s(403,"transloco"),r()()()()()(),a(404,"div",81)(405,"button",82),_("click",function(){return x(c),y(i.cancel())}),o(406),s(407,"transloco"),r(),a(408,"button",83),_("click",function(){return x(c),y(i.saveLicense())}),E(409,Xe,1,0,"mat-spinner",84),o(410),s(411,"transloco"),s(412,"transloco"),r()()()()}if(n&2){let c,g;t(),d("ngIf",i.showAlert),t(),d("formGroup",i.accountForm),t(3),p(l(6,140,"license.title")),t(3),p(l(9,142,"license.subtitle")),t(7),p(l(16,144,"license.basic_information.title")),t(4),d("subscriptSizing","dynamic"),t(2),p(l(22,146,"license.basic_information.domain_name")),t(3),p(l(25,148,"license.basic_information.domain_prefix")),t(2),d("formControlName","domain")("placeholder",l(27,150,"license.basic_information.domain_placeholder")),t(2),d("ngIf",(c=i.accountForm.get("domain"))==null?null:c.hasError("required")),t(),d("ngIf",(g=i.accountForm.get("domain"))==null?null:g.hasError("pattern")),t(2),d("subscriptSizing","dynamic"),t(2),p(l(34,152,"license.basic_information.owner")),t(2),d("formControlName","owner")("placeholder",l(36,154,"license.basic_information.owner_placeholder")),t(3),d("subscriptSizing","dynamic"),t(2),p(l(41,156,"license.basic_information.description")),t(2),d("formControlName","description")("placeholder",l(43,158,"license.basic_information.description_placeholder")),t(7),p(l(50,160,"license.features.title")),t(7),p(l(57,162,"license.features.zns_title")),t(2),d("formControlName","znsEnabled"),t(2),p(l(61,164,"license.features.zns_description")),t(5),p(l(66,166,"license.features.zelfkeys_title")),t(2),d("formControlName","zelfkeysEnabled"),t(2),p(l(70,168,"license.features.zelfkeys_description")),t(7),p(l(77,170,"license.validation_rules.title")),t(4),d("subscriptSizing","dynamic"),t(2),p(l(83,172,"license.validation_rules.min_length")),t(2),d("formControlName","minLength")("placeholder",l(85,174,"license.validation_rules.min_length_placeholder")),t(3),d("subscriptSizing","dynamic"),t(2),p(l(90,176,"license.validation_rules.max_length")),t(2),d("formControlName","maxLength")("placeholder",l(92,178,"license.validation_rules.max_length_placeholder")),t(3),d("subscriptSizing","dynamic"),t(2),p(l(97,180,"license.validation_rules.hold_suffix")),t(2),d("formControlName","holdSuffix")("placeholder",l(99,182,"license.validation_rules.hold_suffix_placeholder")),t(4),p(l(103,184,"license.validation_rules.reserved_words")),t(3),d("ngForOf",i.reservedWords),t(2),d("placeholder",l(109,186,"license.validation_rules.add_reserved_word")),t(11),p(l(119,188,"license.validation_rules.content_filter")),t(2),d("formControlName","contentFilterEnabled"),t(2),p(l(123,190,"license.validation_rules.content_filter_description")),t(7),p(l(130,192,"license.storage_options.title")),t(10),p(l(140,194,"license.storage_options.ipfs_title")),t(2),d("formControlName","ipfsEnabled"),t(2),p(l(144,196,"license.storage_options.ipfs_description")),t(8),p(l(152,198,"license.storage_options.arweave_title")),t(2),d("formControlName","arweaveEnabled"),t(2),p(l(156,200,"license.storage_options.arweave_description")),t(8),p(l(164,202,"license.storage_options.walrus_title")),t(2),d("formControlName","walrusEnabled"),t(2),p(l(168,204,"license.storage_options.walrus_description")),t(4),d("subscriptSizing","dynamic"),t(2),p(l(174,206,"license.storage_options.key_prefix")),t(2),d("formControlName","keyPrefix")("placeholder",l(176,208,"license.storage_options.key_prefix_placeholder")),t(7),p(l(183,210,"license.payment_settings.title")),t(5),p(l(188,212,"license.payment_settings.payment_methods")),t(4),d("formControlName","coinbaseEnabled"),t(2),p(l(194,214,"license.payment_settings.coinbase")),t(3),d("formControlName","cryptoEnabled"),t(2),p(l(199,216,"license.payment_settings.crypto_payments")),t(3),d("formControlName","stripeEnabled"),t(2),p(l(204,218,"license.payment_settings.stripe")),t(4),p(l(208,220,"license.payment_settings.supported_currencies")),t(3),d("ngForOf",i.supportedCurrencies),t(2),d("placeholder",l(214,222,"license.payment_settings.add_currency")),t(9),p(l(222,224,"license.payment_settings.whitelist_title")),t(5),h(" ",l(227,226,"license.payment_settings.add_item")," "),t(7),h(" ",l(234,228,"license.payment_settings.tag_name")," "),t(3),h(" ",l(237,230,"license.payment_settings.discount")," "),t(3),h(" ",l(240,232,"license.payment_settings.type")," "),t(6),d("ngForOf",i.whitelistItems)("ngForTrackBy",i.trackByWhitelistItem),t(),d("ngIf",i.whitelistItems.length===0),t(4),p(l(251,234,"license.payment_settings.examples")),t(4),p(l(255,236,"license.payment_settings.example_1")),t(3),p(l(258,238,"license.payment_settings.example_2")),t(8),p(l(266,240,"license.pricing_table.title")),t(5),h(" ",l(271,242,"license.pricing_table.reset_default")," "),t(4),h(" ",l(275,244,"license.pricing_table.description")," "),t(7),h(" ",l(282,246,"license.pricing_table.length")," "),t(3),h(" ",l(285,248,"license.pricing_table.one_year")," "),t(3),h(" ",l(288,250,"license.pricing_table.two_years")," "),t(3),h(" ",l(291,252,"license.pricing_table.three_years")," "),t(3),h(" ",l(294,254,"license.pricing_table.four_years")," "),t(3),h(" ",l(297,256,"license.pricing_table.five_years")," "),t(3),h(" ",l(300,258,"license.pricing_table.lifetime")," "),t(3),d("ngForOf",i.pricingTableRows)("ngForTrackBy",i.trackByPricingRow),t(8),p(l(311,260,"license.pricing_table.pricing_info")),t(4),p(l(315,262,"license.pricing_table.pricing_info_1")),t(3),p(l(318,264,"license.pricing_table.pricing_info_2")),t(3),p(l(321,266,"license.pricing_table.pricing_info_3")),t(3),p(l(324,268,"license.pricing_table.pricing_info_4")),t(7),p(l(331,270,"license.limits.title")),t(4),d("subscriptSizing","dynamic"),t(2),p(l(337,272,"license.limits.max_tags")),t(2),d("formControlName","maxTags")("placeholder",l(339,274,"license.limits.max_tags_placeholder")),t(3),d("subscriptSizing","dynamic"),t(2),p(l(344,276,"license.limits.max_zelfkeys")),t(2),d("formControlName","maxZelfkeys")("placeholder",l(346,278,"license.limits.max_zelfkeys_placeholder")),t(7),p(l(353,280,"license.metadata.title")),t(4),d("subscriptSizing","dynamic"),t(2),p(l(359,282,"license.metadata.launch_date")),t(2),d("formControlName","launchDate"),t(2),d("subscriptSizing","dynamic"),t(2),p(l(365,284,"license.metadata.version")),t(2),d("formControlName","version")("placeholder",l(367,286,"license.metadata.version_placeholder")),t(3),d("subscriptSizing","dynamic"),t(2),p(l(372,288,"license.metadata.documentation_url")),t(2),d("formControlName","documentation")("placeholder",l(374,290,"license.metadata.documentation_placeholder")),t(3),d("subscriptSizing","dynamic"),t(2),p(l(379,292,"license.metadata.community")),t(2),d("formControlName","community")("placeholder",l(381,294,"license.metadata.community_placeholder")),t(3),d("subscriptSizing","dynamic"),t(2),p(l(386,296,"license.metadata.enterprise")),t(2),d("formControlName","enterprise")("placeholder",l(388,298,"license.metadata.enterprise_placeholder")),t(3),d("subscriptSizing","dynamic"),t(2),p(l(393,300,"license.metadata.support_level")),t(2),d("formControlName","support"),t(2),p(l(397,302,"license.metadata.support_standard")),t(3),p(l(400,304,"license.metadata.support_premium")),t(3),p(l(403,306,"license.metadata.support_enterprise")),t(3),d("disabled",i.isLoading),t(),p(l(407,308,"license.actions.cancel")),t(2),d("color","primary")("disabled",i.isLoading||i.accountForm.invalid),t(),d("ngIf",i.isLoading),t(),h(" ",i.isLoading?l(411,310,"license.actions.processing"):l(412,312,"license.actions.save_configuration")," ")}},dependencies:[K,U,H,G,Ie,ye,we,Ee,ge,ve,Se,fe,he,ke,xe,Fe,be,_e,ae,re,te,ie,ne,ce,le,Te,Le,Be,ze,$e,X,Y,se,oe,ee,Ne,Me,Re,Oe,Ve,Pe,me,pe],encapsulation:2,changeDetection:0})}}return m})();export{Tt as SettingsLicenseComponent};
