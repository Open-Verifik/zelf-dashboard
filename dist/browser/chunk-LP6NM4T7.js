import{a as Ee}from"./chunk-X2L6IOTU.js";import{a as Te,b as Ne}from"./chunk-VONM6QOI.js";import{a as De}from"./chunk-B7YMJF7I.js";import{a as Fe,b as Pe}from"./chunk-VS4UG554.js";import{c as Ae}from"./chunk-NW6EF6SV.js";import"./chunk-HJACV4SF.js";import"./chunk-2IP4ECES.js";import{a as le,c as de,d as ce}from"./chunk-WBGTKBHQ.js";import{a as Ve}from"./chunk-ALA6O7CN.js";import"./chunk-4T6RUIZT.js";import{c as we}from"./chunk-LAU4U4G6.js";import{j as ne}from"./chunk-J3AGJSUM.js";import{c as me}from"./chunk-R5RDUMCS.js";import"./chunk-GKK3ZBTB.js";import"./chunk-E6ENPQNB.js";import{a as Be}from"./chunk-RECUNHA7.js";import{a as Se,b as Me}from"./chunk-W63KOHKE.js";import{A as ke,b as ue,d as b,f as ge,g as he,l as fe,o as _e,q as ye,r as ve,s as xe,t as be,y as Ce,z as Ie}from"./chunk-HHFAS2AP.js";import{c as re,d as oe}from"./chunk-XFX2TJJI.js";import{ea as ae,fa as se}from"./chunk-4GCD5IXU.js";import{c as pe}from"./chunk-KSS252YM.js";import"./chunk-4NDVBZC3.js";import{b as ee,d as te,e as ie}from"./chunk-MWRY57CN.js";import"./chunk-6CPQKJQE.js";import{Ab as x,Bc as Z,E,Hc as f,Ib as m,Ic as _,J as A,Kb as M,Pb as c,Sb as T,Tb as B,Ub as o,Vb as a,Wb as S,_b as k,ec as v,ga as X,gb as r,gc as p,hb as w,kc as D,lc as N,mc as z,qc as L,ra as g,rc as l,sa as h,sc as C,tc as I,ub as Y,uc as q}from"./chunk-BTAKDWI7.js";import{a as V,b as F,g as P}from"./chunk-TSRGIXR5.js";var Re=["signInNgForm"],je=["biometricVerification"],ze=(n,d)=>d.code,Ue=()=>["/sign-up"];function Oe(n,d){if(n&1){let e=k();o(0,"div",3)(1,"div",36)(2,"div",37)(3,"h2",38),l(4,"Verify Identity"),a(),o(5,"button",39),v("click",function(){g(e);let t=p();return h(t.onBiometricCancel())}),o(6,"mat-icon",40),l(7,"close"),a()()(),o(8,"div",41)(9,"div",42)(10,"div",43)(11,"mat-icon",44),l(12,"face"),a()(),o(13,"p",45),l(14," Verifying as"),S(15,"br"),o(16,"span",46),l(17),a()()(),o(18,"app-data-biometrics",47,2),v("biometricsSuccess",function(t){g(e);let s=p();return h(s.onBiometricSuccess(t))})("biometricsCancel",function(){g(e);let t=p();return h(t.onBiometricCancel())}),a()()()()}if(n&2){let e=p();r(17),I(" ",(e.userData==null?null:e.userData.email)||(e.userData==null?null:e.userData.phone)||"Account"," "),r(),m("userData",e.userData)("isModalContext",!1)}}function Qe(n,d){if(n&1){let e=k();o(0,"app-passkey-prompt-modal",48),v("onSave",function(){g(e);let t=p();return h(t.onPasskeySave())})("onCancel",function(){g(e);let t=p();return h(t.onPasskeyCancel())}),a()}}function $e(n,d){if(n&1&&(o(0,"fuse-alert",13),l(1),a()),n&2){let e=p();m("appearance","soft")("showIcon",!0)("type",e.alert.type)("@shake",e.alert.type==="error"),r(),I(" ",e.alert.message," ")}}function Ge(n,d){n&1&&(l(0),f(1,"transloco")),n&2&&I(" ",_(1,1,"signIn.emailRequired")," ")}function We(n,d){n&1&&(l(0),f(1,"transloco")),n&2&&I(" ",_(1,1,"signIn.emailInvalid")," ")}function Je(n,d){if(n&1&&(o(0,"div",24),x(1,Ge,2,3)(2,We,2,3),a()),n&2){let e=p(2);r(),c(e.signInForm.get("email").hasError("required")?1:-1),r(),c(e.signInForm.get("email").hasError("email")?2:-1)}}function He(n,d){if(n&1){let e=k();o(0,"button",51),v("click",function(){g(e);let t=p(2);return h(t.loginWithPasskey())}),o(1,"mat-icon",52),l(2,"fingerprint"),a(),o(3,"span",53),l(4,"Sign in with Passkey"),a()()}}function Ke(n,d){if(n&1){let e=k();o(0,"div",17)(1,"div",20)(2,"label",19),l(3),f(4,"transloco"),a(),o(5,"input",49),v("blur",function(){g(e);let t=p();return h(t.checkPasskey())}),a(),x(6,Je,3,2,"div",24),a(),x(7,He,5,0,"button",50),a()}if(n&2){let e=p();r(3),C(_(4,6,"signIn.emailAddress")),r(2),M("border-red-500",e.signInForm.get("email").touched&&e.signInForm.get("email").invalid),m("formControlName","email"),r(),c(e.signInForm.get("email").touched&&e.signInForm.get("email").invalid?6:-1),r(),c(e.showPasskeyLogin?7:-1)}}function Xe(n,d){if(n&1&&(o(0,"option",35),l(1),a()),n&2){let e=d.$implicit;m("value",e.code),r(),q("",e.flag," ",e.code,"")}}function Ye(n,d){n&1&&(l(0),f(1,"transloco")),n&2&&I(" ",_(1,1,"signIn.phoneRequired")," ")}function Ze(n,d){n&1&&(l(0),f(1,"transloco")),n&2&&I(" ",_(1,1,"signIn.phonePattern")," ")}function et(n,d){if(n&1&&(o(0,"div",60),x(1,Ye,2,3)(2,Ze,2,3),a()),n&2){let e=p(2);r(),c(e.signInForm.get("phone").hasError("required")?1:-1),r(),c(e.signInForm.get("phone").hasError("pattern")?2:-1)}}function tt(n,d){if(n&1){let e=k();o(0,"button",51),v("click",function(){g(e);let t=p(2);return h(t.loginWithPasskey())}),o(1,"mat-icon",52),l(2,"fingerprint"),a(),o(3,"span",53),l(4,"Sign in with Passkey"),a()()}}function it(n,d){if(n&1){let e=k();o(0,"div",17)(1,"div",54)(2,"label",19),l(3),f(4,"transloco"),a(),o(5,"div",55)(6,"div",56)(7,"select",57),T(8,Xe,2,3,"option",35,ze),a()(),o(10,"div",58)(11,"input",59),v("blur",function(){g(e);let t=p();return h(t.checkPasskey())}),a()()(),x(12,et,3,2,"div",60),a(),x(13,tt,5,0,"button",50),a()}if(n&2){let e=p();r(3),C(_(4,5,"signIn.phoneNumber")),r(4),m("formControlName","countryCode"),r(),B(e.countryCodes),r(3),m("formControlName","phone"),r(),c(e.signInForm.get("phone").touched&&e.signInForm.get("phone").invalid?12:-1),r(),c(e.showPasskeyLogin?13:-1)}}function nt(n,d){n&1&&(o(0,"div",24),l(1),f(2,"transloco"),a()),n&2&&(r(),C(_(2,1,"signIn.masterPasswordRequired")))}function rt(n,d){n&1&&(o(0,"span"),l(1),f(2,"transloco"),a(),o(3,"mat-icon",40),l(4,"arrow_forward"),a()),n&2&&(r(),C(_(2,1,"signIn.signInButton")))}function ot(n,d){n&1&&S(0,"mat-progress-spinner",29),n&2&&m("diameter",24)("mode","indeterminate")}function at(n,d){if(n&1&&(o(0,"option",35),l(1),a()),n&2){let e=d.$implicit;m("value",e.code),r(),q("",e.flag," ",e.name,"")}}var Le=(()=>{class n{constructor(e,i,t,s,y){this._activatedRoute=e,this._authService=i,this._formBuilder=t,this._router=s,this._passkeyService=y,this.alert={type:"success",message:""},this.showAlert=!1,this.showBiometricVerification=!1,this.showPasskeyLogin=!1,this.showPasskeyPrompt=!1,this.userData={},this.availableLanguages=[{code:"en",name:"English",flag:"\u{1F1FA}\u{1F1F8}"},{code:"es",name:"Espa\xF1ol",flag:"\u{1F1EA}\u{1F1F8}"},{code:"fr",name:"Fran\xE7ais",flag:"\u{1F1EB}\u{1F1F7}"},{code:"zh",name:"\u4E2D\u6587",flag:"\u{1F1E8}\u{1F1F3}"},{code:"ja",name:"\u65E5\u672C\u8A9E",flag:"\u{1F1EF}\u{1F1F5}"},{code:"ko",name:"\uD55C\uAD6D\uC5B4",flag:"\u{1F1F0}\u{1F1F7}"}],this.currentLanguage="en",this.countryCodes=De,this._translocoService=X(le)}ngOnInit(){this.signInForm=this._formBuilder.group({identificationMethod:["email",b.required],email:["",[b.required,b.email]],countryCode:["+1"],phone:[""],masterPassword:["",b.required],rememberMe:[""]}),this.signInForm.get("identificationMethod")?.valueChanges.subscribe(e=>{this.updateValidation(e),setTimeout(()=>this.checkPasskey(),100)}),this.signInForm.get("email")?.valueChanges.pipe(E(300),A()).subscribe(()=>{this.checkPasskey()}),this.signInForm.get("phone")?.valueChanges.pipe(E(300),A()).subscribe(()=>{this.checkPasskey()}),this.updateValidation("email"),this.loadRememberedData(),this.currentLanguage=this._translocoService.getActiveLang()||"en"}updateValidation(e){let i=this.signInForm.get("email"),t=this.signInForm.get("countryCode"),s=this.signInForm.get("phone");e==="email"?(i?.setValidators([b.required,b.email]),t?.clearValidators(),s?.clearValidators()):e==="phone"&&(i?.clearValidators(),t?.setValidators([b.required]),s?.setValidators([b.required,b.pattern(/^[0-9]{8,12}$/)])),i?.updateValueAndValidity(),t?.updateValueAndValidity(),s?.updateValueAndValidity()}_getCurrentIdentifier(){let e=this.signInForm.get("identificationMethod")?.value;if(e==="email")return this.signInForm.get("email")?.value;if(e==="phone"){let i=this.signInForm.get("countryCode")?.value,t=this.signInForm.get("phone")?.value;if(i&&t)return`${i}${t}`}return null}checkPasskey(){let e=this._getCurrentIdentifier();if(e){let i=this._passkeyService.getPasskeyMetadata(e);this.showPasskeyLogin=!!i}else this.showPasskeyLogin=!1}loginWithPasskey(){return P(this,null,function*(){let e=this._getCurrentIdentifier();if(!e)return;let i=this._passkeyService.getPasskeyMetadata(e);if(i)try{let t=yield this._passkeyService.authenticate(i.credentialId,this._passkeyService.base64ToBuffer(i.salt));if(t){let s=yield this._passkeyService.decryptPassword(i.ciphertext,i.iv,t);this.signInForm.patchValue({masterPassword:s}),this.signIn()}}catch(t){console.error("Passkey login failed:",t),this.alert={type:"error",message:"Passkey login failed. Please use your password."},this.showAlert=!0}})}signIn(){if(this.signInForm.invalid)return;this.saveRememberedData();let e=this.signInForm.value,i=e.identificationMethod;i==="email"?this.userData={email:e.email,masterPassword:e.masterPassword,identificationMethod:"email"}:i==="phone"&&(this.userData={countryCode:e.countryCode,phone:e.phone,masterPassword:e.masterPassword,identificationMethod:"phone"}),this._authService.verifyClientExists(this.userData).subscribe(t=>{let s=t.data?.publicData;if(this.userData=F(V({},this.userData),{email:s?.accountEmail,phone:s?.accountPhone,countryCode:s?.accountCountryCode}),s?.accountEmail){this.showBiometricVerification=!0,this.showAlert=!1;return}this.showAlert=!0,this.alert={type:"error",message:this.getErrorMessage({message:"Client not found"})}},t=>{console.error("Verify client exists error:",t),this.showAlert=!0,this.alert={type:"error",message:this.getErrorMessage(t)}})}onBiometricSuccess(e){this.signInForm.disable();let i=F(V({},this.userData),{masterPassword:e.password,faceBase64:e.faceBase64});console.info({signInData:i,biometricData:e}),this._authService.signIn(i).then(t=>{if(t.data?.token&&t.data?.zelfProof&&t.data?.zelfAccount){this._authService.setSession({zelfProof:t.data.zelfProof,zelfAccount:t.data.zelfAccount}),this._authService.setAccessToken(t.data.token);let s=this._getCurrentIdentifier(),y=this.signInForm.get("masterPassword")?.value;s&&y?this._passkeyService.getPasskeyMetadata(s)?this._router.navigateByUrl("/analytics"):this.showPasskeyPrompt=!0:this._router.navigateByUrl("/analytics")}else console.error("Sign in response missing required authentication data:",t),this.alert={type:"error",message:this.getErrorMessage({message:"Incomplete authentication data received"})},this.showAlert=!0,this.signInForm.enable(),this.showBiometricVerification=!1},t=>{if(console.error("Sign in error:",t),t?.message&&(t.message.includes("Multiple face were detected")||t.message.includes("No face detected")||t.message.includes("Face not recognized")||t.message.includes("biometric")||t.message.includes("face")||t.message.includes("LIVENESS")||t.message.includes("liveness"))){this.biometricVerification&&this.biometricVerification.handleApiError(t);return}this.signInForm.enable(),this.signInNgForm.resetForm(),this.showBiometricVerification=!1;let s=this.getErrorMessage(t);this.alert={type:"error",message:s},this.showAlert=!0})}onPasskeySave(){let e=this._getCurrentIdentifier(),i=this.signInForm.get("masterPassword")?.value;e&&i&&this._passkeyService.register(e).then(t=>P(this,null,function*(){if(t){let s=yield this._passkeyService.encryptPassword(i,t.key);this._passkeyService.savePasskeyMetadata(e,{credentialId:t.credentialId,salt:this._passkeyService.bufferToBase64(t.salt),iv:s.iv,ciphertext:s.ciphertext})}this.showPasskeyPrompt=!1,this._router.navigateByUrl("/analytics")}))}onPasskeyCancel(){this.showPasskeyPrompt=!1,this._router.navigateByUrl("/analytics")}onBiometricCancel(){this.showBiometricVerification=!1,this.userData={},this.clearRememberedData()}getErrorMessage(e){let i=e?.error?.code||e?.code||e?.error?.message||e?.message||"unknown_error",t=e?.error?.message||e?.message||"",s={client_not_found:"errors.client_not_found",client_invalid_api_key:"errors.client_invalid_api_key","403:client_not_found":"errors.client_not_found","403:client_invalid_api_key":"errors.client_invalid_api_key",Forbidden:"errors.unknown_error",Conflict:"errors.unknown_error",BadRequest:"errors.validation_error",UnprocessableEntity:"errors.validation_error",InternalServerError:"errors.unknown_error",Timeout:"errors.network_error",unknown_error:"errors.unknown_error",network_error:"errors.network_error",validation_error:"errors.validation_error"};if(t){if(t.includes("client_not_found"))return this._translocoService.translate("errors.client_not_found");if(t.includes("client_invalid_api_key"))return this._translocoService.translate("errors.client_invalid_api_key");if(t.includes("Incomplete authentication data received"))return this._translocoService.translate("errors.incomplete_auth_data")}let y=s[i]||"errors.unknown_error";return this._translocoService.translate(y)}loadRememberedData(){try{let e=localStorage.getItem("zelf_remembered_signin");if(e){let i=JSON.parse(e);i.identificationMethod&&(this.signInForm.patchValue({identificationMethod:i.identificationMethod}),this.updateValidation(i.identificationMethod)),i.email&&this.signInForm.patchValue({email:i.email}),i.countryCode&&this.signInForm.patchValue({countryCode:i.countryCode}),i.phone&&this.signInForm.patchValue({phone:i.phone}),i.rememberMe&&this.signInForm.patchValue({rememberMe:i.rememberMe})}}catch(e){console.error("Error loading remembered data:",e)}}saveRememberedData(){let e=this.signInForm.value;if(e.rememberMe)try{let t={identificationMethod:e.identificationMethod,rememberMe:!0};e.identificationMethod==="email"&&e.email?t.email=e.email:e.identificationMethod==="phone"&&(e.countryCode&&(t.countryCode=e.countryCode),e.phone&&(t.phone=e.phone)),localStorage.setItem("zelf_remembered_signin",JSON.stringify(t))}catch(t){console.error("Error saving remembered data:",t)}else localStorage.removeItem("zelf_remembered_signin")}clearRememberedData(){localStorage.removeItem("zelf_remembered_signin")}onLanguageChange(e){this.currentLanguage=e,this._translocoService.setActiveLang(e)}static{this.\u0275fac=function(i){return new(i||n)(w(ee),w(me),w(Ce),w(te),w(Ne))}}static{this.\u0275cmp=Y({type:n,selectors:[["auth-sign-in"]],viewQuery:function(i,t){if(i&1&&(D(Re,5),D(je,5)),i&2){let s;N(s=z())&&(t.signInNgForm=s.first),N(s=z())&&(t.biometricVerification=s.first)}},decls:58,vars:59,consts:[["signInNgForm","ngForm"],["masterPasswordField",""],["biometricVerification",""],[1,"fixed","inset-0","bg-black/60","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-4","transition-opacity","duration-300"],[1,"flex","flex-col","items-center","justify-center","min-h-screen","bg-gray-50","dark:bg-gray-900","w-full","px-4","sm:px-6"],[1,"w-full","max-w-[420px]","bg-white","dark:bg-gray-800","rounded-3xl","shadow-xl","overflow-hidden","border","border-gray-100","dark:border-gray-700"],[1,"p-8","sm:p-10"],[1,"flex","flex-col","items-center","mb-8"],[1,"w-12","h-12","mb-6"],["src","images/logo/logo.svg","alt","Logo",1,"w-full","h-full"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","tracking-tight"],[1,"mt-2","text-sm","text-gray-500","dark:text-gray-400"],[1,"font-medium","text-primary-600","hover:text-primary-500","ml-1","transition-colors",3,"routerLink"],[1,"mb-6",3,"appearance","showIcon","type"],[3,"formGroup"],[1,"bg-gray-100","dark:bg-gray-700/50","p-1","rounded-xl","mb-6","flex"],["type","button",1,"flex-1","text-sm","font-medium","py-2","rounded-lg","transition-all","duration-200",3,"click"],[1,"space-y-4"],[1,"mt-6","mb-6"],[1,"block","text-xs","font-semibold","text-gray-500","dark:text-gray-400","uppercase","tracking-wider","mb-1.5","ml-1"],[1,"relative"],["id","masterPassword","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","pl-4","pr-12","py-3","bg-gray-50","dark:bg-gray-700/50","border","border-gray-200","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-primary-500","focus:border-transparent","outline-none","transition-all","text-gray-900","dark:text-white","placeholder-gray-400",3,"formControlName"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-gray-400","hover:text-gray-600","dark:hover:text-gray-200","transition-colors","p-1",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"text-red-500","text-xs","mt-1","ml-1"],[1,"flex","items-center","mb-8"],[1,"custom-checkbox",3,"color","formControlName"],[1,"text-sm","font-medium","text-gray-600","dark:text-gray-300"],["type","button",1,"w-full","py-3.5","px-4","bg-gray-900","dark:bg-white","text-white","dark:text-gray-900","font-bold","rounded-xl","shadow-lg","hover:shadow-xl","hover:-translate-y-0.5","active:translate-y-0","active:shadow-md","transition-all","duration-200","disabled:opacity-50","disabled:pointer-events-none","flex","items-center","justify-center","gap-2",3,"click","disabled"],[3,"diameter","mode"],[1,"mt-8","text-xs","text-center","text-gray-400","dark:text-gray-500"],["href","https://docs.zelf.world/docs/legal/terms-of-use","target","_blank",1,"underline","hover:text-gray-600","dark:hover:text-gray-300","transition-colors"],["href","https://docs.zelf.world/docs/legal/privacy-policy","target","_blank",1,"underline","hover:text-gray-600","dark:hover:text-gray-300","transition-colors"],[1,"fixed","bottom-6","right-6","z-20"],[1,"px-3","py-2","text-sm","font-medium","text-gray-500","bg-white/80","dark:bg-gray-800/80","backdrop-blur","border","border-gray-200","dark:border-gray-700","rounded-lg","shadow-sm","hover:bg-white","dark:hover:bg-gray-800","focus:outline-none","focus:ring-2","focus:ring-primary-500","cursor-pointer","transition-all",3,"change","value"],[3,"value"],[1,"bg-white","dark:bg-slate-900","rounded-2xl","w-full","max-w-md","overflow-hidden","shadow-2xl","transform","transition-all","scale-100"],[1,"px-6","py-4","border-b","border-gray-100","dark:border-gray-800","flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],["mat-icon-button","",1,"text-gray-400","hover:text-gray-600","dark:text-gray-500","dark:hover:text-gray-300","transition-colors",3,"click"],[1,"icon-size-5"],[1,"p-6"],[1,"flex","flex-col","items-center","mb-6"],[1,"w-12","h-12","rounded-full","bg-primary-50","dark:bg-primary-900/20","flex","items-center","justify-center","mb-3","text-primary-600","dark:text-primary-400"],[1,"icon-size-6"],[1,"text-sm","text-gray-500","dark:text-gray-400","text-center"],[1,"font-medium","text-gray-900","dark:text-white","text-base"],[3,"biometricsSuccess","biometricsCancel","userData","isModalContext"],[3,"onSave","onCancel"],["id","email","placeholder","name@company.com",1,"w-full","px-4","py-3","bg-gray-50","dark:bg-gray-700/50","border","border-gray-200","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-primary-500","focus:border-transparent","outline-none","transition-all","text-gray-900","dark:text-white","placeholder-gray-400",3,"blur","formControlName"],["type","button",1,"w-full","group","flex","items-center","justify-center","gap-2","py-2.5","px-4","bg-primary-50","dark:bg-primary-900/20","text-primary-600","dark:text-primary-400","rounded-xl","border","border-primary-100","dark:border-primary-800","hover:bg-primary-100","dark:hover:bg-primary-900/30","transition-colors"],["type","button",1,"w-full","group","flex","items-center","justify-center","gap-2","py-2.5","px-4","bg-primary-50","dark:bg-primary-900/20","text-primary-600","dark:text-primary-400","rounded-xl","border","border-primary-100","dark:border-primary-800","hover:bg-primary-100","dark:hover:bg-primary-900/30","transition-colors",3,"click"],[1,"icon-size-5","transition-transform","group-hover:scale-110"],[1,"font-medium"],[1,"space-y-1.5"],[1,"flex","gap-3"],[1,"w-32"],[1,"w-full","h-[46px]","px-3","bg-gray-50","dark:bg-gray-700/50","border","border-gray-200","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-primary-500","focus:border-transparent","outline-none","transition-all","text-gray-900","dark:text-white","appearance-none","cursor-pointer",3,"formControlName"],[1,"flex-1"],["id","phone","type","tel","placeholder","555-0123",1,"w-full","px-4","py-3","bg-gray-50","dark:bg-gray-700/50","border","border-gray-200","dark:border-gray-600","rounded-xl","focus:ring-2","focus:ring-primary-500","focus:border-transparent","outline-none","transition-all","text-gray-900","dark:text-white","placeholder-gray-400",3,"blur","formControlName"],[1,"text-red-500","text-xs","ml-1"]],template:function(i,t){if(i&1){let s=k();x(0,Oe,20,3,"div",3)(1,Qe,1,0,"app-passkey-prompt-modal"),o(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8),S(7,"img",9),a(),o(8,"h1",10),l(9,"Welcome back"),a(),o(10,"div",11),l(11),f(12,"transloco"),o(13,"a",12),l(14),f(15,"transloco"),a()()(),x(16,$e,2,5,"fuse-alert",13),o(17,"form",14,0)(19,"div",15)(20,"button",16),v("click",function(){let u;return g(s),h((u=t.signInForm.get("identificationMethod"))==null?null:u.setValue("email"))}),l(21," Email "),a(),o(22,"button",16),v("click",function(){let u;return g(s),h((u=t.signInForm.get("identificationMethod"))==null?null:u.setValue("phone"))}),l(23," Phone "),a()(),x(24,Ke,8,8,"div",17)(25,it,14,7,"div",17),o(26,"div",18)(27,"label",19),l(28),f(29,"transloco"),a(),o(30,"div",20),S(31,"input",21,1),o(33,"button",22),v("click",function(){g(s);let u=L(32);return h(u.type==="password"?u.type="text":u.type="password")}),S(34,"mat-icon",23),a()(),x(35,nt,3,3,"div",24),a(),o(36,"div",25)(37,"mat-checkbox",26)(38,"span",27),l(39),f(40,"transloco"),a()()(),o(41,"button",28),v("click",function(){return g(s),h(t.signIn())}),x(42,rt,5,3)(43,ot,1,2,"mat-progress-spinner",29),a()(),o(44,"p",30),l(45," By signing in, you agree to our "),o(46,"a",31),l(47),f(48,"transloco"),a(),l(49," and "),o(50,"a",32),l(51),f(52,"transloco"),a(),l(53,". "),a()()(),o(54,"div",33)(55,"select",34),v("change",function(u){return g(s),h(t.onLanguageChange(u.target.value))}),T(56,at,2,3,"option",35,ze),a()()()}if(i&2){let s,y,u,R,j,U,O,Q,$,G,W,J,H,K,qe=L(32);c(t.showBiometricVerification?0:-1),r(),c(t.showPasskeyPrompt?1:-1),r(10),I(" ",_(12,46,"signIn.dontHaveAccount")," "),r(2),m("routerLink",Z(58,Ue)),r(),I(" ",_(15,48,"signIn.signUp")," "),r(2),c(t.showAlert?16:-1),r(),m("formGroup",t.signInForm),r(3),M("bg-white",((s=t.signInForm.get("identificationMethod"))==null?null:s.value)==="email")("shadow-sm",((y=t.signInForm.get("identificationMethod"))==null?null:y.value)==="email")("text-gray-900",((u=t.signInForm.get("identificationMethod"))==null?null:u.value)==="email")("dark:bg-gray-600",((R=t.signInForm.get("identificationMethod"))==null?null:R.value)==="email")("dark:text-white",((j=t.signInForm.get("identificationMethod"))==null?null:j.value)==="email")("text-gray-500",((U=t.signInForm.get("identificationMethod"))==null?null:U.value)!=="email"),r(2),M("bg-white",((O=t.signInForm.get("identificationMethod"))==null?null:O.value)==="phone")("shadow-sm",((Q=t.signInForm.get("identificationMethod"))==null?null:Q.value)==="phone")("text-gray-900",(($=t.signInForm.get("identificationMethod"))==null?null:$.value)==="phone")("dark:bg-gray-600",((G=t.signInForm.get("identificationMethod"))==null?null:G.value)==="phone")("dark:text-white",((W=t.signInForm.get("identificationMethod"))==null?null:W.value)==="phone")("text-gray-500",((J=t.signInForm.get("identificationMethod"))==null?null:J.value)!=="phone"),r(2),c(((H=t.signInForm.get("identificationMethod"))==null?null:H.value)==="email"?24:-1),r(),c(((K=t.signInForm.get("identificationMethod"))==null?null:K.value)==="phone"?25:-1),r(3),C(_(29,50,"signIn.masterPassword")),r(3),m("formControlName","masterPassword"),r(3),m("svgIcon",qe.type==="password"?"heroicons_solid:eye":"heroicons_solid:eye-slash"),r(),c(t.signInForm.get("masterPassword").touched&&t.signInForm.get("masterPassword").hasError("required")?35:-1),r(2),m("color","primary")("formControlName","rememberMe"),r(2),C(_(40,52,"signIn.rememberMe")),r(2),m("disabled",t.signInForm.disabled),r(),c(t.signInForm.disabled?-1:42),r(),c(t.signInForm.disabled?43:-1),r(4),C(_(48,54,"signIn.termsOfUse")),r(4),C(_(52,56,"signIn.privacyPolicy")),r(4),m("value",t.currentLanguage),r(),B(t.availableLanguages)}},dependencies:[ie,Ve,Ie,fe,xe,be,ue,ve,ge,he,ke,_e,ye,ne,we,oe,re,se,ae,Pe,Fe,Me,Se,Ee,Ae,Be,ce,de,Te],encapsulation:2,data:{animation:pe}})}}return n})();var jt=[{path:"",component:Le}];export{jt as default};
