import{a as ve,b as Se,c as ke,d as Pe,e as Ee}from"./chunk-PHU3FCHK.js";import{c as q,e as L}from"./chunk-6IDKQBOU.js";import{a as xe,b as ye}from"./chunk-I72TDKW2.js";import{a as be,b as _e}from"./chunk-LWQYDL4J.js";import"./chunk-IQRIDQLL.js";import"./chunk-DKKRDCXN.js";import{a as Ce}from"./chunk-EUY2YDGT.js";import{a as we}from"./chunk-HRO7TOJP.js";import{a as ee,d as te}from"./chunk-WSIB2RPJ.js";import{a as he,b as ge}from"./chunk-CO7OKFRW.js";import{b as fe,c as ue}from"./chunk-IKJPJXAX.js";import{a as J,c as U,i as G,j as W}from"./chunk-LBFYWZ5R.js";import{c as ie}from"./chunk-3MMKIMM3.js";import{a as Y,c as $,d as K}from"./chunk-KS2LTHLY.js";import{A as pe,b as ne,d as v,f as ae,g as re,k as oe,l as se,o as le,q as me,x as de,z as ce}from"./chunk-3KGOJ26K.js";import"./chunk-EJQEG2NC.js";import{X as z,ca as Q,da as X}from"./chunk-A67USOKJ.js";import{a as O}from"./chunk-E6ENPQNB.js";import"./chunk-PQGDOZGZ.js";import"./chunk-BP572ZWP.js";import"./chunk-KC6B5M5P.js";import{i as I,j,o as R,s as A,v as F,z as H}from"./chunk-RXE653LG.js";import{Ab as h,Bc as N,Gc as D,Hc as V,Ib as d,Pb as x,Ub as n,Vb as t,Wb as g,Xb as k,Yb as P,_b as _,ec as u,gb as s,gc as m,hb as y,ra as p,rc as i,sa as f,sc as C,tc as E,ub as Z,wc as M,xc as T,yc as B}from"./chunk-UOZRKCH4.js";import{g as w}from"./chunk-TSRGIXR5.js";var Be=o=>({domain:"payment",masterPassword:o});function De(o,c){if(o&1&&(n(0,"mat-option",28),i(1),t()),o&2){let e=c.$implicit;d("value",e.value),s(),E(" ",e.label," ")}}function Ve(o,c){o&1&&(k(0),g(1,"mat-spinner",29),i(2," Processing... "),P())}function Fe(o,c){o&1&&(k(0),n(1,"mat-icon",9),i(2,"send"),t(),i(3," Test Encrypt "),P())}function Oe(o,c){if(o&1){let e=_();n(0,"div",43)(1,"h3",51),i(2,"Fast Payment"),t(),n(3,"p",52),i(4," Pay securely with your ZNS tokens. The transaction will be signed automatically after biometric verification. "),t(),n(5,"button",53),u("click",function(){p(e);let a=m(2);return f(a.startPaymentFlow())}),n(6,"div",54)(7,"mat-icon",9),i(8,"fingerprint"),t(),i(9," Pay with ZNS "),t()(),n(10,"p",55),i(11,"Gas fees are covered by the service (Fee Payer)"),t()()}if(o&2){let e=m(2);s(5),d("disabled",e.paymentProcessing)}}function Ze(o,c){o&1&&g(0,"mat-spinner",69)}function Ne(o,c){o&1&&(n(0,"mat-icon",64),i(1,"fingerprint"),t())}function Ie(o,c){if(o&1){let e=_();n(0,"div",57)(1,"button",68),u("click",function(){p(e);let a=m(3);return f(a.onPasskeyLogin())}),h(2,Ze,1,0,"mat-spinner",69)(3,Ne,2,0,"mat-icon",64),i(4," Continue with Passkey "),t(),n(5,"div",70),g(6,"div",71),n(7,"span",72),i(8,"OR USE PASSWORD"),t(),g(9,"div",71),t()()}if(o&2){let e=m(3);s(),d("disabled",e.paymentProcessing),s(),x(e.paymentProcessing?2:3)}}function je(o,c){if(o&1){let e=_();n(0,"div",44)(1,"h3",56),i(2,"Verify Identity"),t(),h(3,Ie,10,2,"div",57),n(4,"div",42)(5,"div",58)(6,"label",59),i(7,"Master Password"),t(),n(8,"div",60)(9,"mat-icon",61),i(10,"lock"),t(),n(11,"input",62),B("ngModelChange",function(a){p(e);let l=m(2);return T(l.masterPassword,a)||(l.masterPassword=a),f(a)}),t(),n(12,"button",63),u("click",function(){p(e);let a=m(2);return f(a.togglePasswordVisibility())}),n(13,"mat-icon",64),i(14),t()()()(),n(15,"div",65)(16,"button",66),u("click",function(){p(e);let a=m(2);return f(a.cancelPaymentFlow())}),i(17," Cancel "),t(),n(18,"button",67),u("click",function(){p(e);let a=m(2);return f(a.proceedToBiometric())}),i(19," Continue "),t()()()()}if(o&2){let e=m(2);s(3),x(e.hasPasskey?3:-1),s(8),M("ngModel",e.masterPassword),d("type",e.showPassword?"text":"password")("disabled",e.paymentProcessing),s(3),C(e.showPassword?"visibility_off":"visibility"),s(2),d("disabled",e.paymentProcessing),s(2),d("disabled",!e.masterPassword||e.paymentProcessing)}}function Re(o,c){if(o&1){let e=_();n(0,"mat-card",24)(1,"mat-card-header",30)(2,"mat-card-title",31)(3,"mat-icon",9),i(4,"payment"),t(),i(5," Payment Required (HTTP 402) "),t()(),n(6,"mat-card-content",32)(7,"div",33)(8,"h3",34),i(9,"Payment Details:"),t(),n(10,"div",35)(11,"div",36)(12,"span",37),i(13,"Cost:"),t(),n(14,"span",38),i(15),t()(),n(16,"div",36)(17,"span",37),i(18,"Token:"),t(),n(19,"span",39),i(20),t()(),n(21,"div",36)(22,"span",37),i(23,"Chain:"),t(),n(24,"span",40)(25,"mat-icon",41),i(26,"link"),t(),i(27," Solana "),t()()()(),n(28,"div",42),h(29,Oe,12,1,"div",43)(30,je,20,7,"div",44),n(31,"div",45)(32,"p",46),i(33,"Or verify manually"),t(),n(34,"div",47)(35,"mat-form-field",48)(36,"mat-label"),i(37,"Transaction Hash"),t(),n(38,"input",49),B("ngModelChange",function(a){p(e);let l=m();return T(l.paymentTxHash,a)||(l.paymentTxHash=a),f(a)}),t()(),n(39,"button",50),u("click",function(){p(e);let a=m();return f(a.testEncrypt())}),n(40,"mat-icon"),i(41,"check_circle"),t()()()()()()()}if(o&2){let e=m();s(15),E("",e.paymentDetails.paymentDetails==null?null:e.paymentDetails.paymentDetails.cost," ZNS"),s(5),C(e.paymentDetails.paymentDetails==null?null:e.paymentDetails.paymentDetails.token),s(9),x(e.showPasswordStep?30:29),s(9),M("ngModel",e.paymentTxHash),s(),d("disabled",!e.paymentTxHash)}}function Ae(o,c){if(o&1){let e=_();n(0,"mat-card",25)(1,"mat-card-header",73)(2,"mat-card-title",74)(3,"mat-icon",9),i(4,"check_circle"),t(),i(5," Success "),t()(),n(6,"mat-card-content")(7,"div",33)(8,"div",75)(9,"h3",76),i(10,"Response:"),t(),n(11,"button",77),u("click",function(){p(e);let a=m();return f(a.copyResponseToClipboard())}),n(12,"mat-icon"),i(13,"content_copy"),t()()(),n(14,"pre",78),i(15),D(16,"json"),t()()()()}if(o&2){let e=m();s(15),C(V(16,1,e.response))}}function He(o,c){if(o&1&&(n(0,"mat-card",26)(1,"mat-card-header",79)(2,"mat-card-title",80)(3,"mat-icon",9),i(4,"error"),t(),i(5," Error "),t()(),n(6,"mat-card-content")(7,"div",33)(8,"pre",81),i(9),D(10,"json"),t()()()()),o&2){let e=m();s(9),C(V(10,1,e.error))}}function ze(o,c){o&1&&(n(0,"mat-card",7)(1,"mat-card-header")(2,"mat-card-title",8)(3,"mat-icon",9),i(4,"info"),t(),i(5," How it works "),t()(),n(6,"mat-card-content",82)(7,"p")(8,"strong"),i(9,"Step 1:"),t(),i(10," Fill in the encryption data (or use sample data)"),t(),n(11,"p")(12,"strong"),i(13,"Step 2:"),t(),i(14,` Click "Test Encrypt" - you'll get a 402 Payment Required response`),t(),n(15,"p")(16,"strong"),i(17,"Step 3:"),t(),i(18,' Click "Pay with ZNS" to authenticate with biometrics'),t(),n(19,"p")(20,"strong"),i(21,"Step 4:"),t(),i(22," The transaction is automatically signed and submitted"),t(),n(23,"p")(24,"strong"),i(25,"Step 5:"),t(),i(26," Encryption succeeds with payment proof!"),t(),n(27,"div",83)(28,"p",84)(29,"strong"),i(30,"Fee Payer:"),t(),i(31," You don't need SOL to pay gas fees. The service covers the transaction costs. "),t()()()())}function qe(o,c){if(o&1){let e=_();n(0,"div",27)(1,"div",85)(2,"div",86)(3,"div",87)(4,"h2",88),i(5,"Biometric Verification"),t(),n(6,"div",89)(7,"div",90)(8,"mat-icon",91),i(9,"lock"),t(),n(10,"span"),i(11,"SECURE"),t()(),n(12,"span",92),i(13," Payment Authorization "),t()()(),n(14,"button",93),u("click",function(){p(e);let a=m();return f(a.onBiometricCancel())}),n(15,"mat-icon",94),i(16,"close"),t()()(),n(17,"div",95)(18,"app-data-biometrics",96),u("biometricsSuccess",function(a){p(e);let l=m();return f(l.onBiometricSuccess(a))})("biometricsCancel",function(){p(e);let a=m();return f(a.onBiometricCancel())}),t()()()()}if(o&2){let e=m();s(18),d("userData",N(2,Be,e.masterPassword))("isModalContext",!0)}}var Me=(()=>{class o{constructor(e,r,a,l,b,S,Te){this.fb=e,this.http=r,this.authService=a,this.snackBar=l,this.dialog=b,this.passkeyService=S,this.translocoService=Te,this.loading=!1,this.paymentRequired=!1,this.paymentDetails=null,this.response=null,this.error=null,this.masterPassword="",this.showPassword=!1,this.hasPasskey=!1,this.showPasswordStep=!1,this.showBiometricModal=!1,this.paymentProcessing=!1,this.paymentTxHash="",this.paymentChain="solana",this.walletAddress="",this.chains=[{value:"solana",label:"Solana",icon:"account_balance_wallet"},{value:"avalanche",label:"Avalanche",icon:"account_balance_wallet"},{value:"base",label:"Base",icon:"account_balance_wallet"}],this.livenessLevels=[{value:"SOFT",label:"Soft"},{value:"REGULAR",label:"Regular"},{value:"HARDENED",label:"Hardened"}]}ngOnInit(){this.encryptForm=this.fb.group({publicData:['{"name": "Test User", "email": "test@example.com"}',v.required],faceBase64:["",v.required],os:["DESKTOP",v.required],livenessLevel:["REGULAR",v.required],metadata:['{"device": "Browser", "location": "Test"}']});let e=this.authService.wallet;e&&(this.walletAddress=e.solanaAddress||"");let r=this.authService.zelfAccount?.publicData?.accountEmail||this.authService.zelfAccount?.publicData?.staffEmail;r&&this.passkeyService.getPasskeyMetadata(r).then(a=>{a&&(this.hasPasskey=!0)})}testEncrypt(e=!1){return w(this,null,function*(){if(this.encryptForm.invalid)return this.snackBar.open("Please fill in all required fields","Close",{duration:3e3}),e||this.snackBar.open("Please fill in all required fields","Close",{duration:3e3}),!1;e||(this.loading=!0),this.error=null,this.response=null,this.paymentRequired=!1;try{let r=this.encryptForm.value,a=JSON.parse(r.publicData),l={publicData:a,faceBase64:r.faceBase64,os:r.os,metadata:r.metadata?JSON.parse(r.metadata):{},livenessLevel:r.livenessLevel,tolerance:r.livenessLevel,identifier:a.email||a.identifier||`test-id-${Date.now()}`},b={Authorization:`Bearer ${this.authService.accessToken}`};this.paymentTxHash&&this.paymentChain&&(b["x-payment-chain"]=this.paymentChain,b["x-payment-tx"]=this.paymentTxHash,b["x-wallet-address"]=this.walletAddress,b["x-payment-proof"]="verified");let S=yield this.http.post(`${O.apiUrl}/api/zelf-proof/encrypt`,l,{headers:new F(b)}).toPromise();return this.response=S,this.snackBar.open("Encryption successful!","Close",{duration:5e3}),!0}catch(r){if(console.error("Error:",r),r.status===402)this.paymentRequired=!0,this.paymentDetails=r.error,e||this.snackBar.open("Payment required - Please complete payment","Close",{duration:5e3});else{this.error=r.error||r.message||"Unknown error occurred";let a=this.getErrorMessage(r);(!e||!a.includes("Transaction not found")&&r.status!==402&&r.status!==400)&&this.snackBar.open(`Error: ${a}`,"Close",{duration:5e3})}return!1}finally{this.loading=!1}})}pollForVerification(e=0){return w(this,null,function*(){if(e>=30){this.snackBar.open("Payment verification timed out. Please try manually.","Close",{duration:5e3}),this.paymentProcessing=!1;return}if(yield this.testEncrypt(!0)){this.paymentProcessing=!1,this.showPasswordStep=!1,this.cancelPaymentFlow();return}let a=this.error&&typeof this.error=="object"?this.error.message||JSON.stringify(this.error):String(this.error||"");this.paymentRequired||a.includes("Transaction not found")||a.includes("Payment Verification Failed")?(yield new Promise(l=>setTimeout(l,2200)),yield this.pollForVerification(e+1)):this.paymentProcessing=!1})}startPaymentFlow(){this.showPasswordStep=!0}cancelPaymentFlow(){this.showPasswordStep=!1,this.showBiometricModal=!1,this.masterPassword=""}togglePasswordVisibility(){this.showPassword=!this.showPassword}onPasskeyLogin(){return w(this,null,function*(){this.paymentProcessing=!0;try{let e=this.authService.zelfAccount?.publicData?.accountEmail||this.authService.zelfAccount?.publicData?.staffEmail;if(!e)throw new Error("No user email found");let r=yield this.passkeyService.getPasskeyMetadata(e);if(!r)throw new Error("No passkey metadata found");let a=yield this.passkeyService.authenticate(r.credentialId,this.passkeyService.base64ToBuffer(r.salt));if(a){let l=yield this.passkeyService.decryptPassword(r.ciphertext,r.iv,a);if(l){this.masterPassword=l,this.paymentProcessing=!1,this.proceedToBiometric();return}}throw new Error("Passkey authentication failed")}catch(e){console.error("Passkey login error:",e),this.snackBar.open("Passkey login failed. Please use your master password.","Close",{duration:5e3}),this.paymentProcessing=!1}})}proceedToBiometric(){if(!this.masterPassword.trim()){this.snackBar.open("Please enter your master password","Close",{duration:3e3});return}this.showBiometricModal=!0}onBiometricSuccess(e){return w(this,null,function*(){this.showBiometricModal=!1;let r=this.paymentDetails?.paymentDetails?.cost||.1;yield this.submitPayment(e,r)})}onBiometricCancel(){this.showBiometricModal=!1}submitPayment(e,r){return w(this,null,function*(){this.paymentProcessing=!0;try{let a={amount:r,faceBase64:e.faceBase64,masterPassword:e.password},l=yield this.http.post(`${O.apiUrl}/api/solana/payment`,a,{headers:new F({Authorization:`Bearer ${this.authService.accessToken}`})}).toPromise();if(l.success&&l.transactionHash)this.paymentTxHash=l.transactionHash,this.paymentChain="solana",this.snackBar.open("Payment successful! Retrying encryption...","Close",{duration:3e3}),yield this.pollForVerification();else throw new Error("Payment failed - no transaction hash received")}catch(a){console.error("Payment error:",a),this.snackBar.open(`Payment failed: ${this.getErrorMessage(a)}`,"Close",{duration:5e3})}finally{this.paymentProcessing=!1}})}clearPayment(){this.paymentTxHash="",this.paymentRequired=!1,this.paymentDetails=null}getErrorMessage(e){return e.error?.message?e.error.message:e.error?.error?e.error.error:e.message?e.message:"Unknown error"}copyResponseToClipboard(){if(this.response){let e=JSON.stringify(this.response,null,2);this.copyToClipboard(e)}}copyToClipboard(e){navigator.clipboard.writeText(e).then(()=>{this.snackBar.open("Copied to clipboard!","Close",{duration:2e3})})}fillSampleData(){this.encryptForm.patchValue({publicData:JSON.stringify({name:"John Doe",email:"john.doe@example.com",age:30,city:"New York"},null,2),faceBase64:"data:image/jpeg;base64,/9j/4AAQSkZJRg...(sample)",os:"DESKTOP",metadata:JSON.stringify({device:"Chrome Browser",location:"New York, USA",timestamp:new Date().toISOString()},null,2)}),this.snackBar.open("Sample data filled","Close",{duration:2e3})}static{this.\u0275fac=function(r){return new(r||o)(y(de),y(H),y(ie),y(xe),y(q),y(Ce),y(ee))}}static{this.\u0275cmp=Z({type:o,selectors:[["app-zelfproofs"]],decls:64,vars:10,consts:[[1,"flex","flex-col","w-full","p-6","sm:p-8"],[1,"flex","items-center","justify-between","mb-8"],[1,"text-3xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mt-2","text-sm","text-gray-500","dark:text-gray-400"],["mat-raised-button","","color","primary",1,"ml-4",3,"click"],[1,"icon-size-5","mr-2"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"shadow-lg"],[1,"flex","items-center"],[1,"mr-2"],[1,"space-y-4","mt-4",3,"formGroup"],["appearance","outline",1,"w-full"],["matInput","","formControlName","publicData","rows","4","placeholder",'{"name": "John Doe"}'],["matInput","","formControlName","faceBase64","rows","3","placeholder","data:image/jpeg;base64,..."],["formControlName","os"],["value","DESKTOP"],["value","ANDROID"],["value","IOS"],["formControlName","livenessLevel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","metadata","rows","3","placeholder",'{"device": "Browser"}'],["mat-raised-button","","color","primary",1,"w-full","py-3",3,"click","disabled"],[4,"ngIf"],[1,"space-y-6"],[1,"shadow-lg","border-2","border-orange-500"],[1,"shadow-lg","border-2","border-green-500"],[1,"shadow-lg","border-2","border-red-500"],[1,"fixed","inset-0","bg-black/60","backdrop-blur-md","flex","items-center","justify-center","z-50","p-4","transition-opacity","duration-300","animate-fade-in"],[3,"value"],["diameter","20",1,"inline-block","mr-2"],[1,"bg-orange-50","dark:bg-orange-900/20","-m-4","mb-4","p-4"],[1,"flex","items-center","text-orange-700","dark:text-orange-400"],[1,"space-y-4"],[1,"bg-gray-50","dark:bg-gray-800","p-4","rounded-lg"],[1,"font-semibold","mb-2"],[1,"space-y-2","text-sm"],[1,"flex","justify-between","items-center"],[1,"text-gray-600","dark:text-gray-400"],[1,"font-mono","font-bold","text-lg","text-primary-600"],[1,"font-mono"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","bg-purple-100","text-purple-800","dark:bg-purple-900","dark:text-purple-200"],[1,"icon-size-3","mr-1"],[1,"space-y-3"],[1,"bg-blue-50","dark:bg-blue-900/20","p-4","rounded-lg"],[1,"bg-gray-50","dark:bg-gray-800","p-4","rounded-lg","border","border-gray-200","dark:border-gray-700","animate-fade-in"],[1,"border-t","border-gray-200","dark:border-gray-700","pt-3","mt-4"],[1,"text-xs","text-center","text-gray-500","mb-3"],[1,"flex","gap-2"],["density","dense","subscriptSizing","dynamic",1,"w-full","text-xs"],["matInput","","placeholder","Tx Hash",3,"ngModelChange","ngModel"],["mat-icon-button","","color","primary","matTooltip","Verify Payment",3,"click","disabled"],[1,"font-semibold","mb-1","text-blue-900","dark:text-blue-300"],[1,"text-xs","text-blue-800","dark:text-blue-200","mb-3"],["mat-raised-button","","color","primary",1,"w-full","py-3","text-lg",3,"click","disabled"],[1,"flex","items-center","justify-center"],[1,"text-[10px]","text-center","mt-2","text-gray-500"],[1,"font-semibold","mb-4","text-gray-900","dark:text-white"],[1,"mb-4"],[1,"space-y-1"],[1,"text-xs","font-semibold","text-gray-700","dark:text-gray-300","ml-1"],[1,"flex","items-center","w-full","bg-white","dark:bg-gray-900","border","border-gray-200","dark:border-gray-700","rounded-xl","px-3","focus-within:border-blue-500","transition-colors"],[1,"text-gray-400","icon-size-5","mr-2"],["placeholder","Enter password to sign",1,"flex-1","bg-transparent","border-none","focus:ring-0","text-gray-900","dark:text-white","py-2.5","text-sm","font-medium","placeholder-gray-400","focus:outline-none",3,"ngModelChange","ngModel","type","disabled"],["type","button",1,"text-gray-400","hover:text-gray-600","transition-colors","ml-2",3,"click"],[1,"icon-size-5"],[1,"flex","gap-2","pt-2"],["type","button",1,"flex-1","px-3","py-2","rounded-xl","border","border-gray-200","dark:border-gray-700","text-gray-600","dark:text-gray-300","text-sm","font-semibold","hover:bg-gray-100","dark:hover:bg-gray-800","transition-colors",3,"click","disabled"],["type","button",1,"flex-1","px-3","py-2","rounded-xl","bg-primary-600","text-white","text-sm","font-bold","hover:bg-primary-700","transition-colors","disabled:opacity-50","disabled:cursor-not-allowed","shadow-sm",3,"click","disabled"],["type","button",1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-2.5","bg-blue-50","dark:bg-blue-900/20","text-blue-700","dark:text-blue-300","rounded-xl","font-semibold","hover:bg-blue-100","dark:hover:bg-blue-900/30","transition-colors","border","border-blue-200","dark:border-blue-800",3,"click","disabled"],["diameter","20",1,"mr-2"],[1,"mt-3","flex","items-center","gap-3"],[1,"h-px","bg-gray-200","dark:bg-gray-700","flex-1"],[1,"text-[10px]","font-medium","text-gray-400","uppercase"],[1,"bg-green-50","dark:bg-green-900/20","-m-4","mb-4","p-4"],[1,"flex","items-center","text-green-700","dark:text-green-400"],[1,"flex","items-center","justify-between","mb-2"],[1,"font-semibold"],["mat-icon-button","",3,"click"],[1,"text-xs","overflow-auto","max-h-96","bg-white","dark:bg-gray-900","p-3","rounded"],[1,"bg-red-50","dark:bg-red-900/20","-m-4","mb-4","p-4"],[1,"flex","items-center","text-red-700","dark:text-red-400"],[1,"text-xs","overflow-auto","max-h-96","text-red-600","dark:text-red-400"],[1,"space-y-3","text-sm"],[1,"bg-blue-50","dark:bg-blue-900/20","p-3","rounded","mt-4"],[1,"text-xs","text-blue-800","dark:text-blue-200"],[1,"bg-white","dark:bg-slate-900","rounded-3xl","w-full","max-w-4xl","min-h-[600px]","max-h-[90vh]","overflow-hidden","shadow-2xl","flex","flex-col"],[1,"px-6","py-5","flex","items-center","justify-between","shrink-0","border-b","border-gray-100","dark:border-gray-800"],[1,"flex","flex-col"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","leading-tight","tracking-tight"],[1,"flex","items-center","gap-1.5","mt-1"],[1,"bg-blue-50","dark:bg-blue-900/30","text-blue-600","dark:text-blue-400","rounded-full","px-2","py-0.5","text-[11px]","font-semibold","uppercase","tracking-wide","flex","items-center","gap-1"],[1,"icon-size-3"],[1,"text-xs","font-medium","text-gray-500","dark:text-gray-400"],["mat-icon-button","",1,"w-8","h-8","flex","items-center","justify-center","bg-gray-100","hover:bg-gray-200","dark:bg-gray-800","dark:hover:bg-gray-700","rounded-full","transition-colors",3,"click"],[1,"icon-size-4","text-gray-500","dark:text-gray-400"],[1,"p-0","pt-4","pb-8","overflow-y-auto","flex-1","flex","flex-col","justify-center","items-center","w-full","relative"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center",3,"biometricsSuccess","biometricsCancel","userData","isModalContext"]],template:function(r,a){r&1&&(n(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),i(4,"ZelfProof Testing"),t(),n(5,"p",3),i(6,"Test HTTP 402 payment flow with ZNS tokens"),t()(),n(7,"button",4),u("click",function(){return a.fillSampleData()}),n(8,"mat-icon",5),i(9,"auto_awesome"),t(),i(10," Fill Sample Data "),t()(),n(11,"div",6)(12,"mat-card",7)(13,"mat-card-header")(14,"mat-card-title",8)(15,"mat-icon",9),i(16,"lock"),t(),i(17," Encrypt Data "),t()(),n(18,"mat-card-content")(19,"form",10)(20,"mat-form-field",11)(21,"mat-label"),i(22,"Public Data (JSON)"),t(),g(23,"textarea",12),n(24,"mat-hint"),i(25,"Enter valid JSON data to encrypt"),t()(),n(26,"mat-form-field",11)(27,"mat-label"),i(28,"Face Base64"),t(),g(29,"textarea",13),n(30,"mat-hint"),i(31,"Base64 encoded face image"),t()(),n(32,"mat-form-field",11)(33,"mat-label"),i(34,"Operating System"),t(),n(35,"mat-select",14)(36,"mat-option",15),i(37,"Desktop"),t(),n(38,"mat-option",16),i(39,"Android"),t(),n(40,"mat-option",17),i(41,"iOS"),t()()(),n(42,"mat-form-field",11)(43,"mat-label"),i(44,"Liveness Level"),t(),n(45,"mat-select",18),h(46,De,2,2,"mat-option",19),t(),n(47,"mat-hint"),i(48,"Select required liveness tolerance"),t()(),n(49,"mat-form-field",11)(50,"mat-label"),i(51,"Metadata (JSON)"),t(),g(52,"textarea",20),n(53,"mat-hint"),i(54,"Optional metadata"),t()(),n(55,"button",21),u("click",function(){return a.testEncrypt()}),h(56,Ve,3,0,"ng-container",22)(57,Fe,4,0,"ng-container",22),t()()()(),n(58,"div",23),h(59,Re,42,5,"mat-card",24)(60,Ae,17,3,"mat-card",25)(61,He,11,3,"mat-card",26)(62,ze,32,0,"mat-card",7),t()(),h(63,qe,19,4,"div",27),t()),r&2&&(s(19),d("formGroup",a.encryptForm),s(27),d("ngForOf",a.livenessLevels),s(9),d("disabled",a.loading||a.encryptForm.invalid),s(),d("ngIf",a.loading),s(),d("ngIf",!a.loading),s(2),x(a.paymentRequired&&a.paymentDetails?59:-1),s(),x(a.response?60:-1),s(),x(a.error?61:-1),s(),x(!a.paymentRequired&&!a.response&&!a.error?62:-1),s(),x(a.showBiometricModal?63:-1))},dependencies:[A,I,j,R,ce,se,ne,ae,re,oe,pe,le,me,K,Y,$,W,G,J,U,ue,fe,_e,be,z,Ee,ve,ke,Pe,Se,X,Q,ge,he,ye,L,we,te],styles:["[_nghost-%COMP%]{display:block;width:100%}.custom-card[_ngcontent-%COMP%]{transition:all .3s ease}.custom-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 20px #0000001a}pre[_ngcontent-%COMP%]{font-family:Courier New,monospace;white-space:pre-wrap;word-wrap:break-word}mat-form-field[_ngcontent-%COMP%]{width:100%}.payment-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}"]})}}return o})();var kt=[{path:"zelfproofs",component:Me}];export{kt as default};
