import{a as J,b as Y}from"./chunk-2UX6N4ZY.js";import{a as Z}from"./chunk-2VQ6QITU.js";import{e as H}from"./chunk-PHU3FCHK.js";import{b as G}from"./chunk-5UGMLZEH.js";import{d as W}from"./chunk-WSIB2RPJ.js";import"./chunk-LBFYWZ5R.js";import{d as B}from"./chunk-KS2LTHLY.js";import{A as U,f as A,g as P,l as L,o as $,q as O,y as j,z as q}from"./chunk-3KGOJ26K.js";import{E as T,J as w,ca as R,da as V}from"./chunk-A67USOKJ.js";import"./chunk-BP572ZWP.js";import{h as M,s as I}from"./chunk-RXE653LG.js";import{Ab as k,Dc as N,Ib as d,Kb as S,Oc as z,Pb as C,Sb as _,Tb as v,Ub as n,Vb as a,Wb as E,_b as h,ba as F,ec as p,gb as s,gc as u,hb as y,ra as m,rc as r,sa as g,sc as b,ub as x,vb as D}from"./chunk-UOZRKCH4.js";import"./chunk-TSRGIXR5.js";var K=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=D({type:o});static \u0275inj=F({imports:[T,w,w]})}return o})();var Q=(o,l)=>l.key,ee=(o,l)=>l.id,te=(o,l,e)=>({"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400":o,"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400":l,"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400":e});function ie(o,l){o&1&&(n(0,"div",2)(1,"mat-icon",4),r(2,"refresh"),a(),n(3,"span",5),r(4,"Loading settings..."),a()())}function ne(o,l){if(o&1){let e=h();n(0,"div",26),p("click",function(){let t,c=m(e).$implicit,f=u(2);return g((t=f.notificationsForm.get(c.key))==null?null:t.setValue(!((t=f.notificationsForm.get(c.key))!=null&&t.value)))}),n(1,"div",27)(2,"div",28),E(3,"mat-icon",29),a(),n(4,"div")(5,"div",30),r(6),a(),n(7,"div",31),r(8),a()()(),n(9,"mat-slide-toggle",32),p("click",function(t){return m(e),g(t.stopPropagation())}),a()()}if(o&2){let e=l.$implicit;s(3),d("svgIcon",e.icon),s(3),b(e.label),s(2),b(e.description),s(),d("color","primary")("formControlName",e.key)}}function ae(o,l){if(o&1){let e=h();n(0,"div",39),p("click",function(){let t,c=m(e).$implicit,f=u(3);return g((t=f.notificationsForm.get(c.key))==null?null:t.setValue(!((t=f.notificationsForm.get(c.key))!=null&&t.value)))}),n(1,"div",40)(2,"div",41),r(3),a(),n(4,"div",42),r(5),a()(),n(6,"mat-slide-toggle",32),p("click",function(t){return m(e),g(t.stopPropagation())}),a()()}if(o&2){let e=l.$implicit,i=l.$index,t=l.$count;S("border-b",i!==t-1),s(3),b(e.label),s(2),b(e.description),s(),d("color","primary")("formControlName",e.key)}}function oe(o,l){if(o&1){let e=h();n(0,"div",6)(1,"div",7)(2,"div",33)(3,"div",18)(4,"div",34),E(5,"mat-icon",29),a(),n(6,"div")(7,"h3",11),r(8),a(),n(9,"p",12),r(10),a()()(),n(11,"div",18)(12,"button",35),p("click",function(){let t=m(e).$implicit,c=u(2);return g(c.enableCategory(t.id))}),n(13,"mat-icon",10),r(14,"check_circle"),a()(),n(15,"button",36),p("click",function(){let t=m(e).$implicit,c=u(2);return g(c.disableCategory(t.id))}),n(16,"mat-icon",10),r(17,"block"),a()()()(),n(18,"div",37),_(19,ae,7,6,"div",38,Q),a()()()}if(o&2){let e=l.$implicit;s(4),d("ngClass",N(4,te,e.color==="primary",e.color==="warn",e.color==="accent")),s(),d("svgIcon",e.icon),s(3),b(e.title),s(2),b(e.description),s(9),v(e.settings)}}function re(o,l){o&1&&(n(0,"mat-icon",43),r(1,"refresh"),a(),n(2,"span"),r(3,"Saving..."),a())}function se(o,l){o&1&&(n(0,"span"),r(1,"Save Changes"),a())}function le(o,l){if(o&1){let e=h();n(0,"form",3)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"mat-icon",10),r(6,"notifications"),a()(),n(7,"div")(8,"h2",11),r(9,"Notification Channels"),a(),n(10,"p",12),r(11,"Choose how you want to receive notifications"),a()()(),n(12,"div",13),_(13,ne,10,5,"div",14,Q),a()()(),_(15,oe,21,8,"div",6,ee),n(17,"div",15)(18,"div",16)(19,"button",17),p("click",function(){m(e);let t=u();return g(t.resetToDefaults())}),r(20," Reset Defaults "),a(),n(21,"div",18)(22,"button",19),r(23," Discard "),a(),n(24,"button",20),p("click",function(){m(e);let t=u();return g(t.saveSettings())}),k(25,re,4,0)(26,se,2,0,"span"),a()()()(),n(27,"div",21)(28,"mat-icon",22),r(29,"info"),a(),n(30,"div",23)(31,"p",24),r(32,"About Notifications"),a(),n(33,"ul",25)(34,"li"),r(35,"Critical security alerts and payment failures are always sent via email."),a(),n(36,"li"),r(37,"Push notifications require browser permission to function."),a(),n(38,"li"),r(39,"SMS notifications are available on Premium and Enterprise plans."),a()()()()()}if(o&2){let e=u();d("formGroup",e.notificationsForm),s(13),v(e.notificationChannels),s(2),v(e.notificationCategories),s(4),d("disabled",e.isSaving),s(3),d("disabled",e.isSaving),s(2),d("disabled",e.isSaving||e.notificationsForm.invalid),s(),C(e.isSaving?25:26)}}var Me=(()=>{class o{constructor(e,i){this._formBuilder=e,this._changeDetectorRef=i,this.isLoading=!1,this.isSaving=!1,this.notificationCategories=[{id:"domain-registration",title:"Domain Registration",description:"Notifications about domain registration and transfer events",icon:"heroicons_outline:globe-alt",color:"primary",settings:[{key:"domainRegistration",label:"Domain Registration Success",description:"When a domain is successfully registered"},{key:"domainRegistrationFailed",label:"Domain Registration Failed",description:"When domain registration fails"},{key:"domainTransfer",label:"Domain Transfer Success",description:"When a domain is successfully transferred"},{key:"domainTransferFailed",label:"Domain Transfer Failed",description:"When domain transfer fails"}]},{id:"domain-expiration",title:"Domain Expiration",description:"Notifications about domain expiration and renewal events",icon:"heroicons_outline:clock",color:"warn",settings:[{key:"domainExpirationWarning",label:"Expiration Warning (30 days)",description:"When domain expires in 30 days"},{key:"domainExpirationCritical",label:"Expiration Critical (7 days)",description:"When domain expires in 7 days"},{key:"domainExpired",label:"Domain Expired",description:"When domain has expired"},{key:"domainRenewal",label:"Domain Renewal Success",description:"When domain is successfully renewed"},{key:"domainRenewalFailed",label:"Domain Renewal Failed",description:"When domain renewal fails"}]},{id:"subscription",title:"Subscription Management",description:"Notifications about subscription plan changes and billing",icon:"heroicons_outline:credit-card",color:"accent",settings:[{key:"subscriptionCreated",label:"Subscription Created",description:"When a new subscription is created"},{key:"subscriptionRenewed",label:"Subscription Renewed",description:"When subscription is renewed"},{key:"subscriptionExpired",label:"Subscription Expired",description:"When subscription expires"},{key:"subscriptionCancelled",label:"Subscription Cancelled",description:"When subscription is cancelled"},{key:"subscriptionFailed",label:"Subscription Payment Failed",description:"When subscription payment fails"},{key:"subscriptionUpgraded",label:"Subscription Upgraded",description:"When subscription is upgraded"},{key:"subscriptionDowngraded",label:"Subscription Downgraded",description:"When subscription is downgraded"}]},{id:"ipfs",title:"IPFS Storage",description:"Notifications about IPFS upload and sync events",icon:"heroicons_outline:cloud-arrow-up",color:"primary",settings:[{key:"ipfsUploadSuccess",label:"IPFS Upload Success",description:"When files are successfully uploaded to IPFS"},{key:"ipfsUploadFailed",label:"IPFS Upload Failed",description:"When IPFS upload fails"},{key:"ipfsSyncSuccess",label:"IPFS Sync Success",description:"When IPFS sync completes successfully"},{key:"ipfsSyncFailed",label:"IPFS Sync Failed",description:"When IPFS sync fails"}]},{id:"errors",title:"System Errors",description:"Notifications about system errors and issues",icon:"heroicons_outline:exclamation-triangle",color:"warn",settings:[{key:"systemErrors",label:"System Errors",description:"When system errors occur"},{key:"paymentErrors",label:"Payment Errors",description:"When payment processing errors occur"},{key:"networkErrors",label:"Network Errors",description:"When network connectivity issues occur"},{key:"validationErrors",label:"Validation Errors",description:"When data validation errors occur"}]},{id:"customer-interaction",title:"Customer Interaction",description:"Notifications about customer inquiries and support",icon:"heroicons_outline:chat-bubble-left-right",color:"accent",settings:[{key:"customerInquiry",label:"Customer Inquiries",description:"When customers submit inquiries"},{key:"customerSupport",label:"Support Requests",description:"When customers request support"},{key:"customerFeedback",label:"Customer Feedback",description:"When customers provide feedback"}]}],this.notificationChannels=[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email",icon:"heroicons_outline:envelope",enabled:!0},{key:"inAppNotifications",label:"In-App Notifications",description:"Receive notifications within the dashboard",icon:"heroicons_outline:bell",enabled:!0},{key:"pushNotifications",label:"Push Notifications",description:"Receive browser push notifications",icon:"heroicons_outline:device-phone-mobile",enabled:!1},{key:"smsNotifications",label:"SMS Notifications",description:"Receive notifications via SMS (premium feature)",icon:"heroicons_outline:chat-bubble-left-right",enabled:!1}]}ngOnInit(){this.createForm(),this.loadNotificationSettings()}createForm(){let e={};this.notificationCategories.forEach(i=>{i.settings.forEach(t=>{e[t.key]=[!0]})}),this.notificationChannels.forEach(i=>{e[i.key]=[i.enabled]}),this.notificationsForm=this._formBuilder.group(e)}loadNotificationSettings(){this.isLoading=!0;let e=localStorage.getItem("domainNotificationSettings");if(e)try{let i=JSON.parse(e);this.notificationsForm.patchValue(i)}catch(i){console.error("Error parsing saved settings:",i)}this.isLoading=!1,this._changeDetectorRef.markForCheck()}saveSettings(){if(this.notificationsForm.invalid)return;this.isSaving=!0;let e=this.notificationsForm.value;localStorage.setItem("domainNotificationSettings",JSON.stringify(e)),setTimeout(()=>{this.isSaving=!1,this._changeDetectorRef.markForCheck()},1e3)}resetToDefaults(){this.createForm(),this._changeDetectorRef.markForCheck()}enableCategory(e){let i=this.notificationCategories.find(t=>t.id===e);i&&i.settings.forEach(t=>{this.notificationsForm.get(t.key)?.setValue(!0)})}disableCategory(e){let i=this.notificationCategories.find(t=>t.id===e);i&&i.settings.forEach(t=>{this.notificationsForm.get(t.key)?.setValue(!1)})}isCategoryFullyEnabled(e){let i=this.notificationCategories.find(t=>t.id===e);return i?i.settings.every(t=>this.notificationsForm.get(t.key)?.value===!0):!1}isCategoryPartiallyEnabled(e){let i=this.notificationCategories.find(t=>t.id===e);return i?i.settings.some(t=>this.notificationsForm.get(t.key)?.value===!0):!1}static{this.\u0275fac=function(i){return new(i||o)(y(j),y(z))}}static{this.\u0275cmp=x({type:o,selectors:[["settings-notifications"]],decls:4,vars:1,consts:[[1,"flex","flex-col","min-h-screen","bg-gray-50/50","dark:bg-gray-900","w-full"],[1,"flex-auto","px-4","py-8","sm:px-6","sm:py-12","md:px-8","w-full","max-w-4xl","mx-auto"],[1,"flex","flex-col","items-center","justify-center","h-96"],[3,"formGroup"],[1,"animate-spin","text-4xl","text-gray-400"],[1,"mt-4","text-gray-500","font-medium"],[1,"bg-white","dark:bg-slate-800","rounded-3xl","shadow-xl","overflow-hidden","mb-8","border","border-gray-100","dark:border-gray-700/50"],[1,"p-8","sm:p-10"],[1,"flex","items-center","gap-3","mb-6"],[1,"w-10","h-10","rounded-full","bg-blue-100","dark:bg-blue-900/30","flex","items-center","justify-center","text-blue-600","dark:text-blue-400"],[1,"icon-size-5"],[1,"text-xl","font-bold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"relative","flex","items-center","justify-between","p-5","rounded-2xl","border","border-gray-100","dark:border-gray-700/50","hover:bg-gray-50","dark:hover:bg-gray-700/30","transition-all","cursor-pointer","group"],[1,"sticky","bottom-6","z-10","mx-auto","max-w-4xl"],[1,"bg-gray-900/90","dark:bg-slate-800/90","backdrop-blur-md","rounded-2xl","shadow-2xl","p-4","flex","items-center","justify-between","border","border-white/10"],[1,"px-4","py-2","text-gray-300","hover:text-white","text-sm","font-medium","transition-colors",3,"click","disabled"],[1,"flex","items-center","gap-3"],[1,"px-4","py-2","text-gray-300","hover:text-white","text-sm","font-medium","transition-colors",3,"disabled"],[1,"px-6","py-2","bg-white","text-gray-900","rounded-xl","text-sm","font-bold","hover:bg-gray-100","transition-colors","shadow-lg","disabled:opacity-50","disabled:cursor-not-allowed","flex","items-center","gap-2",3,"click","disabled"],[1,"mt-8","mb-12","p-6","rounded-2xl","bg-blue-50/50","dark:bg-blue-900/10","border","border-blue-100","dark:border-blue-800/30","flex","gap-4"],[1,"text-blue-600","dark:text-blue-400","shrink-0"],[1,"text-sm","text-blue-900","dark:text-blue-200"],[1,"font-semibold","mb-2"],[1,"space-y-1","opacity-80","list-disc","list-inside"],[1,"relative","flex","items-center","justify-between","p-5","rounded-2xl","border","border-gray-100","dark:border-gray-700/50","hover:bg-gray-50","dark:hover:bg-gray-700/30","transition-all","cursor-pointer","group",3,"click"],[1,"flex","items-center","gap-4"],[1,"w-10","h-10","rounded-xl","bg-gray-100","dark:bg-gray-800","flex","items-center","justify-center","text-gray-500","group-hover:text-gray-700","dark:group-hover:text-gray-300","transition-colors"],[1,"icon-size-5",3,"svgIcon"],[1,"font-semibold","text-gray-900","dark:text-gray-200"],[1,"text-xs","text-gray-500","max-w-[180px]"],[3,"click","color","formControlName"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","gap-6","mb-8"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center",3,"ngClass"],["type","button","matTooltip","Enable all",1,"p-2","rounded-lg","text-gray-400","hover:text-green-600","hover:bg-green-50","dark:hover:bg-green-900/20","transition-all",3,"click"],["type","button","matTooltip","Disable all",1,"p-2","rounded-lg","text-gray-400","hover:text-red-500","hover:bg-red-50","dark:hover:bg-red-900/20","transition-all",3,"click"],[1,"space-y-1"],[1,"border-gray-100","dark:border-gray-700/50",3,"border-b"],[1,"border-gray-100","dark:border-gray-700/50",3,"click"],[1,"pr-4"],[1,"font-medium","text-gray-900","dark:text-gray-200"],[1,"text-sm","text-gray-500","dark:text-gray-400","mt-0.5"],[1,"icon-size-4","animate-spin"]],template:function(i,t){i&1&&(n(0,"div",0)(1,"div",1),k(2,ie,5,0,"div",2)(3,le,40,5,"form",3),a()()),i&2&&(s(2),C(t.isLoading?2:3))},dependencies:[I,M,q,L,A,P,U,$,O,Y,J,B,V,R,H,G,Z,K,W],encapsulation:2,changeDetection:0})}}return o})();export{Me as SettingsNotificationsComponent};
