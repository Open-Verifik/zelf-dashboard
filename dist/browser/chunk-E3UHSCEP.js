import{b as Y,c as K}from"./chunk-3KVR3GH5.js";import{a as Z,e as J}from"./chunk-CUYMPY6P.js";import{a as Q,b as X}from"./chunk-NB7UGYXX.js";import{b as H}from"./chunk-BE4ITJGS.js";import{c as V}from"./chunk-35UEKV5I.js";import"./chunk-MTSODOCU.js";import"./chunk-4NDVBZC3.js";import{a as T,c as B,d as R}from"./chunk-NMEREAAE.js";import{f as L,g as P,l as $,o as O,p as j,x as q,y as U,z as G}from"./chunk-UYI2LRF7.js";import{H as z,M as E,ga as W,ha as A}from"./chunk-BBIQPEH3.js";import{h as M,p as I}from"./chunk-6CPQKJQE.js";import{Ab as _,Ec as D,Ib as d,Oc as N,Pb as v,Sb as y,Tb as x,Ub as n,Vb as o,Wb as b,_b as h,ba as w,ec as f,gb as s,gc as c,hb as C,ra as p,rc as r,sa as g,tc as u,ub as S,vb as F}from"./chunk-BTAKDWI7.js";import"./chunk-TSRGIXR5.js";var ee=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=F({type:t});static \u0275inj=w({imports:[z,E,E]})}return t})();var te=(t,l)=>l.key,ne=(t,l)=>l.id,ae=(t,l,e)=>({"text-primary":t,"text-warn":l,"text-accent":e});function oe(t,l){t&1&&(n(0,"div",4)(1,"mat-icon",11),r(2,"refresh"),o(),n(3,"span",12),r(4,"Loading notification settings..."),o()())}function re(t,l){if(t&1&&(n(0,"div",18)(1,"div",24),b(2,"mat-icon",25),n(3,"div")(4,"div",26),r(5),o(),n(6,"div",27),r(7),o()()(),b(8,"mat-slide-toggle",28),o()),t&2){let e=l.$implicit;s(2),d("svgIcon",e.icon),s(3),u(" ",e.label," "),s(2),u(" ",e.description," "),s(),d("color","primary")("formControlName",e.key)}}function se(t,l){if(t&1){let e=h();n(0,"mat-chip",38),f("click",function(){p(e);let a=c().$implicit,m=c(2);return g(m.disableCategory(a.id))}),r(1," All Enabled "),o()}t&2&&d("color","primary")("selected",!0)}function le(t,l){t&1&&(n(0,"mat-chip",33),r(1," Partial "),o()),t&2&&d("color","accent")("selected",!0)}function de(t,l){t&1&&(n(0,"mat-chip",33),r(1," Disabled "),o()),t&2&&d("color","warn")("selected",!0)}function ce(t,l){if(t&1){let e=h();n(0,"div",37)(1,"div",39),f("click",function(){let a,m=p(e).$implicit,k=c(3);return g((a=k.notificationsForm.get(m.key))==null?null:a.setValue(!((a=k.notificationsForm.get(m.key))!=null&&a.value)))}),n(2,"div",26),r(3),o(),n(4,"div",40),r(5),o()(),b(6,"mat-slide-toggle",28),o()}if(t&2){let e=l.$implicit,i=c().$implicit;s(3),u(" ",e.label," "),s(2),u(" ",e.description," "),s(),d("color",i.color)("formControlName",e.key)}}function me(t,l){if(t&1){let e=h();n(0,"mat-card",13)(1,"div",29)(2,"div",24),b(3,"mat-icon",30),n(4,"div")(5,"h3",31),r(6),o(),n(7,"p",16),r(8),o()()(),n(9,"div",32),_(10,se,2,2,"mat-chip",33)(11,le,2,2,"mat-chip",33)(12,de,2,2,"mat-chip",33),n(13,"button",34),f("click",function(){let a=p(e).$implicit,m=c(2);return g(m.enableCategory(a.id))}),n(14,"mat-icon"),r(15,"check_circle"),o()(),n(16,"button",35),f("click",function(){let a=p(e).$implicit,m=c(2);return g(m.disableCategory(a.id))}),n(17,"mat-icon"),r(18,"cancel"),o()()()(),n(19,"div",36),y(20,ce,7,4,"div",37,te),o()()}if(t&2){let e=l.$implicit,i=c(2);s(3),d("svgIcon",e.icon)("ngClass",D(7,ae,e.color==="primary",e.color==="warn",e.color==="accent")),s(3),u(" ",e.title," "),s(2),u(" ",e.description," "),s(2),v(i.isCategoryFullyEnabled(e.id)?10:i.isCategoryPartiallyEnabled(e.id)?11:12),s(3),d("matTooltip","Enable all notifications in this category"),s(3),d("matTooltip","Disable all notifications in this category"),s(4),x(e.settings)}}function pe(t,l){t&1&&(n(0,"mat-icon",41),r(1,"refresh"),o(),r(2," Saving... "))}function ge(t,l){t&1&&r(0," Save Settings ")}function fe(t,l){if(t&1){let e=h();n(0,"form",5)(1,"mat-card",13)(2,"div",14)(3,"h3",15),r(4,"Notification Channels"),o(),n(5,"p",16),r(6,"Choose how you want to receive notifications"),o()(),n(7,"div",17),y(8,re,9,5,"div",18,te),o()(),y(10,me,22,11,"mat-card",13,ne),n(12,"div",19)(13,"div",20)(14,"button",21),f("click",function(){p(e);let a=c();return g(a.resetToDefaults())}),r(15,"Reset to Defaults"),o()(),n(16,"div",20)(17,"button",22),r(18,"Cancel"),o(),n(19,"button",23),f("click",function(){p(e);let a=c();return g(a.saveSettings())}),_(20,pe,3,0)(21,ge,1,0),o()()()()}if(t&2){let e=c();d("formGroup",e.notificationsForm),s(8),x(e.notificationChannels),s(2),x(e.notificationCategories),s(4),d("disabled",e.isSaving),s(3),d("disabled",e.isSaving),s(2),d("color","primary")("disabled",e.isSaving||e.notificationsForm.invalid),s(),v(e.isSaving?20:21)}}var $e=(()=>{class t{constructor(e,i){this._formBuilder=e,this._changeDetectorRef=i,this.isLoading=!1,this.isSaving=!1,this.notificationCategories=[{id:"domain-registration",title:"Domain Registration",description:"Notifications about domain registration and transfer events",icon:"heroicons_outline:globe-alt",color:"primary",settings:[{key:"domainRegistration",label:"Domain Registration Success",description:"When a domain is successfully registered"},{key:"domainRegistrationFailed",label:"Domain Registration Failed",description:"When domain registration fails"},{key:"domainTransfer",label:"Domain Transfer Success",description:"When a domain is successfully transferred"},{key:"domainTransferFailed",label:"Domain Transfer Failed",description:"When domain transfer fails"}]},{id:"domain-expiration",title:"Domain Expiration",description:"Notifications about domain expiration and renewal events",icon:"heroicons_outline:clock",color:"warn",settings:[{key:"domainExpirationWarning",label:"Expiration Warning (30 days)",description:"When domain expires in 30 days"},{key:"domainExpirationCritical",label:"Expiration Critical (7 days)",description:"When domain expires in 7 days"},{key:"domainExpired",label:"Domain Expired",description:"When domain has expired"},{key:"domainRenewal",label:"Domain Renewal Success",description:"When domain is successfully renewed"},{key:"domainRenewalFailed",label:"Domain Renewal Failed",description:"When domain renewal fails"}]},{id:"subscription",title:"Subscription Management",description:"Notifications about subscription plan changes and billing",icon:"heroicons_outline:credit-card",color:"accent",settings:[{key:"subscriptionCreated",label:"Subscription Created",description:"When a new subscription is created"},{key:"subscriptionRenewed",label:"Subscription Renewed",description:"When subscription is renewed"},{key:"subscriptionExpired",label:"Subscription Expired",description:"When subscription expires"},{key:"subscriptionCancelled",label:"Subscription Cancelled",description:"When subscription is cancelled"},{key:"subscriptionFailed",label:"Subscription Payment Failed",description:"When subscription payment fails"},{key:"subscriptionUpgraded",label:"Subscription Upgraded",description:"When subscription is upgraded"},{key:"subscriptionDowngraded",label:"Subscription Downgraded",description:"When subscription is downgraded"}]},{id:"ipfs",title:"IPFS Storage",description:"Notifications about IPFS upload and sync events",icon:"heroicons_outline:cloud-arrow-up",color:"primary",settings:[{key:"ipfsUploadSuccess",label:"IPFS Upload Success",description:"When files are successfully uploaded to IPFS"},{key:"ipfsUploadFailed",label:"IPFS Upload Failed",description:"When IPFS upload fails"},{key:"ipfsSyncSuccess",label:"IPFS Sync Success",description:"When IPFS sync completes successfully"},{key:"ipfsSyncFailed",label:"IPFS Sync Failed",description:"When IPFS sync fails"}]},{id:"errors",title:"System Errors",description:"Notifications about system errors and issues",icon:"heroicons_outline:exclamation-triangle",color:"warn",settings:[{key:"systemErrors",label:"System Errors",description:"When system errors occur"},{key:"paymentErrors",label:"Payment Errors",description:"When payment processing errors occur"},{key:"networkErrors",label:"Network Errors",description:"When network connectivity issues occur"},{key:"validationErrors",label:"Validation Errors",description:"When data validation errors occur"}]},{id:"customer-interaction",title:"Customer Interaction",description:"Notifications about customer inquiries and support",icon:"heroicons_outline:chat-bubble-left-right",color:"accent",settings:[{key:"customerInquiry",label:"Customer Inquiries",description:"When customers submit inquiries"},{key:"customerSupport",label:"Support Requests",description:"When customers request support"},{key:"customerFeedback",label:"Customer Feedback",description:"When customers provide feedback"}]}],this.notificationChannels=[{key:"emailNotifications",label:"Email Notifications",description:"Receive notifications via email",icon:"heroicons_outline:envelope",enabled:!0},{key:"inAppNotifications",label:"In-App Notifications",description:"Receive notifications within the dashboard",icon:"heroicons_outline:bell",enabled:!0},{key:"pushNotifications",label:"Push Notifications",description:"Receive browser push notifications",icon:"heroicons_outline:device-phone-mobile",enabled:!1},{key:"smsNotifications",label:"SMS Notifications",description:"Receive notifications via SMS (premium feature)",icon:"heroicons_outline:chat-bubble-left-right",enabled:!1}]}ngOnInit(){this.createForm(),this.loadNotificationSettings()}createForm(){let e={};this.notificationCategories.forEach(i=>{i.settings.forEach(a=>{e[a.key]=[!0]})}),this.notificationChannels.forEach(i=>{e[i.key]=[i.enabled]}),this.notificationsForm=this._formBuilder.group(e)}loadNotificationSettings(){this.isLoading=!0;let e=localStorage.getItem("domainNotificationSettings");if(e)try{let i=JSON.parse(e);this.notificationsForm.patchValue(i)}catch(i){console.error("Error parsing saved settings:",i)}this.isLoading=!1,this._changeDetectorRef.markForCheck()}saveSettings(){if(this.notificationsForm.invalid)return;this.isSaving=!0;let e=this.notificationsForm.value;localStorage.setItem("domainNotificationSettings",JSON.stringify(e)),setTimeout(()=>{this.isSaving=!1,this._changeDetectorRef.markForCheck()},1e3)}resetToDefaults(){this.createForm(),this._changeDetectorRef.markForCheck()}enableCategory(e){let i=this.notificationCategories.find(a=>a.id===e);i&&i.settings.forEach(a=>{this.notificationsForm.get(a.key)?.setValue(!0)})}disableCategory(e){let i=this.notificationCategories.find(a=>a.id===e);i&&i.settings.forEach(a=>{this.notificationsForm.get(a.key)?.setValue(!1)})}isCategoryFullyEnabled(e){let i=this.notificationCategories.find(a=>a.id===e);return i?i.settings.every(a=>this.notificationsForm.get(a.key)?.value===!0):!1}isCategoryPartiallyEnabled(e){let i=this.notificationCategories.find(a=>a.id===e);return i?i.settings.some(a=>this.notificationsForm.get(a.key)?.value===!0):!1}static{this.\u0275fac=function(i){return new(i||t)(C(q),C(N))}}static{this.\u0275cmp=S({type:t,selectors:[["settings-notifications"]],decls:26,vars:1,consts:[[1,"w-full","max-w-6xl"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-gray-600","dark:text-gray-400"],[1,"flex","items-center","justify-center","py-12"],[1,"space-y-8",3,"formGroup"],[1,"mt-8","p-6","bg-blue-50","dark:bg-blue-900/20","border","border-blue-200","dark:border-blue-800"],[1,"flex","items-start","space-x-3"],[1,"text-blue-600","dark:text-blue-400","mt-1"],[1,"font-medium","text-blue-900","dark:text-blue-100","mb-2"],[1,"text-sm","text-blue-800","dark:text-blue-200","space-y-1"],[1,"animate-spin"],[1,"ml-2"],[1,"p-6"],[1,"mb-6"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"flex","items-center","justify-between","p-4","border","border-gray-200","dark:border-gray-700","rounded-lg"],[1,"flex","items-center","justify-between","pt-6","border-t","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","space-x-4"],["mat-stroked-button","","type","button",3,"click","disabled"],["mat-stroked-button","","type","button",3,"disabled"],["mat-flat-button","","type","button",3,"click","color","disabled"],[1,"flex","items-center","space-x-3"],[1,"text-gray-500",3,"svgIcon"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[3,"color","formControlName"],[1,"flex","items-center","justify-between","mb-6"],[3,"svgIcon","ngClass"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"flex","items-center","space-x-2"],[1,"cursor-pointer",3,"color","selected"],["mat-icon-button","",1,"text-green-600","hover:text-green-700",3,"click","matTooltip"],["mat-icon-button","",1,"text-red-600","hover:text-red-700",3,"click","matTooltip"],[1,"space-y-4"],[1,"flex","items-center","justify-between","p-4","bg-gray-50","dark:bg-gray-800","rounded-lg"],[1,"cursor-pointer",3,"click","color","selected"],[1,"flex-1","cursor-pointer",3,"click"],[1,"text-sm","text-gray-600","dark:text-gray-400","mt-1"],[1,"animate-spin","mr-2"]],template:function(i,a){i&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Domain Notifications"),o(),n(4,"p",3),r(5," Configure notifications for domain registrations, expirations, subscriptions, and customer interactions. "),o()(),_(6,oe,5,0,"div",4)(7,fe,22,6,"form",5),n(8,"mat-card",6)(9,"div",7)(10,"mat-icon",8),r(11,"info"),o(),n(12,"div")(13,"h4",9),r(14,"Notification Preferences"),o(),n(15,"div",10)(16,"p"),r(17,"\u2022 Email notifications are sent to your registered email address"),o(),n(18,"p"),r(19,"\u2022 In-app notifications appear in the dashboard notification panel"),o(),n(20,"p"),r(21,"\u2022 Push notifications require browser permission and work when the dashboard is open"),o(),n(22,"p"),r(23,"\u2022 SMS notifications are available for premium plans only"),o(),n(24,"p"),r(25,"\u2022 Critical notifications (expiration warnings, payment failures) are always sent via email"),o()()()()()()),i&2&&(s(6),v(a.isLoading?6:7))},dependencies:[I,M,U,$,L,P,G,O,j,X,Q,R,T,B,A,W,J,Z,H,K,Y,ee,V],encapsulation:2,changeDetection:0})}}return t})();export{$e as SettingsNotificationsComponent};
