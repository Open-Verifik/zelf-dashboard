import{a as _e,b as pe}from"./chunk-3ITT7UKH.js";import{a as se,b as de,c as ce,d as me,e as ue}from"./chunk-ANMWQ3JJ.js";import{a as le}from"./chunk-RWHW4F27.js";import{a as oe,b as ie}from"./chunk-TT4EYQOF.js";import{b as ae}from"./chunk-FK6MMEI5.js";import"./chunk-YOTJB2IK.js";import"./chunk-6MVDTPQV.js";import{a as O,b as Z,d as $}from"./chunk-HO6TKSQT.js";import{c as ne}from"./chunk-JJWLRRW7.js";import{j as I}from"./chunk-N6LPVSL5.js";import{a as L,d as P}from"./chunk-DXVBJCLH.js";import{A as re,b as W,f as J,g as K,l as Q,o as X,q as Y,y as ee,z as te}from"./chunk-QH2I47VF.js";import{a as q}from"./chunk-EBTKBAUO.js";import{aa as A,ea as j,fa as R}from"./chunk-3CSJK4TT.js";import{a as U}from"./chunk-E6ENPQNB.js";import"./chunk-PIQLBEWE.js";import{b as H,d as D}from"./chunk-FXKMXYKD.js";import{h as B,k as G,r as N}from"./chunk-XX57SXRU.js";import{Ab as h,Dc as S,Ib as g,Lc as k,Pb as y,Pc as z,Ub as o,Vb as i,Wb as E,Zb as M,_b as b,aa as v,ec as d,fa as F,gb as u,gc as a,hb as p,qc as V,ra as l,rc as c,sa as s,sc as f,tc as x,ub as w}from"./chunk-FFNUM7ZM.js";import{g as T}from"./chunk-TSRGIXR5.js";var ge=(()=>{class m{constructor(e){this.httpWrapper=e,this.baseUrl=`${U.apiUrl}/api/license/theme`}getDefaultZnsLightColors(){return{primary:"#181818",secondary:"#ff5721",background:"#ffffff",backgroundSecondary:"#f9f9fc",text:"#181818",textSecondary:"#96939e",textMuted:"#73777f",header:"#181818",headerText:"#ffffff",button:"#181818",buttonText:"#ffffff",buttonHover:"#303030",buttonSecondary:"#E9ECEF",buttonSecondaryText:"#495057",buttonSecondaryHover:"#E9ECEF",border:"#e3e3e3",borderHover:"#c3c6cf",success:"#1ea446",successText:"#e7f8ed",warning:"#de6800",warningText:"#ffeee9",error:"#dc362e",errorText:"#ffeee9",card:"#ffffff",cardBorder:"#eeedf1",shadow:"rgba(0, 0, 0, 0.1)"}}getDefaultZnsDarkColors(){return{primary:"#E8E8E8",secondary:"#ff5721",background:"#181818",backgroundSecondary:"#1F1F1F",text:"#E8E8E8",textSecondary:"#96939e",textMuted:"#73777f",header:"#181818",headerText:"#E8E8E8",button:"#E8E8E8",buttonText:"#181818",buttonHover:"#CFCFCF",buttonSecondary:"#2A2A2A",buttonSecondaryText:"#E8E8E8",buttonSecondaryHover:"#3A3A3A",border:"#3A3A3A",borderHover:"#4A4A4A",success:"#1ea446",successText:"#E8E8E8",warning:"#de6800",warningText:"#E8E8E8",error:"#dc362e",errorText:"#E8E8E8",card:"#1F1F1F",cardBorder:"#3A3A3A",shadow:"rgba(0, 0, 0, 0.3)"}}getThemeSettings(){return this.hasLicense()?this.httpWrapper.sendRequest("get",this.baseUrl):Promise.reject(new Error("License is required to access theme settings"))}hasLicense(){try{let e=localStorage.getItem("license");if(!e)return!1;let r=JSON.parse(e),n=r?.domainConfig||r,t=n?.name||n?.domain||r?.domain;return!!(t&&t.trim()!=="")}catch{return!1}}updateThemeSettings(e){return this.httpWrapper.sendRequest("post",this.baseUrl,e)}validateColor(e){let r=/^#[0-9A-Fa-f]{6}$/,n=/^rgba\(\d+,\s*\d+,\s*\d+,\s*[0-1]?\.?\d+\)$/;return r.test(e)||n.test(e)}convertFormToThemeSettings(e){return{zns:{enabled:e.zns?.enabled??!0,currentMode:e.zns?.currentMode??"light",lightMode:{colors:e.zns?.lightMode?.colors||{}},darkMode:{colors:e.zns?.darkMode?.colors||{}}}}}convertThemeSettingsToForm(e){return{enabled:e?.zns?.enabled??!0,currentMode:e?.zns?.currentMode??"light",lightMode:{colors:{primary:e?.zns?.lightMode?.colors?.primary??"#3B82F6",secondary:e?.zns?.lightMode?.colors?.secondary??"#64748B",background:e?.zns?.lightMode?.colors?.background??"#FFFFFF",backgroundSecondary:e?.zns?.lightMode?.colors?.backgroundSecondary??"#F8FAFC",text:e?.zns?.lightMode?.colors?.text??"#1E293B",textSecondary:e?.zns?.lightMode?.colors?.textSecondary??"#64748B",textMuted:e?.zns?.lightMode?.colors?.textMuted??"#94A3B8",header:e?.zns?.lightMode?.colors?.header??"#1E293B",headerText:e?.zns?.lightMode?.colors?.headerText??"#FFFFFF",button:e?.zns?.lightMode?.colors?.button??"#3B82F6",buttonText:e?.zns?.lightMode?.colors?.buttonText??"#FFFFFF",buttonHover:e?.zns?.lightMode?.colors?.buttonHover??"#2563EB",buttonSecondary:e?.zns?.lightMode?.colors?.buttonSecondary??"#E2E8F0",buttonSecondaryText:e?.zns?.lightMode?.colors?.buttonSecondaryText??"#475569",border:e?.zns?.lightMode?.colors?.border??"#E2E8F0",borderHover:e?.zns?.lightMode?.colors?.borderHover??"#CBD5E1",success:e?.zns?.lightMode?.colors?.success??"#10B981",successText:e?.zns?.lightMode?.colors?.successText??"#FFFFFF",warning:e?.zns?.lightMode?.colors?.warning??"#F59E0B",warningText:e?.zns?.lightMode?.colors?.warningText??"#FFFFFF",error:e?.zns?.lightMode?.colors?.error??"#EF4444",errorText:e?.zns?.lightMode?.colors?.errorText??"#FFFFFF",card:e?.zns?.lightMode?.colors?.card??"#FFFFFF",cardBorder:e?.zns?.lightMode?.colors?.cardBorder??"#E2E8F0",shadow:e?.zns?.lightMode?.colors?.shadow??"rgba(0, 0, 0, 0.1)"}},darkMode:{colors:{primary:e?.zns?.darkMode?.colors?.primary??"#60A5FA",secondary:e?.zns?.darkMode?.colors?.secondary??"#94A3B8",background:e?.zns?.darkMode?.colors?.background??"#0F172A",backgroundSecondary:e?.zns?.darkMode?.colors?.backgroundSecondary??"#1E293B",text:e?.zns?.darkMode?.colors?.text??"#F1F5F9",textSecondary:e?.zns?.darkMode?.colors?.textSecondary??"#94A3B8",textMuted:e?.zns?.darkMode?.colors?.textMuted??"#64748B",header:e?.zns?.darkMode?.colors?.header??"#1E293B",headerText:e?.zns?.darkMode?.colors?.headerText??"#F1F5F9",button:e?.zns?.darkMode?.colors?.button??"#60A5FA",buttonText:e?.zns?.darkMode?.colors?.buttonText??"#0F172A",buttonHover:e?.zns?.darkMode?.colors?.buttonHover??"#3B82F6",buttonSecondary:e?.zns?.darkMode?.colors?.buttonSecondary??"#334155",buttonSecondaryText:e?.zns?.darkMode?.colors?.buttonSecondaryText??"#F1F5F9",border:e?.zns?.darkMode?.colors?.border??"#334155",borderHover:e?.zns?.darkMode?.colors?.borderHover??"#475569",success:e?.zns?.darkMode?.colors?.success??"#34D399",successText:e?.zns?.darkMode?.colors?.successText??"#0F172A",warning:e?.zns?.darkMode?.colors?.warning??"#FBBF24",warningText:e?.zns?.darkMode?.colors?.warningText??"#0F172A",error:e?.zns?.darkMode?.colors?.error??"#F87171",errorText:e?.zns?.darkMode?.colors?.errorText??"#0F172A",card:e?.zns?.darkMode?.colors?.card??"#1E293B",cardBorder:e?.zns?.darkMode?.colors?.cardBorder??"#334155",shadow:e?.zns?.darkMode?.colors?.shadow??"rgba(0, 0, 0, 0.3)"}}}}static{this.\u0275fac=function(r){return new(r||m)(F(q))}}static{this.\u0275prov=v({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var fe=(m,_)=>({"bg-green-50 text-green-800 border border-green-200":m,"bg-red-50 text-red-800 border border-red-200":_}),be=(m,_)=>({"text-green-500":m,"text-red-500":_});function Se(m,_){if(m&1&&(o(0,"div",3)(1,"div",18)(2,"mat-icon",19),c(3),i(),c(4),i()()),m&2){let e=a(2);g("ngClass",S(4,fe,e.alertType==="success",e.alertType==="error")),u(2),g("ngClass",S(7,be,e.alertType==="success",e.alertType==="error")),u(),x(" ",e.alertType==="success"?"check_circle":"error"," "),u(),x(" ",e.alertMessage," ")}}function Te(m,_){if(m&1&&(o(0,"div",13)(1,"div",20)(2,"mat-icon",21),c(3,"refresh"),i(),o(4,"p",22),c(5),i()()()),m&2){let e=a().$implicit;u(5),f(e("theme_settings.actions.updating_colors"))}}function ve(m,_){m&1&&M(0)}function Fe(m,_){if(m&1&&h(0,ve,1,0,"ng-container",23),m&2){a();let e=V(22);g("ngTemplateOutlet",e)}}function we(m,_){if(m&1){let e=b();o(0,"div",24)(1,"mat-card",25)(2,"mat-card-header")(3,"mat-card-title",26),c(4,"Primary Colors"),i()(),o(5,"mat-card-content",27)(6,"div",28)(7,"label",29),c(8,"Primary"),i(),o(9,"div",30)(10,"input",31),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"primary",n))}),i(),o(11,"input",32),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"primary",n))}),i()()(),o(12,"div",28)(13,"label",29),c(14,"Secondary"),i(),o(15,"div",30)(16,"input",33),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"secondary",n))}),i(),o(17,"input",34),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"secondary",n))}),i()()()()(),o(18,"mat-card",25)(19,"mat-card-header")(20,"mat-card-title",26),c(21,"Background Colors"),i()(),o(22,"mat-card-content",27)(23,"div",28)(24,"label",29),c(25,"Background"),i(),o(26,"div",30)(27,"input",35),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"background",n))}),i(),o(28,"input",36),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"background",n))}),i()()(),o(29,"div",28)(30,"label",29),c(31,"Secondary Background"),i(),o(32,"div",30)(33,"input",37),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"backgroundSecondary",n))}),i(),o(34,"input",38),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"backgroundSecondary",n))}),i()()()()(),o(35,"mat-card",25)(36,"mat-card-header")(37,"mat-card-title",26),c(38,"Text Colors"),i()(),o(39,"mat-card-content",27)(40,"div",28)(41,"label",29),c(42,"Primary Text"),i(),o(43,"div",30)(44,"input",39),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"text",n))}),i(),o(45,"input",40),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"text",n))}),i()()(),o(46,"div",28)(47,"label",29),c(48,"Secondary Text"),i(),o(49,"div",30)(50,"input",41),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"textSecondary",n))}),i(),o(51,"input",42),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"textSecondary",n))}),i()()(),o(52,"div",28)(53,"label",29),c(54,"Muted Text"),i(),o(55,"div",30)(56,"input",43),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"textMuted",n))}),i(),o(57,"input",44),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"textMuted",n))}),i()()()()(),o(58,"mat-card",25)(59,"mat-card-header")(60,"mat-card-title",26),c(61,"Header Colors"),i()(),o(62,"mat-card-content",27)(63,"div",28)(64,"label",29),c(65,"Header Background"),i(),o(66,"div",30)(67,"input",45),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"header",n))}),i(),o(68,"input",46),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"header",n))}),i()()(),o(69,"div",28)(70,"label",29),c(71,"Header Text"),i(),o(72,"div",30)(73,"input",47),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"headerText",n))}),i(),o(74,"input",48),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"headerText",n))}),i()()()()(),o(75,"mat-card",25)(76,"mat-card-header")(77,"mat-card-title",26),c(78,"Button Colors"),i()(),o(79,"mat-card-content",27)(80,"div",28)(81,"label",29),c(82,"Primary Button"),i(),o(83,"div",30)(84,"input",49),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"button",n))}),i(),o(85,"input",50),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"button",n))}),i()()(),o(86,"div",28)(87,"label",29),c(88,"Button Text"),i(),o(89,"div",30)(90,"input",51),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"buttonText",n))}),i(),o(91,"input",52),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"buttonText",n))}),i()()(),o(92,"div",28)(93,"label",29),c(94,"Button Hover"),i(),o(95,"div",30)(96,"input",53),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"buttonHover",n))}),i(),o(97,"input",54),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"buttonHover",n))}),i()()(),o(98,"div",28)(99,"label",29),c(100,"Secondary Button"),i(),o(101,"div",30)(102,"input",55),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"buttonSecondary",n))}),i(),o(103,"input",56),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"buttonSecondary",n))}),i()()(),o(104,"div",28)(105,"label",29),c(106,"Secondary Button Text"),i(),o(107,"div",30)(108,"input",57),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"buttonSecondaryText",n))}),i(),o(109,"input",58),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"buttonSecondaryText",n))}),i()()(),o(110,"div",28)(111,"label",29),c(112,"Secondary Button Hover"),i(),o(113,"div",30)(114,"input",59),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"buttonSecondaryHover",n))}),i(),o(115,"input",60),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"buttonSecondaryHover",n))}),i()()()()(),o(116,"mat-card",25)(117,"mat-card-header")(118,"mat-card-title",26),c(119,"Border Colors"),i()(),o(120,"mat-card-content",27)(121,"div",28)(122,"label",29),c(123,"Border"),i(),o(124,"div",30)(125,"input",61),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"border",n))}),i(),o(126,"input",62),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"border",n))}),i()()(),o(127,"div",28)(128,"label",29),c(129,"Border Hover"),i(),o(130,"div",30)(131,"input",63),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"borderHover",n))}),i(),o(132,"input",64),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"borderHover",n))}),i()()()()(),o(133,"mat-card",25)(134,"mat-card-header")(135,"mat-card-title",26),c(136,"Card Colors"),i()(),o(137,"mat-card-content",27)(138,"div",28)(139,"label",29),c(140,"Card Background"),i(),o(141,"div",30)(142,"input",65),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"card",n))}),i(),o(143,"input",66),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"card",n))}),i()()(),o(144,"div",28)(145,"label",29),c(146,"Card Border"),i(),o(147,"div",30)(148,"input",67),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"cardBorder",n))}),i(),o(149,"input",68),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"cardBorder",n))}),i()()(),o(150,"div",28)(151,"label",29),c(152,"Shadow"),i(),o(153,"div",30)(154,"input",69),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"shadow",n))}),i()()()()(),o(155,"mat-card",25)(156,"mat-card-header")(157,"mat-card-title",26),c(158,"Status Colors"),i()(),o(159,"mat-card-content",27)(160,"div",28)(161,"label",29),c(162,"Success"),i(),o(163,"div",30)(164,"input",70),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"success",n))}),i(),o(165,"input",71),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"success",n))}),i()()(),o(166,"div",28)(167,"label",29),c(168,"Success Text"),i(),o(169,"div",30)(170,"input",72),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"successText",n))}),i(),o(171,"input",73),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"successText",n))}),i()()(),o(172,"div",28)(173,"label",29),c(174,"Warning"),i(),o(175,"div",30)(176,"input",74),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"warning",n))}),i(),o(177,"input",75),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"warning",n))}),i()()(),o(178,"div",28)(179,"label",29),c(180,"Warning Text"),i(),o(181,"div",30)(182,"input",76),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"warningText",n))}),i(),o(183,"input",77),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"warningText",n))}),i()()(),o(184,"div",28)(185,"label",29),c(186,"Error"),i(),o(187,"div",30)(188,"input",78),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"error",n))}),i(),o(189,"input",79),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"error",n))}),i()()(),o(190,"div",28)(191,"label",29),c(192,"Error Text"),i(),o(193,"div",30)(194,"input",80),d("change",function(n){l(e);let t=a(2);return s(t.onColorChange(t.getColorsFormGroup(),"errorText",n))}),i(),o(195,"input",81),d("change",function(n){l(e);let t=a(2);return s(t.onTextChange(t.getColorsFormGroup(),"errorText",n))}),i()()()()()()}if(m&2){let e=a(2);g("formGroup",e.getColorsFormGroup())}}function Ee(m,_){m&1&&(o(0,"mat-icon",17),c(1,"refresh"),i())}function Me(m,_){if(m&1){let e=b();o(0,"div",2),h(1,Se,5,10,"div",3),o(2,"form",4),d("ngSubmit",function(){l(e);let n=a();return s(n.saveThemeSettings())}),o(3,"div",5)(4,"div",6)(5,"div")(6,"h3",7),c(7),i(),o(8,"p",8),c(9),i()(),o(10,"div",9)(11,"button",10),d("click",function(){l(e);let n=a();return s(n.resetColors())}),c(12),i()()(),o(13,"div",11)(14,"mat-slide-toggle",12),d("change",function(){l(e);let n=a();return s(n.toggleDarkMode())}),c(15),i(),o(16,"span",8),c(17),i()(),E(18,"mat-divider"),h(19,Te,6,1,"div",13)(20,Fe,1,1,"ng-container"),i(),h(21,we,196,1,"ng-template",null,0,k),o(23,"div",14)(24,"button",15),c(25),i(),o(26,"button",16),h(27,Ee,2,0,"mat-icon",17),c(28),i()()()()}if(m&2){let e=_.$implicit,r=a();u(),y(r.showAlert?1:-1),u(),g("formGroup",r.themeForm),u(5),f(e(r.getTranslationPrefix()+".title")),u(2),f(e(r.getTranslationPrefix()+".description")),u(3),x(" ",e(r.getTranslationPrefix()+".reset")," "),u(2),g("checked",r.isDarkMode()),u(),x(" ",e(r.getTranslationPrefix()+".dark_mode")," "),u(2),x(" ",e(r.getTranslationPrefix()+".dark_mode_description")," "),u(2),y(r.isLoadingColors?19:-1),u(),y(r.isLoadingColors?-1:20),u(5),f(e("theme_settings.actions.cancel")),u(),g("disabled",r.isLoading),u(),y(r.isLoading?27:-1),u(),x(" ",e("theme_settings.actions.save")," ")}}var Ye=(()=>{class m{constructor(e,r,n,t,C,he,xe){this._activatedRoute=e,this._changeDetectorRef=r,this._formBuilder=n,this._router=t,this._saveConfirmationService=C,this._themeService=he,this._translocoService=xe,this.alertMessage="",this.alertType="success",this.currentThemeSettings=null,this.isLoading=!1,this.isLoadingColors=!1,this.showAlert=!1,this.isLoadingColors=!0}ngOnInit(){if(!this.hasLicense()){this.showError("License is required to access theme settings. Please configure your license first."),this._router.navigate(["../license"],{relativeTo:this._activatedRoute.parent});return}this._createForm(),this._loadCurrentThemeSettings()}_createForm(){let e=this._themeService.getDefaultZnsLightColors(),r=this._themeService.getDefaultZnsDarkColors();this.themeForm=this._formBuilder.group({zns:this._formBuilder.group({enabled:[!0],currentMode:["light"],lightMode:this._formBuilder.group({colors:this._formBuilder.group({primary:[e.primary],secondary:[e.secondary],background:[e.background],backgroundSecondary:[e.backgroundSecondary],text:[e.text],textSecondary:[e.textSecondary],textMuted:[e.textMuted],header:[e.header],headerText:[e.headerText],button:[e.button],buttonText:[e.buttonText],buttonHover:[e.buttonHover],buttonSecondary:[e.buttonSecondary],buttonSecondaryText:[e.buttonSecondaryText],buttonSecondaryHover:[e.buttonSecondaryHover],border:[e.border],borderHover:[e.borderHover],success:[e.success],successText:[e.successText],warning:[e.warning],warningText:[e.warningText],error:[e.error],errorText:[e.errorText],card:[e.card],cardBorder:[e.cardBorder],shadow:[e.shadow]})}),darkMode:this._formBuilder.group({colors:this._formBuilder.group({primary:[r.primary],secondary:[r.secondary],background:[r.background],backgroundSecondary:[r.backgroundSecondary],text:[r.text],textSecondary:[r.textSecondary],textMuted:[r.textMuted],header:[r.header],headerText:[r.headerText],button:[r.button],buttonText:[r.buttonText],buttonHover:[r.buttonHover],buttonSecondary:[r.buttonSecondary],buttonSecondaryText:[r.buttonSecondaryText],buttonSecondaryHover:[r.buttonSecondaryHover],border:[r.border],borderHover:[r.borderHover],success:[r.success],successText:[r.successText],warning:[r.warning],warningText:[r.warningText],error:[r.error],errorText:[r.errorText],card:[r.card],cardBorder:[r.cardBorder],shadow:[r.shadow]})})})})}_loadCurrentThemeSettings(){return T(this,null,function*(){this.isLoadingColors=!0,this._changeDetectorRef.detectChanges();try{let r=(yield this._themeService.getThemeSettings()).data;this.themeForm.patchValue(r)}catch(e){console.error("Error loading theme settings:",e),this.showError(this._translocoService.translate("theme_settings.actions.failed_to_load")),this._loadDefaultValues()}finally{this.isLoadingColors=!1,this._changeDetectorRef.detectChanges()}})}_loadDefaultValues(){let e=this.themeForm.get("zns.lightMode.colors"),r=this.themeForm.get("zns.darkMode.colors");e.patchValue(this._themeService.getDefaultZnsLightColors()),r.patchValue(this._themeService.getDefaultZnsDarkColors()),this.themeForm.get("zns.enabled")?.setValue(!0),this.themeForm.get("zns.currentMode")?.setValue("light")}getColorsFormGroup(){let r=(this.themeForm.get("zns.currentMode")?.value||"light")==="dark"?"zns.darkMode.colors":"zns.lightMode.colors";return this.themeForm.get(r)}toggleDarkMode(){let r=this.themeForm.get("zns.currentMode")?.value==="dark"?"light":"dark";this.themeForm.get("zns.currentMode")?.setValue(r),this._changeDetectorRef.detectChanges()}resetColors(){this.themeForm.get("zns.currentMode")?.setValue("light");let e=this.themeForm.get("zns.lightMode.colors"),r=this.themeForm.get("zns.darkMode.colors");e.patchValue(this._themeService.getDefaultZnsLightColors()),r.patchValue(this._themeService.getDefaultZnsDarkColors()),this._changeDetectorRef.detectChanges()}saveThemeSettings(){if(this.themeForm.invalid){this.showError(this._translocoService.translate("theme_settings.actions.fill_required"));return}let e=this._themeService.convertFormToThemeSettings(this.themeForm.value);if(!this.validateThemeSettings(e)){this.showError(this._translocoService.translate("theme_settings.actions.invalid_settings"));return}this._saveConfirmationService.setSaveData({domain:null,domainConfig:null,redirectUrl:"/settings/theme-styles",operation:{title:this._translocoService.translate("saving_operations.theme_settings.title"),description:this._translocoService.translate("saving_operations.theme_settings.description"),action:this._translocoService.translate("saving_operations.theme_settings.action"),itemName:this._translocoService.translate("saving_operations.theme_settings.itemName")},themeData:{themeSettings:e,operation:"updateThemeSettings",faceBase64:"",masterPassword:""}}),this._router.navigate(["/save-confirmation"],{queryParams:{redirect:"/settings/theme-styles"}})}validateThemeSettings(e){for(let[r,n]of Object.entries(e.zns.lightMode.colors))if(!this._themeService.validateColor(n))return console.error(`Invalid light mode color for ${r}:`,n),!1;for(let[r,n]of Object.entries(e.zns.darkMode.colors))if(!this._themeService.validateColor(n))return console.error(`Invalid dark mode color for ${r}:`,n),!1;return!0}showError(e){this.alertMessage=e,this.alertType="error",this.showAlert=!0,setTimeout(()=>{this.showAlert=!1},5e3)}onColorChange(e,r,n){let C=n.target.value;e.get(r)?.setValue(C)}onTextChange(e,r,n){let C=n.target.value;this._themeService.validateColor(C)&&e.get(r)?.setValue(C)}getTranslationPrefix(){return"theme_settings.zns_wallet"}isDarkMode(){return this.themeForm.get("zns.currentMode")?.value==="dark"}hasLicense(){try{let e=localStorage.getItem("license");if(!e)return!1;let r=JSON.parse(e),n=r?.domainConfig||r,t=n?.name||n?.domain||r?.domain;return!!(t&&t.trim()!=="")}catch{return!1}}static{this.\u0275fac=function(r){return new(r||m)(p(H),p(z),p(ee),p(D),p(le),p(ge),p(O))}}static{this.\u0275cmp=w({type:m,selectors:[["settings-theme-styles"]],decls:1,vars:0,consts:[["colorGridTemplate",""],["class","space-y-8 w-full",4,"transloco"],[1,"space-y-8","w-full"],[1,"rounded-lg","p-4",3,"ngClass"],[1,"space-y-8",3,"ngSubmit","formGroup"],[1,"p-6","space-y-6"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"flex","space-x-2"],["type","button","mat-button","","color","warn",1,"text-sm",3,"click"],[1,"flex","items-center","space-x-4"],[3,"change","checked"],[1,"flex","items-center","justify-center","py-12"],[1,"flex","justify-end","space-x-4","pt-6","border-t","border-gray-200","dark:border-gray-700"],["type","button","mat-button","","color","primary",1,"px-6"],["type","submit","mat-raised-button","","color","primary",1,"px-6",3,"disabled"],[1,"animate-spin","mr-2"],[1,"flex","items-center"],[1,"mr-2",3,"ngClass"],[1,"text-center"],[1,"animate-spin","text-blue-600","text-4xl","mb-4"],[1,"text-gray-600","dark:text-gray-400"],[4,"ngTemplateOutlet"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6",3,"formGroup"],[1,"p-4"],[1,"text-lg"],[1,"space-y-4"],[1,"space-y-2"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"flex","items-center","space-x-2"],["type","color","formControlName","primary",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","primary","placeholder","#3B82F6",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","secondary",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","secondary","placeholder","#64748B",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","background",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","background","placeholder","#FFFFFF",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","backgroundSecondary",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","backgroundSecondary","placeholder","#F8FAFC",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","text",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","text","placeholder","#1E293B",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","textSecondary",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","textSecondary","placeholder","#64748B",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","textMuted",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","textMuted","placeholder","#94A3B8",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","header",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","header","placeholder","#1E293B",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","headerText",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","headerText","placeholder","#FFFFFF",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","button",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","button","placeholder","#3B82F6",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","buttonText",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","buttonText","placeholder","#FFFFFF",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","buttonHover",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","buttonHover","placeholder","#2563EB",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","buttonSecondary",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","buttonSecondary","placeholder","#E2E8F0",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","buttonSecondaryText",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","buttonSecondaryText","placeholder","#475569",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","buttonSecondaryHover",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","buttonSecondaryHover","placeholder","#475569",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","border",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","border","placeholder","#E2E8F0",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","borderHover",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","borderHover","placeholder","#CBD5E1",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","card",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","card","placeholder","#FFFFFF",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","cardBorder",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","cardBorder","placeholder","#E2E8F0",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","text","formControlName","shadow","placeholder","rgba(0, 0, 0, 0.1)",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","success",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","success","placeholder","#10B981",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","successText",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","successText","placeholder","#FFFFFF",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","warning",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","warning","placeholder","#F59E0B",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","warningText",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","warningText","placeholder","#FFFFFF",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","error",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","error","placeholder","#EF4444",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"],["type","color","formControlName","errorText",1,"w-12","h-8","rounded","border","border-gray-300","cursor-pointer",3,"change"],["type","text","formControlName","errorText","placeholder","#FFFFFF",1,"flex-1","px-3","py-2","border","border-gray-300","rounded-md","text-sm",3,"change"]],template:function(r,n){r&1&&h(0,Me,29,14,"div",1)},dependencies:[N,B,G,te,Q,W,J,K,re,X,Y,I,R,j,ne,ae,A,P,L,ue,se,ce,me,de,pe,_e,ie,oe,$,Z],encapsulation:2,changeDetection:0})}}return m})();export{Ye as SettingsThemeStylesComponent};
