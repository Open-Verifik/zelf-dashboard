<div class="w-full max-w-6xl">
	<!-- Alert Messages -->
	<div
		*ngIf="showAlert"
		class="mb-6 p-4 rounded-lg"
		[ngClass]="{
			'bg-green-100 text-green-800 border border-green-200': alertType === 'success',
			'bg-red-100 text-red-800 border border-red-200': alertType === 'error',
		}"
	>
		<div class="flex items-center">
			<mat-icon
				class="mr-2"
				[ngClass]="{
					'text-green-600': alertType === 'success',
					'text-red-600': alertType === 'error',
				}"
			>
				{{ alertType === "success" ? "check_circle" : "error" }}
			</mat-icon>
			<span>{{ alertMessage }}</span>
		</div>
	</div>

	<!-- Form -->
	<form [formGroup]="accountForm">
		<!-- Domain Configuration Header -->
		<div class="mb-8">
			<h1 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">Domain Configuration</h1>
			<p class="text-gray-600 dark:text-gray-300">Configure your custom domain settings for the Zelf ecosystem</p>
		</div>

		<!-- Basic Domain Information -->
		<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6">
			<div class="flex items-center mb-4">
				<mat-icon class="text-blue-600 dark:text-blue-400 mr-2">domain</mat-icon>
				<h2 class="text-lg font-semibold text-gray-900 dark:text-white">Basic Information</h2>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Domain Name</mat-label>
						<div class="text-secondary" matPrefix>domain.</div>
						<input [formControlName]="'domain'" matInput placeholder="mycompany" />
						<mat-error *ngIf="accountForm.get('domain')?.hasError('required')"> Domain is required </mat-error>
						<mat-error *ngIf="accountForm.get('domain')?.hasError('pattern')">
							Domain must contain only letters, numbers, and hyphens
						</mat-error>
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Domain Type</mat-label>
						<mat-select [formControlName]="'type'">
							<mat-option value="official">Official</mat-option>
							<mat-option value="custom">Custom</mat-option>
							<mat-option value="community">Community</mat-option>
							<mat-option value="enterprise">Enterprise</mat-option>
						</mat-select>
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Status</mat-label>
						<mat-select [formControlName]="'status'">
							<mat-option value="active">Active</mat-option>
							<mat-option value="inactive">Inactive</mat-option>
							<mat-option value="maintenance">Maintenance</mat-option>
							<mat-option value="beta">Beta</mat-option>
						</mat-select>
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Owner</mat-label>
						<input [formControlName]="'owner'" matInput placeholder="zelf-team" />
					</mat-form-field>
				</div>

				<div class="md:col-span-2">
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Description</mat-label>
						<textarea [formControlName]="'description'" matInput placeholder="Official Zelf domain" rows="3"></textarea>
					</mat-form-field>
				</div>
			</div>
		</div>

		<!-- Features Configuration -->
		<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6">
			<div class="flex items-center mb-4">
				<mat-icon class="text-green-600 dark:text-green-400 mr-2">extension</mat-icon>
				<h2 class="text-lg font-semibold text-gray-900 dark:text-white">Features</h2>
			</div>

			<div class="space-y-4">
				<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
					<div class="border border-gray-200 dark:border-gray-600 rounded-lg p-4">
						<div class="flex items-center justify-between mb-2">
							<h3 class="font-medium text-gray-900 dark:text-white">Zelf Name System (ZNS)</h3>
							<mat-slide-toggle [formControlName]="'znsEnabled'"></mat-slide-toggle>
						</div>
						<p class="text-sm text-gray-600 dark:text-gray-300">Encryptions, Decryptions, previews of ZelfProofs</p>
					</div>

					<div class="border border-gray-200 dark:border-gray-600 rounded-lg p-4">
						<div class="flex items-center justify-between mb-2">
							<h3 class="font-medium text-gray-900 dark:text-white">Zelf Keys</h3>
							<mat-slide-toggle [formControlName]="'zelfkeysEnabled'"></mat-slide-toggle>
						</div>
						<p class="text-sm text-gray-600 dark:text-gray-300">Passwords, Notes, Credit Cards, etc.</p>
					</div>
				</div>
			</div>
		</div>

		<!-- Validation Rules -->
		<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6">
			<div class="flex items-center mb-4">
				<mat-icon class="text-orange-600 dark:text-orange-400 mr-2">rule</mat-icon>
				<h2 class="text-lg font-semibold text-gray-900 dark:text-white">Validation Rules</h2>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Minimum Length</mat-label>
						<input [formControlName]="'minLength'" matInput type="number" placeholder="3" />
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Maximum Length</mat-label>
						<input [formControlName]="'maxLength'" matInput type="number" placeholder="50" />
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Hold Suffix</mat-label>
						<input [formControlName]="'holdSuffix'" matInput placeholder=".hold" />
					</mat-form-field>
				</div>
			</div>

			<!-- Reserved Words -->
			<div class="mt-4">
				<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Reserved Words</label>
				<div class="flex flex-wrap gap-2">
					<span
						*ngFor="let word of reservedWords"
						class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200"
					>
						{{ word }}
						<button
							type="button"
							(click)="removeReservedWord(word)"
							class="ml-2 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200"
						>
							<mat-icon class="text-sm">close</mat-icon>
						</button>
					</span>
					<div class="flex items-center">
						<input
							#newReservedWord
							type="text"
							placeholder="Add reserved word"
							class="px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"
							(keyup.enter)="addReservedWord(newReservedWord.value); newReservedWord.value = ''"
						/>
						<button
							type="button"
							(click)="addReservedWord(newReservedWord.value); newReservedWord.value = ''"
							class="ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300"
						>
							<mat-icon class="text-sm">add</mat-icon>
						</button>
					</div>
				</div>
			</div>

			<!-- Inappropriate Words Filter -->
			<div class="mt-4">
				<div class="flex items-center mb-2">
					<mat-icon class="text-red-600 dark:text-red-400 mr-2">block</mat-icon>
					<label class="text-sm font-medium text-gray-700 dark:text-gray-300">Content Filter</label>
					<mat-slide-toggle [formControlName]="'contentFilterEnabled'" class="ml-2"></mat-slide-toggle>
				</div>
				<p class="text-sm text-gray-600 dark:text-gray-300">Automatically block inappropriate words like "dick", "vagina", etc.</p>
			</div>
		</div>

		<!-- Storage Configuration -->
		<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6">
			<div class="flex items-center mb-4">
				<mat-icon class="text-purple-600 dark:text-purple-400 mr-2">storage</mat-icon>
				<h2 class="text-lg font-semibold text-gray-900 dark:text-white">Storage Options</h2>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div class="space-y-4">
					<div class="border border-gray-200 dark:border-gray-600 rounded-lg p-4">
						<div class="flex items-center justify-between mb-2">
							<div class="flex items-center">
								<mat-icon class="text-blue-600 dark:text-blue-400 mr-2">cloud</mat-icon>
								<h3 class="font-medium text-gray-900 dark:text-white">IPFS</h3>
							</div>
							<mat-slide-toggle [formControlName]="'ipfsEnabled'"></mat-slide-toggle>
						</div>
						<p class="text-sm text-gray-600 dark:text-gray-300">Used for .hold suffix tag domains</p>
					</div>

					<div class="border border-gray-200 dark:border-gray-600 rounded-lg p-4">
						<div class="flex items-center justify-between mb-2">
							<div class="flex items-center">
								<mat-icon class="text-green-600 dark:text-green-400 mr-2">archive</mat-icon>
								<h3 class="font-medium text-gray-900 dark:text-white">Arweave</h3>
							</div>
							<mat-slide-toggle [formControlName]="'arweaveEnabled'"></mat-slide-toggle>
						</div>
						<p class="text-sm text-gray-600 dark:text-gray-300">For already purchased domains</p>
					</div>

					<div class="border border-gray-200 dark:border-gray-600 rounded-lg p-4">
						<div class="flex items-center justify-between mb-2">
							<div class="flex items-center">
								<mat-icon class="text-orange-600 dark:text-orange-400 mr-2">pets</mat-icon>
								<h3 class="font-medium text-gray-900 dark:text-white">Walrus</h3>
							</div>
							<mat-slide-toggle [formControlName]="'walrusEnabled'"></mat-slide-toggle>
						</div>
						<p class="text-sm text-gray-600 dark:text-gray-300">Alternative storage option</p>
					</div>
				</div>

				<div class="space-y-4">
					<div>
						<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
							<mat-label>Key Prefix</mat-label>
							<input [formControlName]="'keyPrefix'" matInput placeholder="tagName" />
						</mat-form-field>
					</div>
				</div>
			</div>
		</div>

		<!-- Payment Configuration -->
		<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6">
			<div class="flex items-center mb-4">
				<mat-icon class="text-green-600 dark:text-green-400 mr-2">payment</mat-icon>
				<h2 class="text-lg font-semibold text-gray-900 dark:text-white">Payment Settings</h2>
			</div>

			<div class="space-y-6">
				<!-- Payment Methods -->
				<div>
					<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Payment Methods</label>
					<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
						<div class="flex items-center">
							<mat-checkbox [formControlName]="'coinbaseEnabled'"></mat-checkbox>
							<span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Coinbase</span>
						</div>
						<div class="flex items-center">
							<mat-checkbox [formControlName]="'cryptoEnabled'"></mat-checkbox>
							<span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Crypto Payments</span>
						</div>
						<div class="flex items-center">
							<mat-checkbox [formControlName]="'stripeEnabled'"></mat-checkbox>
							<span class="ml-2 text-sm text-gray-700 dark:text-gray-300">Stripe</span>
						</div>
					</div>
				</div>

				<!-- Supported Currencies -->
				<div>
					<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Supported Currencies</label>
					<div class="flex flex-wrap gap-2">
						<span
							*ngFor="let currency of supportedCurrencies"
							class="inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200"
						>
							{{ currency }}
							<button
								type="button"
								(click)="removeCurrency(currency)"
								class="ml-2 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200"
							>
								<mat-icon class="text-sm">close</mat-icon>
							</button>
						</span>
						<div class="flex items-center">
							<input
								#newCurrency
								type="text"
								placeholder="Add currency"
								class="px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"
								(keyup.enter)="addCurrency(newCurrency.value); newCurrency.value = ''"
							/>
							<button
								type="button"
								(click)="addCurrency(newCurrency.value); newCurrency.value = ''"
								class="ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300"
							>
								<mat-icon class="text-sm">add</mat-icon>
							</button>
						</div>
					</div>
				</div>

				<!-- Whitelist -->
				<div>
					<div class="flex items-center justify-between mb-4">
						<label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Whitelist (Special Pricing)</label>
						<button
							type="button"
							(click)="addWhitelistItem()"
							class="inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
						>
							<mat-icon class="text-sm mr-1">add</mat-icon>
							Add Item
						</button>
					</div>

					<div class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 dark:ring-gray-600 md:rounded-lg">
						<table class="min-w-full divide-y divide-gray-300 dark:divide-gray-600">
							<thead class="bg-gray-50 dark:bg-gray-700">
								<tr>
									<th
										scope="col"
										class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
									>
										Tag Name
									</th>
									<th
										scope="col"
										class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
									>
										Discount
									</th>
									<th
										scope="col"
										class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
									>
										Type
									</th>
									<th scope="col" class="relative px-6 py-3">
										<span class="sr-only">Actions</span>
									</th>
								</tr>
							</thead>
							<tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600">
								<tr
									*ngFor="let item of whitelistItems; let i = index; trackBy: trackByWhitelistItem"
									class="hover:bg-gray-50 dark:hover:bg-gray-700"
								>
									<td class="px-6 py-4 whitespace-nowrap">
										<input
											[formControlName]="'whitelistDomain_' + i"
											type="text"
											placeholder="miguel.zelf"
											class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500"
										/>
									</td>
									<td class="px-6 py-4 whitespace-nowrap">
										<input
											[formControlName]="'whitelistDiscount_' + i"
											type="number"
											placeholder="24"
											class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500"
										/>
									</td>
									<td class="px-6 py-4 whitespace-nowrap">
										<select
											[formControlName]="'whitelistType_' + i"
											class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-blue-500 focus:border-blue-500"
										>
											<option value="%">Percentage (%)</option>
											<option value="$">Fixed Amount ($)</option>
										</select>
									</td>
									<td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
										<button
											type="button"
											(click)="removeWhitelistItem(i)"
											class="text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-200 p-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900"
											[disabled]="whitelistItems.length <= 1"
										>
											<mat-icon class="text-lg">delete</mat-icon>
										</button>
									</td>
								</tr>
								<tr *ngIf="whitelistItems.length === 0" class="bg-gray-50 dark:bg-gray-700">
									<td colspan="4" class="px-6 py-12 text-center text-sm text-gray-500 dark:text-gray-400">
										<mat-icon class="text-4xl text-gray-300 dark:text-gray-600 mb-2">inbox</mat-icon>
										<p>No whitelist items yet. Click "Add Item" to get started.</p>
									</td>
								</tr>
							</tbody>
						</table>
					</div>

					<div class="mt-3 text-xs text-gray-500 dark:text-gray-400">
						<p><strong>Examples:</strong></p>
						<ul class="list-disc list-inside mt-1 space-y-1">
							<li>
								<code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">miguel.zelf</code> with
								<code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">25</code> and
								<code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">%</code> = 25% discount
							</li>
							<li>
								<code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">vip.avax</code> with
								<code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">50</code> and
								<code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">$</code> = $50 discount
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<!-- Pricing Table Configuration -->
		<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6">
			<div class="flex items-center justify-between mb-4">
				<div class="flex items-center">
					<mat-icon class="text-purple-600 dark:text-purple-400 mr-2">table_chart</mat-icon>
					<h2 class="text-lg font-semibold text-gray-900 dark:text-white">Pricing Table</h2>
				</div>
				<button
					type="button"
					(click)="resetPricingTable()"
					class="inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
				>
					<mat-icon class="text-sm mr-1">refresh</mat-icon>
					Reset to Default
				</button>
			</div>

			<div class="mb-4">
				<p class="text-sm text-gray-600 dark:text-gray-400">
					Configure pricing for different tag lengths and subscription durations. Prices are in cents (e.g., 240 = $2.40).
				</p>
			</div>

			<div class="overflow-x-auto">
				<table class="min-w-full divide-y divide-gray-300 dark:divide-gray-600">
					<thead class="bg-gray-50 dark:bg-gray-700">
						<tr>
							<th scope="col" class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
								Length
							</th>
							<th
								scope="col"
								class="px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
							>
								1 Year
							</th>
							<th
								scope="col"
								class="px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
							>
								2 Years
							</th>
							<th
								scope="col"
								class="px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
							>
								3 Years
							</th>
							<th
								scope="col"
								class="px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
							>
								4 Years
							</th>
							<th
								scope="col"
								class="px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
							>
								5 Years
							</th>
							<th
								scope="col"
								class="px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
							>
								Lifetime
							</th>
						</tr>
					</thead>
					<tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-600">
						<tr *ngFor="let pricingRow of pricingTableRows; trackBy: trackByPricingRow" class="hover:bg-gray-50 dark:hover:bg-gray-700">
							<td class="px-4 py-3 text-sm font-medium text-gray-900 dark:text-white">
								{{ pricingRow.length }}
							</td>
							<td class="px-4 py-3 text-center">
								<input
									type="number"
									[(ngModel)]="pricingRow.prices[1]"
									[ngModelOptions]="{ standalone: true }"
									class="w-20 px-2 py-1 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
									min="0"
									step="1"
								/>
							</td>
							<td class="px-4 py-3 text-center">
								<input
									type="number"
									[(ngModel)]="pricingRow.prices[2]"
									[ngModelOptions]="{ standalone: true }"
									class="w-20 px-2 py-1 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
									min="0"
									step="1"
								/>
							</td>
							<td class="px-4 py-3 text-center">
								<input
									type="number"
									[(ngModel)]="pricingRow.prices[3]"
									[ngModelOptions]="{ standalone: true }"
									class="w-20 px-2 py-1 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
									min="0"
									step="1"
								/>
							</td>
							<td class="px-4 py-3 text-center">
								<input
									type="number"
									[(ngModel)]="pricingRow.prices[4]"
									[ngModelOptions]="{ standalone: true }"
									class="w-20 px-2 py-1 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
									min="0"
									step="1"
								/>
							</td>
							<td class="px-4 py-3 text-center">
								<input
									type="number"
									[(ngModel)]="pricingRow.prices[5]"
									[ngModelOptions]="{ standalone: true }"
									class="w-20 px-2 py-1 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
									min="0"
									step="1"
								/>
							</td>
							<td class="px-4 py-3 text-center">
								<input
									type="number"
									[(ngModel)]="pricingRow.prices.lifetime"
									[ngModelOptions]="{ standalone: true }"
									class="w-20 px-2 py-1 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
									min="0"
									step="1"
								/>
							</td>
						</tr>
					</tbody>
				</table>
			</div>

			<div class="mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
				<div class="flex">
					<div class="flex-shrink-0">
						<mat-icon class="text-blue-400">info</mat-icon>
					</div>
					<div class="ml-3">
						<h3 class="text-sm font-medium text-blue-800 dark:text-blue-200">Pricing Information</h3>
						<div class="mt-2 text-sm text-blue-700 dark:text-blue-300">
							<p>• Prices are displayed in dollars</p>
							<p>• The "6-15" row applies to tag names with 6-15 characters</p>
							<p>• Individual length rows (16-27) override the range pricing</p>
							<p>• Changes are automatically saved when you update the form</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Limits Configuration -->
		<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6">
			<div class="flex items-center mb-4">
				<mat-icon class="text-yellow-600 dark:text-yellow-400 mr-2">speed</mat-icon>
				<h2 class="text-lg font-semibold text-gray-900 dark:text-white">Limits</h2>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Max Tags</mat-label>
						<input [formControlName]="'maxTags'" matInput type="number" placeholder="10000" />
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Max ZelfKeys</mat-label>
						<input [formControlName]="'maxZelfkeys'" matInput type="number" placeholder="10000" />
					</mat-form-field>
				</div>
			</div>
		</div>

		<!-- Metadata Configuration -->
		<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6">
			<div class="flex items-center mb-4">
				<mat-icon class="text-indigo-600 dark:text-indigo-400 mr-2">info</mat-icon>
				<h2 class="text-lg font-semibold text-gray-900 dark:text-white">Metadata</h2>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Launch Date</mat-label>
						<input [formControlName]="'launchDate'" matInput type="date" />
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Version</mat-label>
						<input [formControlName]="'version'" matInput placeholder="1.0.0" />
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Documentation URL</mat-label>
						<input [formControlName]="'documentation'" matInput placeholder="https://docs.example.com" />
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Community</mat-label>
						<input [formControlName]="'community'" matInput placeholder="avalanche" />
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Enterprise</mat-label>
						<input [formControlName]="'enterprise'" matInput placeholder="blockDAG" />
					</mat-form-field>
				</div>

				<div>
					<mat-form-field class="fuse-mat-emphasized-affix w-full" [subscriptSizing]="'dynamic'">
						<mat-label>Support Level</mat-label>
						<mat-select [formControlName]="'support'">
							<mat-option value="standard">Standard</mat-option>
							<mat-option value="premium">Premium</mat-option>
							<mat-option value="enterprise">Enterprise</mat-option>
						</mat-select>
					</mat-form-field>
				</div>
			</div>
		</div>

		<!-- Current License Info -->
		<div *ngIf="currentLicense" class="bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 rounded-lg p-4 mb-6">
			<h3 class="text-sm font-medium text-blue-800 dark:text-blue-200 mb-2">Current License</h3>
			<p class="text-sm text-blue-700 dark:text-blue-300">
				<strong>Domain:</strong> {{ currentLicense.domain }}<br />
				<strong>Created:</strong> {{ currentLicense.createdAt | date: "medium" }}<br />
				<strong>IPFS Hash:</strong> {{ currentLicense.ipfsHash | slice: 0 : 20 }}...
			</p>
		</div>

		<!-- Actions -->
		<div class="flex items-center justify-end space-x-4">
			<button mat-stroked-button type="button" (click)="cancel()" [disabled]="isLoading">Cancel</button>
			<button mat-flat-button type="button" [color]="'primary'" (click)="saveLicense()" [disabled]="isLoading || accountForm.invalid">
				<mat-spinner *ngIf="isLoading" diameter="20" class="mr-2"></mat-spinner>
				{{ isLoading ? "Processing..." : "Save Domain Configuration" }}
			</button>
		</div>
	</form>
</div>
