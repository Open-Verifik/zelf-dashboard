.data-biometrics-container {
	min-height: 100vh;
	background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
	padding: 20px;

	// Modal-specific styling
	&.modal-context {
		min-height: auto;
		background: transparent;
		padding: 0;

		.biometrics-content {
			min-height: auto;
			padding: 0;

			.camera-container {
				max-width: 100%;
				width: 100%;

				.camera-view {
					width: 100% !important;
					max-width: 600px;
					margin: 0 auto;
				}
			}
		}
	}

	.biometrics-content {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		min-height: calc(100vh - 120px);

		.camera-container {
			text-align: center;
			max-width: 800px;
			width: 100%;

			.camera-view {
				position: relative;
				margin: 0 auto 24px;
				border-radius: 16px;
				overflow: hidden;
				box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);

				webcam {
					display: block;
					border-radius: 16px;
				}

				.face-mask-canvas {
					position: absolute;
					top: 0;
					left: 0;
					pointer-events: none;
					border-radius: 16px;
				}
			}

			.status-messages {
				margin-bottom: 24px;

				.biometric__error {
					background: #fee;
					border: 1px solid #fcc;
					border-radius: 8px;
					padding: 16px;
					margin-bottom: 16px;

					.biometric__error-title {
						font-weight: 600;
						color: #c53030;
						margin-bottom: 4px;
					}

					.biometric__error-subtitle {
						color: #742a2a;
						font-size: 14px;
					}
				}

				.biometric__instructions {
					background: #f0f9ff;
					border: 1px solid #bae6fd;
					border-radius: 8px;
					padding: 16px;

					.biometric__instruction-title {
						font-weight: 600;
						color: #0369a1;
						margin-bottom: 4px;
					}

					.biometric__instruction-subtitle {
						color: #0c4a6e;
						font-size: 14px;
					}
				}
			}

			.compact-instructions {
				margin-bottom: 24px;

				p {
					color: #666;
					font-size: 14px;
					margin: 0;
				}
			}

			.user-data-preview {
				text-align: center;
				margin: 16px 0;
				padding: 16px;
				background: #fff3cd;
				border: 1px solid #ffeaa7;
				border-radius: 8px;

				.user-data-details {
					color: #856404;
					font-size: 14px;

					strong {
						font-weight: 600;
					}

					.company-preview {
						margin-top: 8px;
						font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
						font-size: 12px;
						color: #856404;
						background: rgba(255, 255, 255, 0.5);
						padding: 8px;
						border-radius: 4px;
						word-break: break-all;
					}
				}
			}

			.password-input-container {
				margin-bottom: 24px;
				text-align: left;
				max-width: 400px;
				margin-left: auto;
				margin-right: auto;

				.password-toggle {
					display: flex;
					align-items: center;
					justify-content: space-between;
					margin-bottom: 12px;

					.form-label {
						font-weight: 600;
						color: #171717;
						margin: 0;
					}

					.toggle-switch {
						position: relative;
						width: 50px;
						height: 24px;
						background: #ccc;
						border-radius: 12px;
						cursor: pointer;
						transition: background 0.3s;

						.toggle-slider {
							position: absolute;
							top: 2px;
							left: 2px;
							width: 20px;
							height: 20px;
							background: white;
							border-radius: 50%;
							transition: transform 0.3s;

							&.active {
								transform: translateX(26px);
							}
						}

						&:hover {
							background: #bbb;
						}
					}
				}

				.password-input-field {
					input {
						width: 100%;
						padding: 12px 16px;
						border: 1px solid #e0e0e0;
						border-radius: 8px;
						font-size: 14px;
						transition: all 0.2s ease;

						&:focus {
							outline: none;
							border-color: #667eea;
							box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
						}
					}

					small {
						display: block;
						color: #666;
						font-size: 12px;
						margin-top: 4px;
					}
				}
			}
		}

		.api-error-container {
			text-align: center;
			padding: 40px 20px;

			.api-error-card {
				background: #fff5f5;
				border: 2px solid #fed7d7;
				border-radius: 16px;
				padding: 32px;
				max-width: 400px;
				margin: 0 auto;

				.error-icon {
					font-size: 48px;
					margin-bottom: 16px;
				}

				.error-title {
					font-size: 20px;
					font-weight: 600;
					color: #c53030;
					margin: 0 0 12px 0;
				}

				.error-message {
					font-size: 16px;
					color: #744210;
					margin: 0 0 24px 0;
					line-height: 1.5;
				}

				.error-actions {
					display: flex;
					gap: 12px;
					justify-content: center;

					.btn-retry,
					.btn-back-error {
						padding: 12px 24px;
						border: none;
						border-radius: 8px;
						font-size: 14px;
						font-weight: 500;
						cursor: pointer;
						transition: all 0.2s ease;
					}

					.btn-retry {
						background: #667eea;
						color: white;

						&:hover {
							background: #5a67d8;
						}
					}

					.btn-back-error {
						background: #f7fafc;
						color: #4a5568;
						border: 1px solid #e2e8f0;

						&:hover {
							background: #edf2f7;
						}
					}
				}
			}
		}

		.loading-container {
			text-align: center;
			padding: 60px 20px;

			.processing-message {
				margin-top: 24px;
				font-size: 16px;
				color: #666;
			}
		}

		.error-container {
			text-align: center;
			padding: 60px 20px;
			max-width: 400px;

			.camera-error-icon {
				font-size: 48px;
				width: 48px;
				height: 48px;
				margin-bottom: 24px;
				color: #666;
			}

			.error-title {
				font-size: 20px;
				font-weight: 600;
				color: #171717;
				margin: 0 0 12px 0;
			}

			.error-description {
				color: #666;
				font-size: 14px;
				margin: 0 0 24px 0;
			}
		}

		.permission-container {
			text-align: center;
			padding: 60px 20px;
			max-width: 400px;

			.permission-icon {
				font-size: 48px;
				width: 48px;
				height: 48px;
				margin-bottom: 24px;
				color: #666;
			}

			.permission-title {
				font-size: 20px;
				font-weight: 600;
				color: #171717;
				margin: 0 0 12px 0;
			}

			.permission-description {
				color: #666;
				font-size: 14px;
				margin: 0 0 24px 0;
			}

			.btn-retry {
				background: #667eea;
				border: none;
				border-radius: 8px;
				padding: 12px 24px;
				color: white;
				font-size: 14px;
				font-weight: 600;
				cursor: pointer;
				transition: all 0.2s ease;

				&:hover {
					background: #5a6fd8;
					transform: translateY(-1px);
				}
			}
		}
	}
}

// Responsive design
@media (max-width: 768px) {
	.data-biometrics-container {
		padding: 8px;

		.biometrics-content {
			min-height: calc(100vh - 16px);
			padding: 8px;

			.camera-container {
				max-width: 100%;
				padding: 0 8px;

				.camera-view {
					width: 100% !important;
					max-width: 100%;
					height: auto !important;
					margin: 0 auto 16px;
					border-radius: 12px;
				}

				.status-messages {
					margin-bottom: 16px;

					.biometric__error,
					.biometric__instructions {
						padding: 12px;
						margin-bottom: 12px;
						font-size: 13px;
					}
				}

				.compact-instructions {
					margin-bottom: 16px;
					padding: 0 8px;

					p {
						font-size: 13px;
					}
				}

				.password-input-container {
					max-width: 100%;
					margin: 0 8px 16px;
				}
			}
		}

		.api-error-container {
			padding: 20px 8px;

			.api-error-card {
				padding: 20px;
				margin: 0 8px;

				.error-icon {
					font-size: 36px;
					margin-bottom: 12px;
				}

				.error-title {
					font-size: 18px;
					margin-bottom: 8px;
				}

				.error-message {
					font-size: 14px;
					margin-bottom: 16px;
				}

				.error-actions {
					flex-direction: column;
					gap: 8px;

					.btn-retry,
					.btn-back-error {
						padding: 10px 20px;
						font-size: 13px;
					}
				}
			}
		}

		.loading-container {
			padding: 40px 8px;

			.processing-message {
				margin-top: 16px;
				font-size: 14px;
			}
		}

		.error-container,
		.permission-container {
			padding: 40px 8px;
			max-width: 100%;

			.camera-error-icon,
			.permission-icon {
				font-size: 36px;
				width: 36px;
				height: 36px;
				margin-bottom: 16px;
			}

			.error-title,
			.permission-title {
				font-size: 18px;
				margin-bottom: 8px;
			}

			.error-description,
			.permission-description {
				font-size: 13px;
				margin-bottom: 16px;
			}

			.btn-retry {
				padding: 10px 20px;
				font-size: 13px;
			}
		}

		// Modal context responsive - ensure oval is never cut off
		&.modal-context {
			padding: 0;

			.biometrics-content {
				min-height: auto;
				padding: 0;

				.camera-container {
					padding: 0;
					max-width: 100%;

					.camera-view {
						max-width: 100%;
						width: 100% !important;
						height: auto !important;
						margin: 0 auto;
						border-radius: 8px;
					}

					.status-messages {
						margin-bottom: 12px;

						.biometric__error,
						.biometric__instructions {
							padding: 10px;
							font-size: 12px;
						}
					}

					.compact-instructions {
						margin-bottom: 12px;
						padding: 0;

						p {
							font-size: 12px;
						}
					}
				}
			}
		}
	}
}

// Extra small screens (phones in portrait)
@media (max-width: 480px) {
	.data-biometrics-container {
		padding: 4px;

		.biometrics-content {
			padding: 4px;

			.camera-container {
				padding: 0 4px;

				.camera-view {
					border-radius: 8px;
					margin-bottom: 12px;
				}

				.status-messages {
					margin-bottom: 12px;

					.biometric__error,
					.biometric__instructions {
						padding: 8px;
						font-size: 11px;
					}
				}

				.compact-instructions {
					margin-bottom: 12px;

					p {
						font-size: 11px;
					}
				}
			}
		}

		.api-error-container {
			padding: 16px 4px;

			.api-error-card {
				padding: 16px;
				margin: 0 4px;

				.error-icon {
					font-size: 32px;
				}

				.error-title {
					font-size: 16px;
				}

				.error-message {
					font-size: 13px;
				}
			}
		}

		// Modal context for extra small screens
		&.modal-context {
			.biometrics-content {
				.camera-container {
					padding: 0;

					.camera-view {
						border-radius: 6px;
					}

					.status-messages {
						.biometric__error,
						.biometric__instructions {
							padding: 8px;
							font-size: 11px;
						}
					}

					.compact-instructions {
						p {
							font-size: 11px;
						}
					}
				}
			}
		}
	}
}

// Liveness Detection Styles
.liveness-controls {
	text-align: center;
	margin: 24px 0;
	padding: 20px;
	background: #f8f9fa;
	border-radius: 12px;
	border: 1px solid #e9ecef;

	.btn-liveness {
		background: #007bff;
		border: none;
		border-radius: 8px;
		padding: 12px 24px;
		color: white;
		font-size: 14px;
		font-weight: 600;
		cursor: pointer;
		transition: all 0.2s ease;
		margin-bottom: 12px;

		&:hover {
			background: #0056b3;
			transform: translateY(-1px);
		}
	}

	small {
		color: #6c757d;
		font-size: 12px;
	}
}

.liveness-progress {
	text-align: center;
	margin: 24px 0;
	padding: 24px;
	background: #f8f9fa;
	border-radius: 12px;
	border: 1px solid #e9ecef;

	h3 {
		margin: 0 0 20px 0;
		color: #495057;
		font-size: 18px;
		font-weight: 600;
	}

	.liveness-steps {
		display: flex;
		justify-content: center;
		gap: 20px;
		margin-bottom: 24px;

		.liveness-step {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 8px;
			padding: 16px;
			border-radius: 8px;
			background: white;
			border: 2px solid #e9ecef;
			min-width: 80px;
			transition: all 0.3s ease;

			&.active {
				border-color: #007bff;
				background: #e3f2fd;
				transform: scale(1.05);
			}

			&.completed {
				border-color: #28a745;
				background: #d4edda;
			}

			.step-indicator {
				font-size: 20px;
			}

			.step-info {
				text-align: center;

				.step-name {
					font-weight: 600;
					color: #495057;
					font-size: 12px;
					margin-bottom: 4px;
				}

				.step-angle {
					color: #6c757d;
					font-size: 10px;
				}
			}
		}
	}

	.liveness-instructions {
		background: white;
		padding: 16px;
		border-radius: 8px;
		border: 1px solid #e9ecef;

		.current-step {
			font-weight: 600;
			color: #495057;
			margin-bottom: 8px;
			font-size: 14px;
		}

		.hold-instruction {
			color: #007bff;
			font-weight: 500;
			font-size: 14px;
		}
	}
}
